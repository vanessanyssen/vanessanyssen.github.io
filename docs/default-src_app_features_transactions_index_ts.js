"use strict";(self.webpackChunkrobin=self.webpackChunkrobin||[]).push([["default-src_app_features_transactions_index_ts"],{479:(An,J,d)=>{d.d(J,{mf:()=>_n,NX:()=>yn});var r=d(7691),n=d(4650),u=d(7244),i=d(4006),l=d(9492),A=d(3823),C=d(9928),x=d(7698);const N=e=>e.householdCategory.value===l.XH.Duo,P=e=>{const o=e.controls;return o.fractionOne.invalid||o.fractionTwo.invalid};let R=(()=>{class e{constructor(){(0,r.Z)(this,"injector",(0,n.f3M)(n.lqb)),(0,r.Z)(this,"ctrls",void 0),(0,r.Z)(this,"formArray",void 0),(0,r.Z)(this,"form",function Q(){const e=(0,n.f3M)(i.qu);return e.group({startMonth:e.nonNullable.control("",{validators:[i.kI.required,A.D0.min(l.pw),A.D0.max((0,u.nD)())],updateOn:"blur"}),householdCategory:e.control(null,i.kI.required),beneficiaryInss:e.nonNullable.control("",{validators:[i.kI.required,x.Q.inss],updateOn:"blur"}),beneficiaryGender:e.nonNullable.control(l.Y0.Female,i.kI.required),partnerInss:e.nonNullable.control("",{updateOn:"blur"}),partnerGender:e.nonNullable.control(l.Y0.Male,i.kI.required),items:e.nonNullable.array([])})}()),(0,r.Z)(this,"newItemFactory",()=>this.injector.runInContext(()=>function H(e){const o=(0,n.f3M)(i.qu);return o.group({transferDate:o.nonNullable.control("",{validators:i.kI.required,updateOn:"blur"}),transferValue:o.nonNullable.control("",i.kI.required),fractionOne:o.nonNullable.control("",{validators:[i.kI.required,x.Q.properFraction],updateOn:"blur"}),ownershipOne:o.control(null,i.kI.required),ownerOne:o.control(null,i.kI.required),fractionTwo:o.nonNullable.control("",{validators:x.Q.properFraction,updateOn:"blur"}),ownershipTwo:o.control(null),ownerTwo:o.control(null),reduction:o.nonNullable.control({value:"",disabled:!e})},{validators:[C.h.exclusiveValue(["ownerOne","ownerTwo"],l.Ff.Common),C.h.invalidPairValues(["ownershipOne","ownershipTwo"],[l.nE.Usufruct,l.nE.BareOwnership]),C.h.distinctPairValues([["ownerOne","ownershipOne"],["ownerTwo","ownershipTwo"]]),C.h.conditionalFractionsSumMax(["fractionOne","fractionTwo"],1,P),C.h.allFilledOrNone(["fractionTwo","ownershipTwo","ownerTwo"])]})}(this.isSales))),(0,r.Z)(this,"dynMaxDate",(0,u.Lg)()),(0,r.Z)(this,"filterOwnerOption",null),(0,r.Z)(this,"ResponseView",void 0)}ngOnInit(){this.ctrls=this.form.controls,this.formArray=this.ctrls.items,this.formArray.push(this.newItemFactory()),(e=>{e.beneficiaryInss.addValidators(A.jg.validateIf(()=>N(e),A.jg.notMatchControl(e.partnerInss)))})(this.ctrls),(e=>{e.partnerInss.addValidators(A.jg.validateIf(()=>N(e),[i.kI.required,x.Q.inss,A.jg.notMatchControl(e.beneficiaryInss)]))})(this.ctrls)}resetForm(){this.dynMaxDate=(0,u.Lg)(),this.filterOwnerOption=null,this.formArray.clear(),this.formArray.push(this.newItemFactory())}}return(0,r.Z)(e,"\u0275fac",function(t){return new(t||e)}),(0,r.Z)(e,"\u0275cmp",n.Xpm({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,a){},encapsulation:2,changeDetection:0})),e})();const S=e=>({startDate:(0,u.Vn)(e.startMonth),householdCategory:e.householdCategory,beneficiary:{inss:(0,u.bI)(e.beneficiaryInss),gender:e.beneficiaryGender},...e.partnerInss&&{partner:{inss:(0,u.bI)(e.partnerInss),gender:e.partnerGender}},transfers:e.items.map(o=>({transferDate:(0,u.Vn)(o.transferDate),transferValue:Math.round(100*(0,u.W_)(o.transferValue)),ownership:o.ownerTwo&&o.ownerTwo!==o.ownerOne?"F+M":`${o.ownerOne}`,...B(o),...X(o),...Y(o),...o.reduction&&{reimboursmt:Math.round(100*(0,u.W_)(o.reduction))}}))}),v=(e,o)=>e.ownershipOne===o&&e?.ownershipTwo!==o,b=(e,o)=>e.ownershipOne!==o&&e?.ownershipTwo===o,I=(e,o)=>e.ownershipOne===o&&e?.ownershipTwo===o,F=e=>`${Number(e.fractionOne.split("/")[0])*Number(e.fractionTwo?.split("/")[1])+Number(e.fractionTwo?.split("/")[0])*Number(e.fractionOne.split("/")[1])}/${Number(e.fractionOne.split("/")[1])*Number(e.fractionTwo?.split("/")[1])} `,B=e=>I(e,l.nE.Freehold)?{freehold:F(e)}:v(e,l.nE.Freehold)?{freehold:e.fractionOne}:b(e,l.nE.Freehold)&&{freehold:e.fractionTwo},X=e=>I(e,l.nE.Usufruct)?{usufruct:F(e)}:v(e,l.nE.Usufruct)?{usufruct:e.fractionOne}:b(e,l.nE.Usufruct)&&{usufruct:e.fractionTwo},Y=e=>I(e,l.nE.BareOwnership)?{bareOwnership:F(e)}:v(e,l.nE.BareOwnership)?{bareOwnership:e.fractionOne}:b(e,l.nE.BareOwnership)&&{bareOwnership:e.fractionTwo},D=e=>({form:{startMonth:{data:e.startMonth},householdCategory:{data:e.householdCategory,pipe:"t9nEnum"},beneficiaryInss:{data:e.beneficiaryInss},beneficiaryGender:{data:e.beneficiaryGender},partnerInss:{data:e.partnerInss,class:e.partnerInss?"text-end pe-4":"d-none"},partnerGender:{data:e.partnerGender,class:e.partnerInss?"text-end pe-4":"d-none"}},array:e.items.map(o=>({transferDate:{data:o.transferDate},transferValue:{data:(0,u.R3)(o.transferValue,"\xa0\u20ac")},fractionOne:{data:o.fractionOne,class:"text-end pe-0"},ownershipOne:{data:o.ownershipOne,pipe:"t9nEnum",class:"text-end pe-0"},ownerOne:{data:o.ownerOne,class:"text-end pe-0"},fractionTwo:{data:o.fractionTwo,class:"text-end pe-0"},ownershipTwo:{data:o.ownershipTwo,pipe:"t9nEnum",class:"text-end pe-0"},ownerTwo:{data:o.ownerTwo},reduction:{data:(0,u.R3)(o.reduction,"\xa0\u20ac"),class:o.reduction?"text-end pe-4":"d-none"}}))}),q=e=>({accountedAmount:{data:e/100,class:"result",pipe:"beNumber"}}),L=e=>({index:e.transferNr,amounts:{recent:{data:e.isRecentTransfer,pipe:"t9nEnum"},owner:{data:e.isRecentTransfer&&e.ownerAge?Object.keys(e.ownerAge)[0]:"",pipe:"t9nEnum"},ownerAge:{data:e.isRecentTransfer&&e.ownerAge?Object.values(e.ownerAge)[0]:"",pipe:"beNumber",args:"0"},allocated:{data:e.isRecentTransfer&&e.accountedAmount?e.accountedAmount.result/1e4:"",pipe:"beNumber",args:"4"}},formulas:{allocated:e.isRecentTransfer&&e.accountedAmount?e.accountedAmount.formula:""}}),W=e=>({items:e.transfers.map(o=>L(o)),amounts:{...q(e.deductibleAmount),sum:{data:e.sumAccountedAmounts/1e4,pipe:"beNumber",args:"4"}}}),$=e=>({items:e.transfers.map(o=>z(o)),amounts:{...q(e.deductibleAmount),abated:{data:e.abatedAmount/1e4,pipe:"beNumber",args:"4"}}}),z=e=>{const o=L(e);return{index:o.index,amounts:{...o.amounts,...e.isRecentTransfer&&e.reductedAmount&&e.abatement&&{reducted:{data:e.reductedAmount.result/1e4,pipe:"beNumber",args:"4"},abatement:{data:e.abatement.result/1e4,pipe:"beNumber",args:"4"}}},formulas:{...o.formulas,...e.isRecentTransfer&&e.reductedAmount&&e.abatement&&{reducted:e.reductedAmount.formula,abatement:e.abatement.formula}}}};var p=d(6076),c=d(1117),Z=d(7582),f=d(6895),w=d(2778),m=d(5079),h=d(9377),M=d(5158);function K(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"th",3)(2,"label",13),n._uU(3),n.ALo(4,"t9n"),n.qZA()(),n.BQk()),2&e){const t=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,1,t.t.TRANSACTIONS.reduction))}}function nn(e,o){if(1&e&&(n.TgZ(0,"td",16)(1,"vw-form-field")(2,"div",17),n._UZ(3,"input",33),n.TgZ(4,"span",19),n._UZ(5,"i",22),n.qZA()()()()),2&e){const t=n.oxw().$implicit,a=n.oxw();n.xp6(3),n.s9C("placeholder",a.currencyMask.inputPlaceholder),n.Q6J("formControl",t.controls.reduction)("inputMask",a.currencyMask.options)}}function en(e,o){if(1&e&&(n.TgZ(0,"tr",14)(1,"th",15),n._uU(2),n.qZA(),n.TgZ(3,"td",16)(4,"vw-form-field")(5,"div",17),n._UZ(6,"input",18),n.ALo(7,"t9n"),n.TgZ(8,"span",19),n._UZ(9,"i",20),n.qZA()()()(),n.TgZ(10,"td",16)(11,"vw-form-field")(12,"div",17),n._UZ(13,"input",21),n.TgZ(14,"span",19),n._UZ(15,"i",22),n.qZA()()()(),n.TgZ(16,"td",23)(17,"vw-form-field"),n._UZ(18,"input",24),n.qZA()(),n.TgZ(19,"td",25)(20,"vw-form-field"),n._UZ(21,"select",26),n.ALo(22,"t9n"),n.ALo(23,"map"),n.qZA()(),n.TgZ(24,"td",27)(25,"vw-form-field"),n._UZ(26,"select",26),n.ALo(27,"t9n"),n.ALo(28,"map"),n.qZA()(),n.TgZ(29,"td",23)(30,"vw-form-field"),n._UZ(31,"input",28),n.qZA()(),n.TgZ(32,"td",25)(33,"vw-form-field"),n._UZ(34,"select",29),n.ALo(35,"t9n"),n.ALo(36,"map"),n.qZA()(),n.TgZ(37,"td",27)(38,"vw-form-field"),n._UZ(39,"select",29),n.ALo(40,"t9n"),n.ALo(41,"map"),n.qZA()(),n.YNc(42,nn,6,3,"td",30),n.TgZ(43,"td",31),n._UZ(44,"app-form-array-remove-row",32),n.qZA()()),2&e){const t=o.$implicit,a=o.index,s=n.oxw();n.s9C("formGroupName",a),n.xp6(2),n.Oqu(a+1),n.xp6(4),n.s9C("placeholder",n.lcZ(7,41,s.t.FORM.DATE_FORMAT)),n.Q6J("formControl",t.controls.transferDate)("inputMask",s.dateMask.options)("overriddenMessages",s.dateMask.errorMessage)("dynMaxDate",s.dynMaxDate),n.xp6(7),n.s9C("placeholder",s.currencyMask.inputPlaceholder),n.Q6J("formControl",t.controls.transferValue)("inputMask",s.currencyMask.options),n.xp6(5),n.s9C("placeholder",s.fractionMask.inputPlaceholder),n.Q6J("formControl",t.controls.fractionOne)("inputMask",s.fractionMask.options)("overriddenMessages",s.fractionMask.errorMessage),n.xp6(3),n.s9C("placeholder",n.lcZ(22,43,s.t.FORM.CHOOSE)),n.Q6J("formControl",t.controls.ownershipOne)("options",s.ownershipOptions)("texts",n.xi3(23,45,s.ownershipOptions,"t9nEnum"))("selectedOption",t.value.ownershipOne),n.xp6(5),n.s9C("placeholder",n.lcZ(27,48,s.t.FORM.CHOOSE)),n.Q6J("formControl",t.controls.ownerOne)("options",s.filteredOwnerOptions)("texts",n.xi3(28,50,s.filteredOwnerOptions,"t9nEnum"))("selectedOption",t.value.ownerOne),n.xp6(5),n.s9C("placeholder",s.fractionMask.inputPlaceholder),n.Q6J("formControl",t.controls.fractionTwo)("inputMask",s.fractionMask.options)("overriddenMessages",s.fractionMask.errorMessage),n.xp6(3),n.s9C("placeholder",n.lcZ(35,53,s.t.FORM.CHOOSE)),n.Q6J("formControl",t.controls.ownershipTwo)("options",s.ownershipOptions)("texts",n.xi3(36,55,s.ownershipOptions,"t9nEnum"))("selectedOption",t.value.ownershipTwo),n.xp6(5),n.s9C("placeholder",n.lcZ(40,58,s.t.FORM.CHOOSE)),n.Q6J("formControl",t.controls.ownerTwo)("options",s.filteredOwnerOptions)("texts",n.xi3(41,60,s.filteredOwnerOptions,"t9nEnum"))("selectedOption",t.value.ownerTwo),n.xp6(3),n.Q6J("ngIf",s.isSales),n.xp6(2),n.Q6J("vwVisibleIf",s.arrayFormRows.length>1)("rowIndex",a)}}class O{constructor(){(0,r.Z)(this,"formGroupDirective",(0,n.f3M)(i.sg)),(0,r.Z)(this,"currencyMask",w.Pu),(0,r.Z)(this,"dateMask",w.X8),(0,r.Z)(this,"fractionMask",w.WS),(0,r.Z)(this,"genderOptions",(0,u.s0)(l.Y0)),(0,r.Z)(this,"overriddenMessages",{exlusiveValue:o=>({key:"EXCLUSIVE_COMMUNITY"}),distinctPairValues:o=>({key:"DISTINCT_OWNER_OWNERSHIP"}),invalidPairValues:o=>({key:"INCOMPATIBLE_OWNERSHIP"})}),(0,r.Z)(this,"ownershipOptions",(0,u.s0)(l.nE)),(0,r.Z)(this,"t",(0,n.f3M)(h.OS)),(0,r.Z)(this,"arrayFormRows",void 0),(0,r.Z)(this,"filteredOwnerOptions",(0,u.s0)(l.Ff)),(0,r.Z)(this,"dynMaxDate",void 0),(0,r.Z)(this,"isSales",!1),(0,r.Z)(this,"newItemFactory",void 0)}set filterOwnerOption(o){this.filteredOwnerOptions=(0,u.s0)(o?(0,l.$X)(o):l.Ff),o&&this.arrayFormRows.map(t=>{const a=t.controls;[a.ownerOne,a.ownerTwo].forEach(s=>{s.value&&o===s.value&&s.setValue(null)})})}ngOnInit(){this.arrayFormRows=this.formGroupDirective.form.controls.items.controls}}(0,r.Z)(O,"\u0275fac",function(o){return new(o||O)}),(0,r.Z)(O,"\u0275cmp",n.Xpm({type:O,selectors:[["app-transactions-form-array"]],inputs:{dynMaxDate:"dynMaxDate",isSales:"isSales",newItemFactory:"newItemFactory",filterOwnerOption:"filterOwnerOption"},standalone:!0,features:[n._Bn([],[{provide:i.gN,useExisting:i.sg}]),n.jDz],decls:32,vars:22,consts:[["appFormArrayErrorsContainer","",1,"table-responsive","mb-3"],["formArrayName","items",1,"table",3,"overriddenMessages"],[1,"caption-top"],["scope","col"],[1,"none"],["id","transferDate",1,"required"],["id","transferValue",1,"required"],["scope","colgroup","colspan","3"],["id","realRights_Share_1",1,"required"],["id","realRights_Share_2"],[4,"ngIf"],[3,"newItemFactory"],[3,"formGroupName",4,"ngFor","ngForOf"],["id","reduction"],[3,"formGroupName"],["scope","row",1,"mw-xs"],[1,"mw-lg"],["appFormControlErrorsContainer","",1,"input-group"],["type","text","aria-labelledby","transferDate",1,"form-control",3,"formControl","inputMask","placeholder","overriddenMessages","dynMaxDate"],[1,"input-group-text"],[1,"fa-regular","fa-calendar-check"],["vwResetValueIfEmpty","","type","text","aria-labelledby","transferValue",1,"form-control",3,"formControl","inputMask","placeholder"],[1,"fa-solid","fa-euro-sign"],[1,"pe-0","mw-sm"],["type","text","aria-labelledby","realRights_Share_1",1,"form-control",3,"formControl","inputMask","placeholder","overriddenMessages"],[1,"px-0","mw-md"],["aria-labelledby","realRights_Share_1",1,"form-select",3,"formControl","placeholder","options","texts","selectedOption"],[1,"ps-0","mw-md"],["type","text","aria-labelledby","realRights_Share_2",1,"form-control",3,"formControl","inputMask","placeholder","overriddenMessages"],["aria-labelledby","realRights_Share_2",1,"form-select",3,"formControl","placeholder","options","texts","selectedOption"],["class","mw-lg",4,"ngIf"],[1,"mw-xs"],[3,"vwVisibleIf","rowIndex"],["vwResetValueIfEmpty","","type","text","aria-labelledby","reduction",1,"form-control",3,"formControl","inputMask","placeholder"]],template:function(o,t){1&o&&(n.TgZ(0,"div",0)(1,"table",1)(2,"caption",2),n._uU(3),n.ALo(4,"t9n"),n.qZA(),n.TgZ(5,"thead")(6,"tr")(7,"th",3)(8,"label",4),n._uU(9),n.ALo(10,"t9n"),n.qZA()(),n.TgZ(11,"th",3)(12,"label",5),n._uU(13),n.ALo(14,"t9n"),n.qZA()(),n.TgZ(15,"th",3)(16,"label",6),n._uU(17),n.ALo(18,"t9n"),n.qZA()(),n.TgZ(19,"th",7)(20,"label",8),n._uU(21),n.ALo(22,"t9n"),n.qZA()(),n.TgZ(23,"th",7)(24,"label",9),n._uU(25),n.ALo(26,"t9n"),n.qZA()(),n.YNc(27,K,5,3,"ng-container",10),n.TgZ(28,"th",3),n._UZ(29,"app-form-array-add-row",11),n.qZA()()(),n.TgZ(30,"tbody"),n.YNc(31,en,45,63,"tr",12),n.qZA()()()),2&o&&(n.xp6(1),n.Q6J("overriddenMessages",t.overriddenMessages),n.xp6(2),n.Oqu(n.lcZ(4,10,t.isSales?t.t.ROUTES.SALES:t.t.ROUTES.DONATIONS)),n.xp6(6),n.Oqu(n.lcZ(10,12,t.t.FORM.ROW_NUMBER)),n.xp6(4),n.Oqu(n.lcZ(14,14,t.t.TRANSACTIONS.date)),n.xp6(4),n.Oqu(n.lcZ(18,16,t.t.TRANSACTIONS.value)),n.xp6(4),n.hij("",n.lcZ(22,18,t.t.PROPERTIES.REALRIGHTS_SHARE)," 1"),n.xp6(4),n.hij("",n.lcZ(26,20,t.t.PROPERTIES.REALRIGHTS_SHARE)," 2"),n.xp6(2),n.Q6J("ngIf",t.isSales),n.xp6(2),n.Q6J("newItemFactory",t.newItemFactory),n.xp6(2),n.Q6J("ngForOf",t.arrayFormRows))},dependencies:[f.ax,f.O5,i.UX,i.Fj,i.EJ,i.JJ,i.JL,i.oH,i.x0,i.CE,p.Zg,p.tS,p.wh,p.tJ,m.hg,m.LW,m.vA,m.go,m.OY,m.IQ,M.zz,M.J6,w.t4,p.$9,p.Uw,c.zm,h.Oj,c.bP],encapsulation:2,changeDetection:0})),(0,Z.gn)([c.aH],O.prototype,"dynMaxDate",void 0),(0,Z.gn)([c.aH],O.prototype,"newItemFactory",void 0),(0,Z.gn)([c.aH],O.prototype,"filterOwnerOption",null);const E=function(e){return[e]};function tn(e,o){if(1&e){const t=n.EpF();n.TgZ(0,"div",1)(1,"vw-form-field",2),n.ALo(2,"t9n"),n.TgZ(3,"div",8)(4,"div",9)(5,"input",14),n.NdJ("change",function(){n.CHM(t);const s=n.oxw();return n.KtG(s.ctrls.beneficiaryInss.updateValueAndValidity())}),n.qZA(),n.TgZ(6,"span",5),n._UZ(7,"i",11),n.qZA()(),n._UZ(8,"vw-button-group",15),n.ALo(9,"t9n"),n.ALo(10,"map"),n.qZA()()()}if(2&e){const t=n.oxw();n.xp6(1),n.s9C("label",n.lcZ(2,11,t.t.TRANSACTIONS.PARTNERINSSGENDER)),n.xp6(4),n.s9C("placeholder",t.inssMask.inputPlaceholder),n.Q6J("formControl",t.ctrls.partnerInss)("inputMask",t.inssMask.options)("overriddenMessages",t.overriddenMessages),n.xp6(3),n.s9C("ariaLabel",n.lcZ(9,13,t.t.TRANSACTIONS.partnerGender)),n.Q6J("fixedWidthPx",39)("options",n.VKq(18,E,t.ctrls.partnerGender.value))("texts",n.xi3(10,15,n.VKq(20,E,t.ctrls.partnerGender.value),"t9nEnum"))("selectedOption",t.ctrls.partnerGender.value)("disabled",!0)}}class g{constructor(){(0,r.Z)(this,"formGroupDirective",(0,n.f3M)(i.sg)),(0,r.Z)(this,"HouseholdCategory",l.XH),(0,r.Z)(this,"genderOptions",(0,u.s0)(l.Y0)),(0,r.Z)(this,"householdCategoryOptions",(0,u.s0)(l.XH)),(0,r.Z)(this,"inssMask",w.kn),(0,r.Z)(this,"monthMask",w.Cy),(0,r.Z)(this,"overriddenMessages",{...w.kn.errorMessage,notMatch:o=>({key:"INSS_DIFFERENT"})}),(0,r.Z)(this,"t",(0,n.f3M)(h.OS)),(0,r.Z)(this,"ctrls",void 0),(0,r.Z)(this,"dynMaxDate",void 0),(0,r.Z)(this,"filterOwnerOption",void 0),(0,r.Z)(this,"dynMaxDateChange",new n.vpe),(0,r.Z)(this,"filterOwnerOptionChange",new n.vpe)}ngOnInit(){this.ctrls=this.formGroupDirective.form.controls}emitMaxDateChange(o){const t=o?o.value:"";this.dynMaxDateChange.emit(t?(0,u.t3)(t):(0,u.Lg)())}resetOwnerInss(){this.ctrls.householdCategory.value===l.XH.Mono&&(this.ctrls.partnerInss.reset(),this.ctrls.partnerInss.updateValueAndValidity(),this.ctrls.beneficiaryInss.updateValueAndValidity())}resetOwnerList(){this.filterOwnerOptionChange.emit(this.ctrls.householdCategory.value===l.XH.Mono?this.ctrls.partnerGender.value:null)}setBeneficiaryGender(o){this.ctrls.beneficiaryGender.setValue(o),this.ctrls.partnerGender.setValue((0,l.pO)(o)),this.ctrls.householdCategory.value===l.XH.Mono&&this.filterOwnerOptionChange.emit((0,l.pO)(o))}}(0,r.Z)(g,"\u0275fac",function(o){return new(o||g)}),(0,r.Z)(g,"\u0275cmp",n.Xpm({type:g,selectors:[["app-transactions-form-inline"]],inputs:{dynMaxDate:"dynMaxDate",filterOwnerOption:"filterOwnerOption"},outputs:{dynMaxDateChange:"dynMaxDateChange",filterOwnerOptionChange:"filterOwnerOptionChange"},standalone:!0,features:[n._Bn([],[{provide:i.gN,useExisting:i.sg}]),n.jDz],decls:27,vars:40,consts:[[1,"row","g-2"],[1,"col-xl-3","col-md-6","mb-3"],["labelClass","form-label",3,"label"],["appFormControlErrorsContainer","",1,"input-group"],["type","text",1,"form-control",3,"formControl","inputMask","placeholder","overriddenMessages","blur"],[1,"input-group-text"],[1,"fa-regular","fa-calendar-check"],[1,"form-select",3,"formControl","placeholder","options","texts","selectedOption","change"],["appFormControlErrorsContainer","",1,"d-flex","flex-col"],[1,"input-group","pe-2"],["id","beneficiaryInss","type","text",1,"form-control",3,"formControl","inputMask","placeholder","overriddenMessages","change"],[1,"fa-solid","fa-id-card"],["color","outline-primary",3,"ariaLabel","fixedWidthPx","options","texts","selectedOption","selectOption"],["class","col-xl-3 col-md-6 mb-3",4,"ngIf"],["type","text",1,"form-control",3,"formControl","inputMask","placeholder","overriddenMessages","change"],["color","outline-secondary",3,"ariaLabel","fixedWidthPx","options","texts","selectedOption","disabled"]],template:function(o,t){1&o&&(n.TgZ(0,"div",0)(1,"div",1)(2,"vw-form-field",2),n.ALo(3,"t9n"),n.TgZ(4,"div",3)(5,"input",4),n.NdJ("blur",function(s){return t.emitMaxDateChange(s.target)}),n.ALo(6,"t9n"),n.qZA(),n.TgZ(7,"span",5),n._UZ(8,"i",6),n.qZA()()()(),n.TgZ(9,"div",1)(10,"vw-form-field",2),n.ALo(11,"t9n"),n.TgZ(12,"select",7),n.NdJ("change",function(){return t.resetOwnerList(),t.resetOwnerInss()}),n.ALo(13,"t9n"),n.ALo(14,"map"),n.qZA()()(),n.TgZ(15,"div",1)(16,"vw-form-field",2),n.ALo(17,"t9n"),n.TgZ(18,"div",8)(19,"div",9)(20,"input",10),n.NdJ("change",function(){return t.ctrls.partnerInss.updateValueAndValidity()}),n.qZA(),n.TgZ(21,"span",5),n._UZ(22,"i",11),n.qZA()(),n.TgZ(23,"vw-button-group",12),n.NdJ("selectOption",function(s){return t.setBeneficiaryGender(s)}),n.ALo(24,"t9n"),n.ALo(25,"map"),n.qZA()()()(),n.YNc(26,tn,11,22,"div",13),n.qZA()),2&o&&(n.xp6(2),n.s9C("label",n.lcZ(3,22,t.t.TRANSACTIONS.startMonth)),n.xp6(3),n.s9C("placeholder",n.lcZ(6,24,t.t.FORM.MONTH_FORMAT)),n.Q6J("formControl",t.ctrls.startMonth)("inputMask",t.monthMask.options)("overriddenMessages",t.monthMask.errorMessage),n.xp6(5),n.s9C("label",n.lcZ(11,26,t.t.TRANSACTIONS.householdCategory)),n.xp6(2),n.s9C("placeholder",n.lcZ(13,28,t.t.FORM.CHOOSE)),n.Q6J("formControl",t.ctrls.householdCategory)("options",t.householdCategoryOptions)("texts",n.xi3(14,30,t.householdCategoryOptions,"t9nEnum"))("selectedOption",t.ctrls.householdCategory.value),n.xp6(4),n.s9C("label",n.lcZ(17,33,t.t.TRANSACTIONS.BENEFICIARYINSSGENDER)),n.xp6(4),n.s9C("placeholder",t.inssMask.inputPlaceholder),n.Q6J("formControl",t.ctrls.beneficiaryInss)("inputMask",t.inssMask.options)("overriddenMessages",t.overriddenMessages),n.xp6(3),n.s9C("ariaLabel",n.lcZ(24,35,t.t.TRANSACTIONS.beneficiaryGender)),n.Q6J("fixedWidthPx",39)("options",t.genderOptions)("texts",n.xi3(25,37,t.genderOptions,"t9nEnum"))("selectedOption",t.ctrls.beneficiaryGender.value),n.xp6(3),n.Q6J("ngIf",t.ctrls.householdCategory.value===t.HouseholdCategory.Duo))},dependencies:[f.O5,i.UX,i.Fj,i.EJ,i.JJ,i.oH,p.Zg,p.tS,m.hg,m.LW,m.vA,m.go,m.IQ,M.zz,M.J6,m.Kb,h.Oj,c.bP],encapsulation:2,changeDetection:0})),(0,Z.gn)([c.aH],g.prototype,"dynMaxDate",void 0),(0,Z.gn)([c.aH],g.prototype,"filterOwnerOption",void 0);var U=d(663);function on(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"th",8),n._uU(2),n.ALo(3,"t9n"),n.ALo(4,"get"),n.qZA(),n.BQk()),2&e){const t=o.$implicit,a=n.oxw(2);n.xp6(1),n.Gre("text-end pe-4 ",t.value.class,""),n.xp6(1),n.hij(" ",n.lcZ(3,4,n.xi3(4,6,a.t[a.prefix],t.key)),"")}}function rn(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"td"),n._uU(2),n.ALo(3,"apply"),n.qZA(),n.BQk()),2&e){const t=o.$implicit;n.xp6(1),n.Gre("text-end pe-4 ",t.value.class,""),n.xp6(1),n.hij(" ",n.Dn7(3,4,t.value.data,t.value.pipe,t.value.args),"")}}function an(e,o){if(1&e&&(n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.YNc(3,rn,4,8,"ng-container",7),n.ALo(4,"keyvalue"),n.qZA()),2&e){const t=o.$implicit,a=o.index,s=n.oxw(2);n.xp6(2),n.Oqu(a+1),n.xp6(1),n.Q6J("ngForOf",n.xi3(4,2,t.amounts,s.sort))}}function sn(e,o){if(1&e&&(n.TgZ(0,"div",3)(1,"table",4)(2,"caption",5),n._uU(3),n.ALo(4,"t9n"),n.qZA(),n.TgZ(5,"thead")(6,"tr")(7,"th",6),n._uU(8),n.ALo(9,"t9n"),n.qZA(),n.YNc(10,on,5,9,"ng-container",7),n.ALo(11,"keyvalue"),n.qZA()(),n.TgZ(12,"tbody"),n.YNc(13,an,5,5,"tr",7),n.qZA()(),n.Hsn(14),n.qZA()),2&e){const t=o.ngIf,a=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,4,a.t.DOMAIN[a.prefix])),n.xp6(5),n.Oqu(n.lcZ(9,6,a.t.FORM.ROW_NUMBER)),n.xp6(2),n.Q6J("ngForOf",n.xi3(11,8,null==t[0]?null:t[0].amounts,a.sort)),n.xp6(3),n.Q6J("ngForOf",t)}}function ln(e,o){if(1&e&&(n.TgZ(0,"tr")(1,"th",10),n._uU(2),n.ALo(3,"t9n"),n.ALo(4,"get"),n.qZA(),n.TgZ(5,"td",11),n._uU(6),n.ALo(7,"apply"),n.qZA()()),2&e){const t=o.$implicit,a=n.oxw(2);n.Tol(t.value.class),n.xp6(2),n.Oqu(n.lcZ(3,5,n.xi3(4,7,a.t[a.prefix],t.key))),n.xp6(4),n.hij(" ",n.Dn7(7,10,t.value.data,t.value.pipe,t.value.args),"")}}function pn(e,o){if(1&e&&(n.TgZ(0,"div",3)(1,"table",4)(2,"tbody"),n.YNc(3,ln,8,14,"tr",9),n.ALo(4,"keyvalue"),n.qZA()()()),2&e){const t=o.ngIf,a=n.oxw();n.xp6(3),n.Q6J("ngForOf",n.xi3(4,1,t,a.sort))}}class _{constructor(){(0,r.Z)(this,"prefix",(0,n.f3M)(U.pv).getValue()),(0,r.Z)(this,"sort",u.qF),(0,r.Z)(this,"t",(0,n.f3M)(h.OS)),(0,r.Z)(this,"responseView",void 0)}}function un(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"th",9),n._uU(2),n.ALo(3,"t9n"),n.ALo(4,"get"),n.qZA(),n.BQk()),2&e){const t=o.$implicit,a=n.oxw(3);n.xp6(2),n.Oqu(n.lcZ(3,1,n.xi3(4,3,a.t[a.prefix],t.key)))}}function dn(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"td")(2,"code"),n._uU(3),n.qZA()(),n.BQk()),2&e){const t=o.$implicit;n.xp6(3),n.Oqu(t.value)}}function mn(e,o){if(1&e&&(n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.YNc(3,dn,4,1,"ng-container",8),n.ALo(4,"keyvalue"),n.qZA()),2&e){const t=o.$implicit,a=o.index,s=n.oxw(3);n.xp6(2),n.Oqu(a+1),n.xp6(1),n.Q6J("ngForOf",n.xi3(4,2,t.formulas,s.sort))}}function fn(e,o){if(1&e&&(n.TgZ(0,"div",4)(1,"table",5)(2,"caption",6),n._uU(3),n.ALo(4,"t9n"),n.qZA(),n.TgZ(5,"thead")(6,"tr")(7,"th",7),n._uU(8),n.ALo(9,"t9n"),n.qZA(),n.YNc(10,un,5,6,"ng-container",8),n.ALo(11,"keyvalue"),n.qZA()(),n.TgZ(12,"tbody"),n.YNc(13,mn,5,5,"tr",8),n.qZA()()()),2&e){const t=n.oxw(2);n.xp6(3),n.Oqu(n.lcZ(4,4,t.t.DOMAIN[t.prefix])),n.xp6(5),n.Oqu(n.lcZ(9,6,t.t.FORM.ROW_NUMBER)),n.xp6(2),n.Q6J("ngForOf",n.xi3(11,8,null==t.responseView.items[0]?null:t.responseView.items[0].formulas,t.sort)),n.xp6(3),n.Q6J("ngForOf",t.responseView.items)}}function hn(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"vw-card",1),n.ALo(2,"t9n"),n.ynx(3,2),n._uU(4),n.ALo(5,"t9n"),n.BQk(),n.YNc(6,fn,14,11,"div",3),n.qZA(),n.BQk()),2&e){const t=n.oxw();n.xp6(1),n.s9C("ariaLabel",n.lcZ(2,3,t.t.FORM.FORMULA)),n.xp6(3),n.Oqu(n.lcZ(5,5,t.t.FORM.FORMULA)),n.xp6(2),n.Q6J("ngIf",t.responseView.items&&(null==t.responseView.items[0]?null:t.responseView.items[0].formulas))}}(0,r.Z)(_,"\u0275fac",function(o){return new(o||_)}),(0,r.Z)(_,"\u0275cmp",n.Xpm({type:_,selectors:[["app-transactions-response-amounts"]],inputs:{responseView:"responseView"},standalone:!0,features:[n.jDz],ngContentSelectors:["*"],decls:7,vars:8,consts:[[3,"ariaLabel"],["slotCardSubtitle",""],["class","table-responsive mb-3",4,"ngIf"],[1,"table-responsive","mb-3"],[1,"table","table-sm","w-auto"],[1,"caption-top"],["scope","col",1,"pe-4"],[4,"ngFor","ngForOf"],["scope","col"],[3,"class",4,"ngFor","ngForOf"],["scope","row",1,"pe-4"],[1,"text-end","pe-4"]],template:function(o,t){1&o&&(n.F$t(),n.TgZ(0,"vw-card",0),n.ALo(1,"t9n"),n.ynx(2,1),n._uU(3),n.ALo(4,"t9n"),n.BQk(),n.YNc(5,sn,15,11,"div",2),n.YNc(6,pn,5,4,"div",2),n.qZA()),2&o&&(n.s9C("ariaLabel",n.lcZ(1,4,t.t.FORM.AMOUNTS)),n.xp6(3),n.Oqu(n.lcZ(4,6,t.t.FORM.AMOUNTS)),n.xp6(2),n.Q6J("ngIf",t.responseView.items),n.xp6(1),n.Q6J("ngIf",t.responseView.amounts))},dependencies:[f.O5,f.ax,f.Nd,h.Oj,m.Ak,c.bZ,c.JW],encapsulation:2,changeDetection:0})),(0,Z.gn)([c.aH],_.prototype,"responseView",void 0);class T{constructor(){(0,r.Z)(this,"prefix",(0,n.f3M)(U.pv).getValue()),(0,r.Z)(this,"sort",u.qF),(0,r.Z)(this,"t",(0,n.f3M)(h.OS)),(0,r.Z)(this,"responseView",void 0)}}(0,r.Z)(T,"\u0275fac",function(o){return new(o||T)}),(0,r.Z)(T,"\u0275cmp",n.Xpm({type:T,selectors:[["app-transactions-response-formulas"]],inputs:{responseView:"responseView"},standalone:!0,features:[n.jDz],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ariaLabel"],["slotCardSubtitle",""],["class","table-responsive mb-3",4,"ngIf"],[1,"table-responsive","mb-3"],[1,"table","table-sm","col-12"],[1,"caption-top"],["scope","col",1,"pe-4"],[4,"ngFor","ngForOf"],["scope","col"]],template:function(o,t){1&o&&n.YNc(0,hn,7,7,"ng-container",0),2&o&&n.Q6J("ngIf",t.responseView.items&&(null==t.responseView.items[0]?null:t.responseView.items[0].formulas))},dependencies:[f.O5,f.ax,f.Nd,h.Oj,m.Ak,c.JW],encapsulation:2,changeDetection:0})),(0,Z.gn)([c.aH],T.prototype,"responseView",void 0);var k=d(2860);const gn=(0,p.Po)((()=>{class e{constructor(){(0,r.Z)(this,"api",(0,n.f3M)(k.uA))}getResult(t){return this.api.post(this.api.endpoints.donations,t)}}return(0,r.Z)(e,"\u0275fac",function(t){return new(t||e)}),(0,r.Z)(e,"\u0275prov",n.Yz7({token:e,factory:e.\u0275fac})),e})());function wn(e,o){if(1&e&&n._UZ(0,"app-transactions-response-amounts",4)(1,"app-transactions-response-formulas",4),2&e){const t=o.$implicit;n.Q6J("responseView",t),n.xp6(1),n.Q6J("responseView",t)}}let _n=(()=>{class e extends R{constructor(...t){super(...t),(0,r.Z)(this,"isSales",!1)}}return(0,r.Z)(e,"\u0275fac",function(){let o;return function(a){return(o||(o=n.n5z(e)))(a||e)}}()),(0,r.Z)(e,"\u0275cmp",n.Xpm({type:e,selectors:[["app-transactions-donations-container"]],standalone:!0,features:[n._Bn([],[gn,(0,p.N3)(D),(0,p.sj)(S),(0,p.nx)(W)]),n.qOj,n.jDz],decls:4,vars:8,consts:[[3,"formGroup","isReset"],[3,"dynMaxDate","filterOwnerOption","dynMaxDateChange","filterOwnerOptionChange"],[3,"newItemFactory","filterOwnerOption","dynMaxDate","isSales"],[3,"typeOf"],[3,"responseView"]],template:function(t,a){1&t&&(n.TgZ(0,"app-base-form-container",0),n.NdJ("isReset",function(){return a.resetForm()}),n.TgZ(1,"app-transactions-form-inline",1),n.NdJ("dynMaxDateChange",function(y){return a.dynMaxDate=y})("filterOwnerOptionChange",function(y){return a.filterOwnerOption=y}),n.qZA(),n._UZ(2,"app-transactions-form-array",2),n.YNc(3,wn,2,2,"ng-template",3),n.qZA()),2&t&&(n.Q6J("formGroup",a.form),n.xp6(1),n.Q6J("dynMaxDate",a.dynMaxDate)("filterOwnerOption",a.filterOwnerOption),n.xp6(1),n.Q6J("newItemFactory",a.newItemFactory)("filterOwnerOption",a.filterOwnerOption)("dynMaxDate",a.dynMaxDate)("isSales",a.isSales),n.xp6(1),n.Q6J("typeOf",a.ResponseView))},dependencies:[i.UX,i.JL,i.sg,p.wM,g,O,_,T,c.Co],encapsulation:2,changeDetection:0})),e})(),Tn=(()=>{class e{constructor(){(0,r.Z)(this,"api",(0,n.f3M)(k.uA))}getResult(t){return this.api.post(this.api.endpoints.sales,t)}}return(0,r.Z)(e,"\u0275fac",function(t){return new(t||e)}),(0,r.Z)(e,"\u0275prov",n.Yz7({token:e,factory:e.\u0275fac})),e})();function Zn(e,o){if(1&e&&n._UZ(0,"app-transactions-response-amounts",4)(1,"app-transactions-response-formulas",4),2&e){const t=o.$implicit;n.Q6J("responseView",t),n.xp6(1),n.Q6J("responseView",t)}}let yn=(()=>{class e extends R{constructor(...t){super(...t),(0,r.Z)(this,"isSales",!0)}}return(0,r.Z)(e,"\u0275fac",function(){let o;return function(a){return(o||(o=n.n5z(e)))(a||e)}}()),(0,r.Z)(e,"\u0275cmp",n.Xpm({type:e,selectors:[["app-transactions-sales-container"]],standalone:!0,features:[n._Bn([],[(0,p.Po)(Tn),(0,p.N3)(D),(0,p.sj)(S),(0,p.nx)($)]),n.qOj,n.jDz],decls:4,vars:8,consts:[[3,"formGroup","isReset"],[3,"dynMaxDate","filterOwnerOption","dynMaxDateChange","filterOwnerOptionChange"],[3,"newItemFactory","filterOwnerOption","dynMaxDate","isSales"],[3,"typeOf"],[3,"responseView"]],template:function(t,a){1&t&&(n.TgZ(0,"app-base-form-container",0),n.NdJ("isReset",function(){return a.resetForm()}),n.TgZ(1,"app-transactions-form-inline",1),n.NdJ("dynMaxDateChange",function(y){return a.dynMaxDate=y})("filterOwnerOptionChange",function(y){return a.filterOwnerOption=y}),n.qZA(),n._UZ(2,"app-transactions-form-array",2),n.YNc(3,Zn,2,2,"ng-template",3),n.qZA()),2&t&&(n.Q6J("formGroup",a.form),n.xp6(1),n.Q6J("dynMaxDate",a.dynMaxDate)("filterOwnerOption",a.filterOwnerOption),n.xp6(1),n.Q6J("newItemFactory",a.newItemFactory)("filterOwnerOption",a.filterOwnerOption)("dynMaxDate",a.dynMaxDate)("isSales",a.isSales),n.xp6(1),n.Q6J("typeOf",a.ResponseView))},dependencies:[i.UX,i.JL,i.sg,p.wM,g,O,_,T,c.Co],encapsulation:2,changeDetection:0})),e})()}}]);