"use strict";(self.webpackChunkrobin=self.webpackChunkrobin||[]).push([["src_app_pages_robin_amounts_amounts_page_ts"],{4297:(N,m,a)=>{a.r(m),a.d(m,{default:()=>M});var r=a(7691),l=a(6895),t=a(4650),u=a(4004),d=a(8502),h=a(262),A=a(9646),f=a(6076),p=a(1117),v=a(4757),i=a(5079),Z=a(7244),y=a(663),c=a(9377),C=a(2860);let g=(()=>{class e{constructor(){(0,r.Z)(this,"api",(0,t.f3M)(C._y))}getHouseholdAmountsByStartDate(){return this.api.get(this.api.endpoints.groupAmounts,{by:"startDate",filter:"household"})}getMedicalAmountsByStartDate(){return this.api.get(this.api.endpoints.groupAmounts,{by:"startDate",filter:"medical"})}}return(0,r.Z)(e,"\u0275fac",function(o){return new(o||e)}),(0,r.Z)(e,"\u0275prov",t.Yz7({token:e,factory:e.\u0275fac})),e})();function S(e,s){if(1&e&&(t.TgZ(0,"div",5)(1,"vw-expandable-table",6),t.ALo(2,"map"),t.ALo(3,"t9n"),t.TgZ(4,"h5",7),t._uU(5),t.ALo(6,"t9n"),t.qZA()()()),2&e){const o=s.ngIf,n=t.oxw();t.xp6(1),t.s9C("expandLabel",t.lcZ(3,7,n.t.FORM.EXPAND_ALL)),t.Q6J("data",o)("headers",t.xi3(2,4,n.headers,"t9n")),t.xp6(4),t.Oqu(t.lcZ(6,9,n.t.AMOUNTS.medicalCategories))}}function L(e,s){1&e&&t._UZ(0,"app-form-response-error",8),2&e&&t.Q6J("error",s.ngIf)}function O(e,s){if(1&e&&(t.TgZ(0,"div",5)(1,"vw-expandable-table",6),t.ALo(2,"map"),t.ALo(3,"t9n"),t.TgZ(4,"h5",7),t._uU(5),t.ALo(6,"t9n"),t.qZA()()()),2&e){const o=s.ngIf,n=t.oxw();t.xp6(1),t.s9C("expandLabel",t.lcZ(3,7,n.t.FORM.EXPAND_ALL)),t.Q6J("data",o)("headers",t.xi3(2,4,n.headers,"t9n")),t.xp6(4),t.Oqu(t.lcZ(6,9,n.t.AMOUNTS.householdCategories))}}function x(e,s){1&e&&t._UZ(0,"app-form-response-error",8),2&e&&t.Q6J("error",s.ngIf)}let T=(()=>{class e{constructor(){(0,r.Z)(this,"allowanceAmountsService",(0,t.f3M)(g)),(0,r.Z)(this,"injector",(0,t.f3M)(t.lqb)),(0,r.Z)(this,"loadingState$",(0,t.f3M)(y.vw).state$),(0,r.Z)(this,"t",(0,t.f3M)(c.OS)),(0,r.Z)(this,"errorHousehold$",void 0),(0,r.Z)(this,"errorMedical$",void 0),(0,r.Z)(this,"headers",void 0),(0,r.Z)(this,"householdAmounts$",void 0),(0,r.Z)(this,"medicalAmounts$",void 0)}ngOnInit(){this.headers=[this.t.AMOUNTS.startDate,this.t.AMOUNTS.category,this.t.AMOUNTS.amount],this.medicalAmounts$=this.allowanceAmountsService.getMedicalAmountsByStartDate().pipe((0,u.U)(o=>this.amountsByStartDateViewAdapter(o))),this.errorMedical$=this.medicalAmounts$.pipe((0,d.l)(),(0,h.K)(o=>(0,A.of)(o))),this.householdAmounts$=this.allowanceAmountsService.getHouseholdAmountsByStartDate().pipe((0,u.U)(o=>this.amountsByStartDateViewAdapter(o))),this.errorHousehold$=this.householdAmounts$.pipe((0,d.l)(),(0,h.K)(o=>(0,A.of)(o)))}amountAdapter(o){return{startDate:o.startDate?(0,Z.O4)(o.startDate):"\xa0",category:o.category?this.injector.runInContext(()=>(0,v.T)(o.category,this.t.ENUMS)):"\xa0",amount:(0,v.W)(o.amount)||"\xa0"}}amountsByStartDateViewAdapter(o){return o.map(n=>({parent:this.amountAdapter(n.parent),children:n.children.map($=>this.amountAdapter($))}))}}return(0,r.Z)(e,"\u0275fac",function(o){return new(o||e)}),(0,r.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["app-amounts-container"]],standalone:!0,features:[t._Bn([g]),t.jDz],decls:16,vars:18,consts:[[1,"row"],[1,"col-xl-6","col-12","col-print-6"],["class","table-responsive mb-3",4,"ngIf"],[3,"error",4,"ngIf"],["vwNoPrint","",1,"float-end",3,"disabled"],[1,"table-responsive","mb-3"],[3,"data","headers","expandLabel"],["slotCaption","",1,"d-inline","text-dark"],[3,"error"]],template:function(o,n){1&o&&(t.TgZ(0,"vw-card")(1,"div",0)(2,"div",1),t.YNc(3,S,7,11,"div",2),t.ALo(4,"async"),t.YNc(5,L,1,1,"app-form-response-error",3),t.ALo(6,"async"),t.qZA(),t.TgZ(7,"div",1),t.YNc(8,O,7,11,"div",2),t.ALo(9,"async"),t.YNc(10,x,1,1,"app-form-response-error",3),t.ALo(11,"async"),t.qZA()(),t.TgZ(12,"vw-print-button",4),t.ALo(13,"async"),t._uU(14),t.ALo(15,"t9n"),t.qZA()()),2&o&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,6,n.medicalAmounts$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,8,n.errorMedical$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(9,10,n.householdAmounts$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,12,n.errorHousehold$)),t.xp6(2),t.Q6J("disabled",!!t.lcZ(13,14,n.loadingState$)),t.xp6(2),t.Oqu(t.lcZ(15,16,n.t.FORM.PRINT)))},dependencies:[l.O5,l.Ov,c.Oj,i.Ak,f.n9,i.i5,p.Hr,i.Lz,p.bP],encapsulation:2,changeDetection:0})),e})();var D=a(9492);let M=(()=>{class e extends((0,D.Y2)()){}return(0,r.Z)(e,"\u0275fac",function(){let s;return function(n){return(s||(s=t.n5z(e)))(n||e)}}()),(0,r.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["page-amounts"]],standalone:!0,features:[t.qOj,t.jDz],decls:1,vars:0,template:function(o,n){1&o&&t._UZ(0,"app-amounts-container")},dependencies:[T],encapsulation:2,changeDetection:0})),e})()}}]);