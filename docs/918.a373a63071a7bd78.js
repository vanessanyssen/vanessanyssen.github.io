"use strict";(self.webpackChunkrobin=self.webpackChunkrobin||[]).push([[918],{797:(j,M,s)=>{s.d(M,{dU:()=>F,t4:()=>w,Ox:()=>_,Pu:()=>d,X8:()=>y,WS:()=>g,kn:()=>c,jH:()=>v,Cy:()=>q});var e=s(5158);const n={showMaskOnFocus:!1,showMaskOnHover:!1,undoOnEscape:!1},T={groupSeparator:" ",allowMinus:!1,shortcuts:{k:"",m:""}},h=(0,e.Xf)({...n,mask:"99.99.99-999.99"}),u=(0,e.Xf)({...n,regex:"^[1-9]\\d*/[1-9]\\d*$"}),p=(0,e.Xf)({...n,alias:"integer",...T}),l=(0,e.Xf)({...n,alias:"currency",...T,radixPoint:","}),I=(0,e.Xf)({...l,digits:4}),A=(0,e.Xf)({...n,inputmode:"text",alias:"datetime",inputFormat:"dd/mm/yyyy",placeholder:"_"}),b=(0,e.Xf)({...A,inputFormat:"mm/yyyy"}),U={inputMask:m=>({key:"INVALID_MONTH_FORMAT",interpolateParams:{requiredMask:b.inputFormat?.toUpperCase()}})},S={inputMask:m=>({key:"INVALID_DATE_FORMAT",interpolateParams:{requiredMask:A.inputFormat?.toUpperCase()}})},c={options:h,placeholder:"00.00.00-000.00",errorMessage:{inputMask:m=>({key:"INVALID_FORMAT",interpolateParams:{requiredMask:"00.00.00-000.00"}})}},g={options:u,placeholder:"1/1",errorMessage:{inputMask:m=>({key:"INVALID_FRACTION"})}},v={options:p,placeholder:"0"},d={options:l,placeholder:"0,00"},_={options:I,placeholder:"0,0000"},y={options:A,errorMessage:S},q={options:b,errorMessage:U};var x=s(4650),O=s(4006);let w=(()=>{class m{constructor(){this.elRef=(0,x.f3M)(x.SBq,{self:!0}),this.formControlNameDirective=(0,x.f3M)(O.u,{self:!0})}onBlur(){""!==this.formControlNameDirective.control.value&&""===this.elRef.nativeElement.value&&this.formControlNameDirective.control.setValue("")}}return m.\u0275fac=function(P){return new(P||m)},m.\u0275dir=x.lG2({type:m,selectors:[["input","formControlName","","vwResetValueIfEmpty",""]],hostBindings:function(P,Q){1&P&&x.NdJ("blur",function(){return Q.onBlur()})},standalone:!0}),m})();const F=[e.zz,w]},9918:(j,M,s)=>{s.r(M),s.d(M,{PropertiesPage:()=>ie});var e=s(4650),n=s(4006),T=s(8268),h=s(7508),u=s(4290),p=s(7402),l=s(8723);const A=(t,r)=>t===p.Ff.Common?"COMMUNITY":t===r?"BENEFICIARY":"PARTNER",b=t=>({withPartner:t.householdCategory===p.XH.Duo,...t.childrenCount&&"0"!==t.childrenCount&&{dependantChildren:Number(t.childrenCount)},properties:t.items.map(r=>({nature:r.nature,cadastralIncome:(0,l.W_)(r.cadastralIncome),realRights:r.fractionTwo&&r.ownershipTwo&&r.ownerTwo?[{fraction:r.fractionOne,ownership:r.ownershipOne,owner:A(r.ownerOne,t.beneficiaryGender)},{fraction:r.fractionTwo,ownership:r.ownershipTwo,owner:A(r.ownerTwo,t.beneficiaryGender)}]:[{fraction:r.fractionOne,ownership:r.ownershipOne,owner:A(r.ownerOne,t.beneficiaryGender)}]}))}),U=t=>({form:{householdCategory:{data:t.householdCategory,pipe:"enum"},beneficiaryGender:{data:t.beneficiaryGender,class:t.householdCategory===p.XH.Duo?"":"d-none",pipe:"enum"},childrenCount:{data:t.childrenCount??"",class:t.childrenCount?"":"d-none"}},array:t.items.map(r=>({nature:{data:r.nature,pipe:"enum"},cadastralIncome:{data:(0,l.R3)(r.cadastralIncome," \u20ac")},fractionOne:{data:r.fractionOne,class:"text-end pe-0"},ownershipOne:{data:r.ownershipOne,pipe:"enum",class:"text-end pe-0"},ownerOne:{data:r.ownerOne,class:"text-end pe-0"},fractionTwo:{data:r.fractionTwo,class:"text-end pe-0"},ownershipTwo:{data:r.ownershipTwo,pipe:"enum",class:"text-end pe-0"},ownerTwo:{data:r.ownerTwo}}))}),S=t=>({properties:t.properties.map(r=>({nature:{data:r.nature,pipe:"enum"},cadastralIncome:{data:r.cadastralIncome,pipe:"number",args:"0"},fractionsSum:{data:r.fractionsSum},correctionFactor:{data:r.correctionFactor},effectiveValue:{data:r.effectiveValue,pipe:"number",args:"4"}})),totalByNature:t.totalByNature.map(r=>({nature:{data:r.nature,pipe:"enum"},sum:{data:r.sum,pipe:"number",args:"4"},exoneration:{...r.exoneration.base&&{base:{data:r.exoneration.base,pipe:"number",args:"0"},forDependantChildren:{data:r.exoneration.forDependantChildren,pipe:"number",args:"0"}},total:{data:r.exoneration.total,pipe:"number",args:"0"}},exonerated:{data:r.exonerated,pipe:"number",args:"4"},multiplier:{data:r.multiplier,pipe:"number",args:"0"},total:{data:r.total,pipe:"number",args:"4"}})),total:{data:t.total,pipe:"currency",args:"2"}});var R=s(655),f=s(6895),c=s(8453),g=s(797),v=s(4370),d=s(167),_=s(3416),y=s(5158);function q(t,r){if(1&t&&(e.TgZ(0,"tr",11)(1,"th",12),e._uU(2),e.qZA(),e.TgZ(3,"td",13)(4,"vw-form-field"),e._UZ(5,"select",14),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"td",13)(8,"vw-form-field")(9,"div",15),e._UZ(10,"input",16),e.TgZ(11,"span",17),e._UZ(12,"i",18),e.qZA()()()(),e.TgZ(13,"td",19)(14,"vw-form-field"),e._UZ(15,"input",20),e.qZA()(),e.TgZ(16,"td",21)(17,"vw-form-field"),e._UZ(18,"select",22),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"td",23)(21,"vw-form-field"),e._UZ(22,"select",24),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"td",19)(25,"vw-form-field"),e._UZ(26,"input",25),e.qZA()(),e.TgZ(27,"td",21)(28,"vw-form-field"),e._UZ(29,"select",26),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"td",23)(32,"vw-form-field"),e._UZ(33,"select",27),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"td",28),e._UZ(36,"app-form-array-remove-row",29),e.qZA()()),2&t){const o=r.$implicit,i=r.index,a=e.oxw();let E,L,k,D,J;e.Q6J("formGroupName",i),e.xp6(2),e.Oqu(i+1),e.xp6(3),e.s9C("placeholder",e.lcZ(6,27,a.t.FORM.CHOOSE)),e.Q6J("options",a.natureOptions)("ariaSelected",null!==(E=o.value.nature)&&void 0!==E?E:null),e.xp6(5),e.s9C("placeholder",a.integerMask.placeholder),e.Q6J("inputMask",a.integerMask.options),e.xp6(5),e.s9C("placeholder",a.fractionMask.placeholder),e.Q6J("inputMask",a.fractionMask.options)("overriddenMessages",a.fractionMask.errorMessage),e.xp6(3),e.s9C("placeholder",e.lcZ(19,29,a.t.FORM.CHOOSE)),e.Q6J("options",a.ownershipOptions)("ariaSelected",null!==(L=o.value.ownershipOne)&&void 0!==L?L:null),e.xp6(4),e.s9C("placeholder",e.lcZ(23,31,a.t.FORM.CHOOSE)),e.Q6J("options",a.filteredOwnerOptions)("ariaSelected",null!==(k=o.value.ownerOne)&&void 0!==k?k:null),e.xp6(4),e.s9C("placeholder",a.fractionMask.placeholder),e.Q6J("inputMask",a.fractionMask.options)("overriddenMessages",a.fractionMask.errorMessage),e.xp6(3),e.s9C("placeholder",e.lcZ(30,33,a.t.FORM.CHOOSE)),e.Q6J("options",a.ownershipOptions)("ariaSelected",null!==(D=o.value.ownershipTwo)&&void 0!==D?D:null),e.xp6(4),e.s9C("placeholder",e.lcZ(34,35,a.t.FORM.CHOOSE)),e.Q6J("options",a.filteredOwnerOptions)("ariaSelected",null!==(J=o.value.ownerTwo)&&void 0!==J?J:null),e.xp6(3),e.Q6J("vwVisibleIf",a.arrayFormRows.length>1)("rowIndex",i)}}class O{constructor(){this.formGroupDirective=(0,e.f3M)(n.sg),this.fractionMask=g.WS,this.integerMask=g.jH,this.natureOptions=(0,l._Y)((0,l.s0)(p.kJ),(0,l.s0)(p.kJ).map(r=>(0,v.pg)(r))),this.overriddenMessages={exlusiveValue:r=>({key:"COMMUNITY"}),distinctCombination:r=>({key:"COMBINATION_RIGHTS"})},this.ownershipOptions=(0,l._Y)((0,l.s0)(p.nE),(0,l.s0)(p.nE).map(r=>(0,v.pg)(r))),this.t=(0,e.f3M)(v.$z),this.filteredOwnerOptions=(0,l._Y)((0,l.s0)(p.Ff))}set filterOwnerOption(r){this.filteredOwnerOptions=(0,l._Y)((0,l.s0)(r?(0,p.$X)(r):p.Ff)),r&&this.arrayFormRows.map(o=>{const i=o.controls;[i.ownerOne,i.ownerTwo].forEach(a=>{a.value&&r===a.value&&a.setValue(null)})})}ngOnInit(){this.arrayFormRows=this.formGroupDirective.form.controls.items.controls}}O.\u0275fac=function(r){return new(r||O)},O.\u0275cmp=e.Xpm({type:O,selectors:[["app-properties-form-array"]],inputs:{newItemFactory:"newItemFactory",filterOwnerOption:"filterOwnerOption"},standalone:!0,features:[e._Bn([],[{provide:n.gN,useExisting:n.sg}]),e.jDz],decls:29,vars:18,consts:[["appFormArrayErrorsContainer","",1,"table-responsive","mb-3"],["formArrayName","items",1,"table",3,"overriddenMessages"],[1,"caption-top"],["scope","col"],["id","nature",1,"required"],["id","cadastralIncome",1,"required"],["scope","colgroup","colspan","3"],["id","realRights_Share_1",1,"required"],["id","realRights_Share_2"],[3,"newItemFactory"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["scope","row",1,"mw-xs"],[1,"mw-lg"],["formControlName","nature","aria-labelledby","nature","vw-form-select-options","",1,"form-select",3,"placeholder","options","ariaSelected"],["appFormControlErrorsContainer","",1,"input-group"],["vwResetValueIfEmpty","","type","text","formControlName","cadastralIncome","aria-labelledby","cadastralIncome",1,"form-control",3,"inputMask","placeholder"],[1,"input-group-text"],[1,"fa-solid","fa-euro-sign"],[1,"pe-0","mw-sm"],["formControlName","fractionOne","type","text","aria-labelledby","realRights_Share_1",1,"form-control",3,"inputMask","placeholder","overriddenMessages"],[1,"px-0","mw-md"],["formControlName","ownershipOne","aria-labelledby","realRights_Share_1","vw-form-select-options","",1,"form-select",3,"placeholder","options","ariaSelected"],[1,"ps-0","mw-md"],["formControlName","ownerOne","aria-labelledby","realRights_Share_1","vw-form-select-options","",1,"form-select",3,"placeholder","options","ariaSelected"],["formControlName","fractionTwo","type","text","aria-labelledby","realRights_Share_2",1,"form-control",3,"inputMask","placeholder","overriddenMessages"],["formControlName","ownershipTwo","aria-labelledby","realRights_Share_2","vw-form-select-options","",1,"form-select",3,"placeholder","options","ariaSelected"],["formControlName","ownerTwo","aria-labelledby","realRights_Share_2","vw-form-select-options","",1,"form-select",3,"placeholder","options","ariaSelected"],[1,"mw-xs"],[3,"vwVisibleIf","rowIndex"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"table",1)(2,"caption",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"thead")(6,"tr")(7,"th",3),e._uU(8,"#"),e.qZA(),e.TgZ(9,"th",3)(10,"label",4),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"th",3)(14,"label",5),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"th",6)(18,"label",7),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"th",6)(22,"label",8),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"th",3),e._UZ(26,"app-form-array-add-row",9),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,q,37,37,"tr",10),e.qZA()()()),2&r&&(e.xp6(1),e.Q6J("overriddenMessages",o.overriddenMessages),e.xp6(2),e.Oqu(e.lcZ(4,8,o.t.DOMAIN.PROPERTIES)),e.xp6(8),e.Oqu(e.lcZ(12,10,o.t.PROPERTIES.nature)),e.xp6(4),e.Oqu(e.lcZ(16,12,o.t.PROPERTIES.cadastralIncome)),e.xp6(4),e.hij("",e.lcZ(20,14,o.t.PROPERTIES.REALRIGHTS_SHARE)," 1"),e.xp6(4),e.hij("",e.lcZ(24,16,o.t.PROPERTIES.REALRIGHTS_SHARE)," 2"),e.xp6(3),e.Q6J("newItemFactory",o.newItemFactory),e.xp6(2),e.Q6J("ngForOf",o.arrayFormRows))},dependencies:[f.ax,n.UX,n.Fj,n.EJ,n.JJ,n.JL,n.u,n.x0,n.CE,_.aw,_.X$,c.Zg,c.tS,c.wh,c.tJ,d.hg,d.LW,d.vA,d.IQ,y.zz,y.J6,g.t4,c.$9,c.Uw,u.zm],encapsulation:2,changeDetection:0}),(0,R.gn)([u.aH],O.prototype,"newItemFactory",void 0);var w=s(1004);class Z{constructor(){this.formGroupDirective=(0,e.f3M)(n.sg),this.genderOptions=p.uz,this.householdCategories=p.XH,this.householdCategoryOptions=p.k0,this.integerMask=g.jH,this.maxChildren=String(20),this.t=(0,e.f3M)(h.$z),this.filterOwnerOptionChange=new e.vpe}ngOnInit(){this.ctrls=this.formGroupDirective.form.controls}resetOwnerList(){this.ctrls.householdCategory.value===this.householdCategories.Mono?this.ctrls.beneficiaryGender.value&&this.filterOwnerOptionChange.emit((0,p.pO)(this.ctrls.beneficiaryGender.value)):this.filterOwnerOptionChange.emit(null)}setBeneficiaryGender(r){this.ctrls.beneficiaryGender.setValue(r),this.ctrls.householdCategory.value===this.householdCategories.Mono&&this.filterOwnerOptionChange.emit((0,p.pO)(r))}}Z.\u0275fac=function(r){return new(r||Z)},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-properties-form-inline"]],inputs:{filterOwnerOption:"filterOwnerOption"},outputs:{filterOwnerOptionChange:"filterOwnerOptionChange"},standalone:!0,features:[e._Bn([],[{provide:n.gN,useExisting:n.sg}]),e.jDz],decls:20,vars:23,consts:[[1,"row","g-2"],[1,"col-lg-3","col-md-4","col-sm-6","mb-3"],["labelClass","form-label",3,"label"],["formControlName","householdCategory","vw-form-select-options","",1,"form-select",3,"placeholder","options","ariaSelected","change"],[1,"form-label","required"],[1,"d-block","btn-group"],["role","radiogroup","color","outline-primary",3,"options","selectedOption","selectOption"],["appFormControlErrorsContainer","",1,"input-group"],["vwResetValueIfEmpty","","type","text","formControlName","childrenCount",1,"form-control","text-start",3,"inputMask","placeholder","maxLength"],[1,"input-group-text"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"vw-form-field",2),e.ALo(3,"translate"),e.TgZ(4,"select",3),e.NdJ("change",function(){return o.resetOwnerList()}),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",1)(7,"label",4),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",5)(11,"vw-button-group",6),e.NdJ("selectOption",function(a){return o.setBeneficiaryGender(a)}),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",1)(14,"vw-form-field",2),e.ALo(15,"translate"),e.TgZ(16,"div",7),e._UZ(17,"input",8),e.TgZ(18,"span",9),e._uU(19),e.qZA()()()()()),2&r&&(e.xp6(2),e.Q6J("label",e.lcZ(3,13,o.t.PROPERTIES.householdCategory)),e.xp6(2),e.s9C("placeholder",e.lcZ(5,15,o.t.FORM.CHOOSE)),e.Q6J("options",o.householdCategoryOptions)("ariaSelected",o.ctrls.householdCategory.value),e.xp6(4),e.hij(" ",e.lcZ(9,17,o.t.PROPERTIES.beneficiaryGender),""),e.xp6(3),e.Q6J("options",o.genderOptions)("selectedOption",o.ctrls.beneficiaryGender.value),e.uIk("aria-label",e.lcZ(12,19,o.t.PROPERTIES.beneficiaryGender)),e.xp6(3),e.Q6J("label",e.lcZ(15,21,o.t.PROPERTIES.childrenCount)),e.xp6(3),e.s9C("placeholder",o.integerMask.placeholder),e.s9C("maxLength",o.maxChildren.length),e.Q6J("inputMask",o.integerMask.options),e.xp6(2),e.hij("\u2264 ",o.maxChildren,""))},dependencies:[n.UX,n.Fj,n.EJ,n.JJ,n.u,_.aw,_.X$,c.Zg,c.tS,d.hg,d.LW,d.vA,d.IQ,y.zz,y.J6,g.t4,d.Kb],encapsulation:2,changeDetection:0}),(0,R.gn)([u.aH],Z.prototype,"filterOwnerOption",void 0);var H=s(7600),X=s(3476);function G(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"th",2),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"t9nIn"),e.qZA(),e.BQk()),2&t){const o=r.$implicit,i=e.oxw();e.xp6(1),e.Tol(o.value.class),e.xp6(1),e.Oqu(e.lcZ(3,3,e.xi3(4,5,o.key,i.t[i.prefix])))}}function B(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"td",2),e._uU(2),e.ALo(3,"dynamicPipe"),e.qZA(),e.BQk()),2&t){const o=r.$implicit;e.xp6(1),e.Tol(o.value.class),e.xp6(1),e.hij(" ",e.Dn7(3,3,o.value.data,o.value.pipe,o.value.args),"")}}function Y(t,r){if(1&t&&(e.TgZ(0,"tr")(1,"td",2),e._uU(2),e.qZA(),e.YNc(3,B,4,7,"ng-container",3),e.ALo(4,"keyvalue"),e.qZA()),2&t){const o=r.$implicit,i=r.index,a=e.oxw();e.xp6(2),e.Oqu(i+1),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,o,a.sort))}}function z(t,r){if(1&t&&(e.TgZ(0,"tr")(1,"th",9),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"td",11),e._uU(8,"-"),e.qZA(),e.TgZ(9,"td",11),e._uU(10),e.ALo(11,"dynamicPipe"),e.qZA()()),2&t){const o=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,5,i.t.PROPERTIES.EXONERATION)),e.xp6(3),e.Oqu(e.lcZ(6,7,i.t.PROPERTIES.BASE)),e.xp6(4),e.ekj("border-bottom",!o.exoneration.forDependantChildren),e.xp6(1),e.hij(" ",e.Dn7(11,9,o.exoneration.base.data,o.exoneration.base.pipe,o.exoneration.base.args)," ")}}function $(t,r){if(1&t&&(e.TgZ(0,"tr")(1,"th",17),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td",11),e._uU(5,"-"),e.qZA(),e.TgZ(6,"td",11),e._uU(7),e.ALo(8,"dynamicPipe"),e.qZA()()),2&t){const o=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,4,i.t.PROPERTIES.EXONERATION)),e.xp6(4),e.ekj("border-bottom",!o.exoneration.forDependantChildren),e.xp6(1),e.hij(" ",e.Dn7(8,6,o.exoneration.total.data,o.exoneration.total.pipe,o.exoneration.total.args)," ")}}function V(t,r){if(1&t&&(e.TgZ(0,"tr"),e._UZ(1,"th"),e.TgZ(2,"td",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"td",11),e._uU(6,"-"),e.qZA(),e.TgZ(7,"td",18),e._uU(8),e.ALo(9,"dynamicPipe"),e.qZA()()),2&t){const o=e.oxw().$implicit,i=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,2,i.t.PROPERTIES.FOR_DEPENDENT_CHILDREN)),e.xp6(5),e.hij(" ",e.Dn7(9,4,o.exoneration.forDependantChildren.data,o.exoneration.forDependantChildren.pipe,o.exoneration.forDependantChildren.args)," ")}}function K(t,r){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const o=e.oxw().index;e.xp6(1),e.hij(" (",o+1,")")}}function W(t,r){if(1&t&&(e.TgZ(0,"small"),e._UZ(1,"i",4),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&t){const o=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,1,o.t.PROPERTIES.FOR_DEPENDENT_CHILDREN_INFO),"")}}function ee(t,r){if(1&t&&(e.TgZ(0,"small"),e._UZ(1,"i",4),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&t){const o=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,1,o.t.PROPERTIES.UNBUILT_EXONERATION_INFO),"")}}function te(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"table",12)(2,"caption",13),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"dynamicPipe"),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",14),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"td",11),e._uU(12),e.ALo(13,"dynamicPipe"),e.qZA()(),e.YNc(14,z,12,13,"tr",15),e.YNc(15,$,9,10,"ng-template",null,16,e.W1O),e.YNc(17,V,10,8,"tr",10),e.TgZ(18,"tr")(19,"th",14),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"td",11),e._uU(23),e.ALo(24,"dynamicPipe"),e.qZA()(),e.TgZ(25,"tr")(26,"th",17),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"td",11),e._uU(30,"x"),e.qZA(),e.TgZ(31,"td",18),e._uU(32),e.ALo(33,"dynamicPipe"),e.qZA()(),e.TgZ(34,"tr")(35,"th",19),e._uU(36),e.ALo(37,"translate"),e.YNc(38,K,2,1,"span",10),e.qZA(),e.TgZ(39,"td",20),e._uU(40),e.ALo(41,"dynamicPipe"),e.qZA()()()(),e.YNc(42,W,4,3,"small",10),e.YNc(43,ee,4,3,"small",10),e.qZA()),2&t){const o=r.$implicit,i=e.MAs(16),a=e.oxw();e.xp6(3),e.AsE("",e.lcZ(4,16,a.t.PROPERTIES.SUM_FOR),' "',e.Dn7(5,18,o.nature.data,o.nature.pipe,o.nature.args),'" '),e.xp6(6),e.Oqu(e.lcZ(10,22,a.t.PROPERTIES.SUM)),e.xp6(3),e.hij(" ",e.Dn7(13,24,o.sum.data,o.sum.pipe,o.sum.args),""),e.xp6(2),e.Q6J("ngIf",o.exoneration.base)("ngIfElse",i),e.xp6(3),e.Q6J("ngIf",o.exoneration.forDependantChildren),e.xp6(3),e.Oqu(e.lcZ(21,28,a.t.PROPERTIES.EXONERATED)),e.xp6(3),e.hij(" ",e.Dn7(24,30,o.exonerated.data,o.exonerated.pipe,o.exonerated.args),""),e.xp6(4),e.Oqu(e.lcZ(28,34,a.t.PROPERTIES.MULTIPLIER)),e.xp6(5),e.hij(" ",e.Dn7(33,36,o.multiplier.data,o.multiplier.pipe,o.multiplier.args),""),e.xp6(4),e.hij("",e.lcZ(37,40,a.t.PROPERTIES.TOTAL)," "),e.xp6(2),e.Q6J("ngIf",2===a.result.totalByNature.length),e.xp6(2),e.hij(" ",e.Dn7(41,42,o.total.data,o.total.pipe,o.total.args),""),e.xp6(2),e.Q6J("ngIf",o.exoneration.forDependantChildren),e.xp6(1),e.Q6J("ngIf",o.nature.data===a.propertyNature.NotBuilt)}}function oe(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1," (1) + (2)"),e.qZA())}class C{constructor(){this.prefix=(0,e.f3M)(H.pv).getValue(),this.sort=l.qF,this.t=(0,e.f3M)(h.$z),this.propertyNature=p.kJ}}C.\u0275fac=function(r){return new(r||C)},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-properties-form-response"]],inputs:{result:"result"},standalone:!0,features:[e.jDz],decls:27,vars:18,consts:[[1,"table-responsive","mb-3"],[1,"table","table-sm","w-auto"],[1,"text-end","pe-4"],[4,"ngFor","ngForOf"],[1,"fa-solid","fa-circle-info"],[1,"d-flex","flex-wrap","mb-3"],["class","table-responsive mb-3",4,"ngFor","ngForOf"],[1,"table","table-sm","table-borderless","w-auto"],[1,"result"],[1,"pe-4"],[4,"ngIf"],[1,"text-end","px-4"],[1,"table","table-sm","table-borderless","w-auto","align-self-start","me-5","border","rounded"],[1,"caption-top"],["colspan","3",1,"pe-4"],[4,"ngIf","ngIfElse"],["tmplExonerationTotal",""],["colspan","2",1,"pe-4"],[1,"text-end","px-4","border-bottom"],["colspan","3"],[1,"text-end","fw-bold","px-4"],[1,"text-nowrap"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),e._uU(5,"#"),e.qZA(),e.YNc(6,G,5,8,"ng-container",3),e.ALo(7,"keyvalue"),e.qZA()(),e.TgZ(8,"tbody"),e.YNc(9,Y,5,5,"tr",3),e.qZA()(),e.TgZ(10,"small"),e._UZ(11,"i",4),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",5),e.YNc(15,te,44,46,"div",6),e.qZA(),e.TgZ(16,"div",0)(17,"table",7)(18,"tbody")(19,"tr",8)(20,"th",9),e._uU(21),e.ALo(22,"translate"),e.YNc(23,oe,2,0,"span",10),e.qZA(),e.TgZ(24,"td",11),e._uU(25),e.ALo(26,"dynamicPipe"),e.qZA()()()()()),2&r&&(e.xp6(6),e.Q6J("ngForOf",e.xi3(7,7,o.result.properties[0],o.sort)),e.xp6(3),e.Q6J("ngForOf",o.result.properties),e.xp6(3),e.hij(" ",e.lcZ(13,10,o.t.PROPERTIES.CORRECTION_FACTOR_INFO),""),e.xp6(3),e.Q6J("ngForOf",o.result.totalByNature),e.xp6(6),e.hij("",e.lcZ(22,12,o.t.PROPERTIES.TOTAL_INCOME)," "),e.xp6(2),e.Q6J("ngIf",2===o.result.totalByNature.length),e.xp6(2),e.hij(" ",e.Dn7(26,14,o.result.total.data,o.result.total.pipe,o.result.total.args),""))},dependencies:[f.ax,f.O5,h.H7,_.aw,_.X$,f.Nd,u.mK,X.e],encapsulation:2,changeDetection:0}),(0,R.gn)([u.aH],C.prototype,"result",void 0);let re=(()=>{class t extends h.i8{constructor(){super(...arguments),this.api=(0,e.f3M)(h.SZ)}getResult(o){return this.api.post(this.api.endpoints.properties,o)}}return t.\u0275fac=function(){let r;return function(i){return(r||(r=e.n5z(t)))(i||t)}}(),t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();function ne(t,r){1&t&&e._UZ(0,"app-properties-form-response",4),2&t&&e.Q6J("result",r.$implicit)}let ae=(()=>{class t{constructor(){this.injector=(0,e.f3M)(e.lqb),this.form=function m(){const t=(0,e.f3M)(n.qu);return t.group({householdCategory:t.control(null,n.kI.required),beneficiaryGender:t.nonNullable.control(p.Y0.Female,n.kI.required),childrenCount:t.nonNullable.control("",n.kI.max(20)),items:t.nonNullable.array([])})}(),this.newItemFactory=()=>this.injector.runInContext(()=>function N(){const t=(0,e.f3M)(n.qu);return t.group({nature:t.control(null,n.kI.required),cadastralIncome:t.nonNullable.control("",n.kI.required),fractionOne:t.nonNullable.control("",{validators:[n.kI.required,w.nk],updateOn:"blur"}),ownershipOne:t.control(null,n.kI.required),ownerOne:t.control(null,n.kI.required),fractionTwo:t.nonNullable.control("",{validators:[w.nk],updateOn:"blur"}),ownershipTwo:t.control(null),ownerTwo:t.control(null)},{validators:[(0,w.h5)(["ownerOne","ownerTwo"],p.Ff.Common),(0,w.dP)([["ownerOne","ownershipOne"],["ownerTwo","ownershipTwo"]]),(0,w.oD)(["fractionTwo","ownershipTwo","ownerTwo"]),(0,w._4)(["ownershipOne","fractionOne"],["ownershipTwo","fractionTwo"])]})}())}ngOnInit(){this.formArray=this.form.controls.items,this.formArray.push(this.newItemFactory())}resetForm(){this.filterOwnerOption=null,this.formArray.clear(),this.formArray.push(this.newItemFactory())}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-properties-container"]],standalone:!0,features:[e._Bn([],[{provide:h.OC,useClass:re},{provide:T.TO,useValue:U},{provide:T.Me,useValue:b},{provide:T.Ng,useValue:S}]),e.jDz],decls:4,vars:5,consts:[[3,"formGroup","isReset"],[3,"filterOwnerOption","filterOwnerOptionChange"],[3,"newItemFactory","filterOwnerOption"],[3,"typeOf"],[3,"result"]],template:function(o,i){1&o&&(e.TgZ(0,"app-base-form-container",0),e.NdJ("isReset",function(){return i.resetForm()}),e.TgZ(1,"app-properties-form-inline",1),e.NdJ("filterOwnerOptionChange",function(E){return i.filterOwnerOption=E}),e.qZA(),e._UZ(2,"app-properties-form-array",2),e.YNc(3,ne,1,1,"ng-template",3),e.qZA()),2&o&&(e.Q6J("formGroup",i.form),e.xp6(1),e.Q6J("filterOwnerOption",i.filterOwnerOption),e.xp6(1),e.Q6J("newItemFactory",i.newItemFactory)("filterOwnerOption",i.filterOwnerOption),e.xp6(1),e.Q6J("typeOf",i.propertiesVM))},dependencies:[n.UX,n.JL,n.sg,T.wM,Z,O,u.Co,C],encapsulation:2,changeDetection:0}),t})(),ie=(()=>{class t extends((0,p.Y2)()){}return t.\u0275fac=function(){let r;return function(i){return(r||(r=e.n5z(t)))(i||t)}}(),t.\u0275cmp=e.Xpm({type:t,selectors:[["page-properties"]],standalone:!0,features:[e.qOj,e.jDz],decls:1,vars:0,template:function(o,i){1&o&&e._UZ(0,"app-properties-container")},dependencies:[ae],encapsulation:2,changeDetection:0}),t})()}}]);