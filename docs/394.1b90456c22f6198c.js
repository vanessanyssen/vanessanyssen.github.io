"use strict";(self.webpackChunkrobin=self.webpackChunkrobin||[]).push([[394],{797:(E,y,r)=>{r.d(y,{dU:()=>Z,t4:()=>T,Ox:()=>M,Pu:()=>w,X8:()=>k,WS:()=>F,kn:()=>C,jH:()=>I,Cy:()=>O});var t=r(5158);const i={showMaskOnFocus:!1,showMaskOnHover:!1,undoOnEscape:!1},c={groupSeparator:" ",allowMinus:!1,shortcuts:{k:"",m:""}},f=(0,t.Xf)({...i,mask:"99.99.99-999.99"}),v=(0,t.Xf)({...i,regex:"^[1-9]\\d*/[1-9]\\d*$"}),e=(0,t.Xf)({...i,alias:"integer",...c}),u=(0,t.Xf)({...i,alias:"currency",...c,radixPoint:","}),g=(0,t.Xf)({...u,digits:4}),p=(0,t.Xf)({...i,inputmode:"text",alias:"datetime",inputFormat:"dd/mm/yyyy",placeholder:"_"}),m=(0,t.Xf)({...p,inputFormat:"mm/yyyy"}),R={inputMask:l=>({key:"INVALID_MONTH_FORMAT",interpolateParams:{requiredMask:m.inputFormat?.toUpperCase()}})},h={inputMask:l=>({key:"INVALID_DATE_FORMAT",interpolateParams:{requiredMask:p.inputFormat?.toUpperCase()}})},C={options:f,placeholder:"00.00.00-000.00",errorMessage:{inputMask:l=>({key:"INVALID_FORMAT",interpolateParams:{requiredMask:"00.00.00-000.00"}})}},F={options:v,placeholder:"1/1",errorMessage:{inputMask:l=>({key:"INVALID_FRACTION"})}},I={options:e,placeholder:"0"},w={options:u,placeholder:"0,00"},M={options:g,placeholder:"0,0000"},k={options:p,errorMessage:h},O={options:m,errorMessage:R};var d=r(4650),N=r(4006);let T=(()=>{class l{constructor(){this.elRef=(0,d.f3M)(d.SBq,{self:!0}),this.formControlNameDirective=(0,d.f3M)(N.u,{self:!0})}onBlur(){""!==this.formControlNameDirective.control.value&&""===this.elRef.nativeElement.value&&this.formControlNameDirective.control.setValue("")}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275dir=d.lG2({type:l,selectors:[["input","formControlName","","vwResetValueIfEmpty",""]],hostBindings:function(n,a){1&n&&d.NdJ("blur",function(){return a.onBlur()})},standalone:!0}),l})();const Z=[t.zz,T]},8394:(E,y,r)=>{r.r(y),r.d(y,{AllowanceFromReductionPage:()=>l});var t=r(4006),i=r(6113),c=r(8268),f=r(7508),v=r(4290),e=r(4650),u=r(8453),g=r(797),p=r(7402),m=r(167),R=r(3416),h=r(5158);let A=(()=>{class o{constructor(){this.formGroupDirective=(0,e.f3M)(t.sg),this.currencyMask=g.Pu,this.medicalCategoryOptions=p.Z$,this.monthMask=g.Cy,this.mpMinDate=p.pw,this.t=(0,e.f3M)(f.$z)}ngOnInit(){this.ctrls=this.formGroupDirective.form.controls}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-allowance-from-reduction-form-inline"]],standalone:!0,features:[e._Bn([],[{provide:t.gN,useExisting:t.sg}]),e.jDz],decls:21,vars:21,consts:[["vwFormResetObserver","",1,"row","g-2"],[1,"col-lg-3","col-md-6","mb-5"],["labelClass","form-label",3,"label"],["appFormControlErrorsContainer","",1,"input-group"],["formControlName","month","type","text",1,"form-control",3,"placeholder","inputMask","overriddenMessages"],[1,"input-group-text"],[1,"fa-regular","fa-calendar-check"],["formControlName","medicalCategory","vw-form-select-options","",1,"form-select",3,"placeholder","options","ariaSelected"],["vwResetValueIfEmpty","","formControlName","reduction","type","text",1,"form-control",3,"inputMask","placeholder"],[1,"fa-solid","fa-euro-sign"]],template:function(a,s){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"vw-form-field",2),e.ALo(3,"translate"),e.TgZ(4,"div",3),e._UZ(5,"input",4),e.ALo(6,"translate"),e.TgZ(7,"span",5),e._UZ(8,"i",6),e.qZA()()()(),e.TgZ(9,"div",1)(10,"vw-form-field",2),e.ALo(11,"translate"),e._UZ(12,"select",7),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",1)(15,"vw-form-field",2),e.ALo(16,"translate"),e.TgZ(17,"div",3),e._UZ(18,"input",8),e.TgZ(19,"span",5),e._UZ(20,"i",9),e.qZA()()()()()),2&a&&(e.xp6(2),e.Q6J("label",e.lcZ(3,11,s.t.ALLOWANCE.month)),e.xp6(3),e.s9C("placeholder",e.lcZ(6,13,s.t.FORM.MONTH_FORMAT)),e.Q6J("inputMask",s.monthMask.options)("overriddenMessages",s.monthMask.errorMessage),e.xp6(5),e.Q6J("label",e.lcZ(11,15,s.t.ALLOWANCE.medicalCategory)),e.xp6(2),e.s9C("placeholder",e.lcZ(13,17,s.t.FORM.CHOOSE)),e.Q6J("options",s.medicalCategoryOptions)("ariaSelected",s.ctrls.medicalCategory.value),e.xp6(3),e.Q6J("label",e.lcZ(16,19,s.t.ALLOWANCE.reduction)),e.xp6(3),e.s9C("placeholder",s.currencyMask.placeholder),e.Q6J("inputMask",s.currencyMask.options))},dependencies:[t.UX,t.Fj,t.EJ,t.JJ,t.u,R.aw,R.X$,u.Zg,u.tS,u._c,m.hg,m.LW,m.vA,m.IQ,h.zz,h.J6,g.t4],encapsulation:2,changeDetection:0}),o})();var C=r(1004);let I=(()=>{class o extends f.i8{constructor(){super(...arguments),this.api=(0,e.f3M)(f.SZ)}getResult(a){return this.api.post(this.api.endpoints.allowanceFromReduction,a)}}return o.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(o)))(s||o)}}(),o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var w=r(4111),M=r(8723);const k=o=>({startDate:(0,M.Vn)(o.month),medicalCategory:(0,w.F)(o.medicalCategory),reduction:(0,M.W_)(o.reduction)}),O=o=>({form:{month:{data:o.month},medicalCategory:{data:o.medicalCategory},reduction:{data:(0,M.R3)(o.reduction," \u20ac")}}}),d=({reduction:o,allowance:n})=>({reduction:{reduction:{data:o.reduction,pipe:"number",args:"2"}},allowance:{category:{data:n.category.slice(-1)},maximum:{data:n.maximum,pipe:"number",args:"2"},yearly:{data:n.yearly,pipe:"number",args:"2"},majoration:{data:!!n.majoration},monthly:{data:n.monthly,pipe:"currency"}}});function N(o,n){if(1&o&&e._UZ(0,"app-allowance-response",2),2&o){const a=n.$implicit;e.Q6J("reduction",a.reduction.reduction)("allowance",a.allowance)}}let Z=(()=>{class o{constructor(){this.form=function F(){const o=(0,e.f3M)(t.qu);return o.group({month:o.nonNullable.control("",{validators:[t.kI.required,C.D0.min(p.pw)],updateOn:"blur"}),medicalCategory:o.control(null,t.kI.required),reduction:o.nonNullable.control("",t.kI.required)})}()}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-allowance-from-reduction-container"]],standalone:!0,features:[e._Bn([],[{provide:f.OC,useClass:I},{provide:c.TO,useValue:O},{provide:c.Me,useValue:k},{provide:c.Ng,useValue:d}]),e.jDz],decls:3,vars:2,consts:[[3,"formGroup"],[3,"typeOf"],[3,"reduction","allowance"]],template:function(a,s){1&a&&(e.TgZ(0,"app-base-form-container",0),e._UZ(1,"app-allowance-from-reduction-form-inline"),e.YNc(2,N,1,2,"ng-template",1),e.qZA()),2&a&&(e.Q6J("formGroup",s.form),e.xp6(2),e.Q6J("typeOf",s.allowanceFromReductionView))},dependencies:[t.UX,t.JL,t.sg,c.wM,A,i.b,v.Co],encapsulation:2,changeDetection:0}),o})(),l=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["page-allowance-from-reduction"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(a,s){1&a&&e._UZ(0,"app-allowance-from-reduction-container")},dependencies:[Z],encapsulation:2,changeDetection:0}),o})()}}]);