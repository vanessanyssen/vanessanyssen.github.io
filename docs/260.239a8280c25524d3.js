(self.webpackChunkrobin=self.webpackChunkrobin||[]).push([[260],{5260:(W,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>Nt});var t=s(7691),n=s(6895),e=s(4650),p=s(4006),b=s(9333),i=s(1203),h=s(7174),a=s(3597),c=s(7244),S=s(7718),_=s(3416),P=s(5158);let A=(()=>{class w{constructor(){(0,t.Z)(this,"formGroupDirective",(0,e.f3M)(p.sg)),(0,t.Z)(this,"t",(0,e.f3M)(S.OS)),(0,t.Z)(this,"ctrls",void 0),(0,t.Z)(this,"disableFormat",!1),(0,t.Z)(this,"clickFormat",new e.vpe)}ngOnInit(){this.ctrls=this.formGroupDirective.form.controls}onClickFormat(){this.clickFormat.emit()}}return(0,t.Z)(w,"\u0275fac",function(L){return new(L||w)}),(0,t.Z)(w,"\u0275cmp",e.Xpm({type:w,selectors:[["app-handiservice-form-inline"]],inputs:{disableFormat:"disableFormat"},outputs:{clickFormat:"clickFormat"},standalone:!0,features:[e._Bn([],[{provide:p.gN,useExisting:p.sg}]),e.jDz],decls:10,vars:12,consts:[[1,"row"],[1,"col-12","mb-3"],["labelClass","form-label",3,"label"],["type","button",1,"btn","btn-sm","btn-outline-primary","float-end","mb-1",3,"disabled","click"],[1,"fa-solid","fa-bars-staggered","me-2"],["placeholder","schema handiservice-v3",1,"form-control","rows-10",3,"formControl","title"]],template:function(L,u){1&L&&(e.TgZ(0,"div",0)(1,"div",1)(2,"vw-form-field",2),e.ALo(3,"translate"),e.TgZ(4,"button",3),e.NdJ("click",function(){return u.onClickFormat()}),e._UZ(5,"i",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"textarea",5),e.ALo(9,"translate"),e.qZA()()()),2&L&&(e.xp6(2),e.s9C("label",e.lcZ(3,6,u.t.JSON.INPUT)),e.xp6(2),e.Q6J("disabled",u.disableFormat),e.uIk("aria-disabled",u.disableFormat||null),e.xp6(2),e.hij("",e.lcZ(7,8,u.t.JSON.FORMAT)," "),e.xp6(2),e.s9C("title",e.lcZ(9,10,u.t.VALIDATION_ERROR.REQUIRED_FIELD)),e.Q6J("formControl",u.ctrls.json))},dependencies:[p.UX,p.Fj,p.JJ,p.oH,_.aw,_.X$,b.Zg,a.hg,a.LW,a.vA,P.zz,a.Og],encapsulation:2,changeDetection:0})),w})();var D=s(7698),f=s(7582),R=s(663),m=(()=>{return(w=m||(m={}))[w.NO_REQUEST=0]="NO_REQUEST",w[w.CHILD_OLD_SUPPLEMENT=1]="CHILD_OLD_SUPPLEMENT",w[w.CHILD_NEW_SUPPLEMENT=2]="CHILD_NEW_SUPPLEMENT",w[w.INCOME_REPLACEMENT=3]="INCOME_REPLACEMENT",w[w.ELDERLY_ASSISTANCE=4]="ELDERLY_ASSISTANCE",w[w.OLD_ALLOWANCE=5]="OLD_ALLOWANCE",w[w.PARKING_CARD=6]="PARKING_CARD",m;var w})(),g=(()=>{return(w=g||(g={}))[w.INCOME_REPLACEMENT=3]="INCOME_REPLACEMENT",w[w.ELDERLY_ASSISTANCE=4]="ELDERLY_ASSISTANCE",w[w.OLD_ALLOWANCE=10]="OLD_ALLOWANCE",g;var w})();const C=w=>w&&{requestDate:{data:w.requestDate},legislation:{data:m[w.legislation],pipe:"enum"},administrativeExamination:{data:w.administrativePendingRequest,pipe:"enum"},medicalExamination:{data:w.handicapRecognitionPending,pipe:"enum"},completionDate:{data:w.fileCompletionDate},appeal:{data:w.appeal,pipe:"enum"}},E=(0,c.us)("decisionDate",!1),V=w=>w&&{fullName:{data:Z(w)},addressFr:{data:w.address&&H(w.address,"FR")},addressNl:{data:w.address&&H(w.address,"NL")}},Z=w=>w.lastName+(0,c.Ce)(", ",w.firstName),H=(w,J)=>(0,c.aK)([B(w,J),ne(w),(0,c.Ce)(" / ",ee(w)),",",ce(w),pe(w,J),(0,c.Np)(Ce(w,J))]),B=(w,J)=>(w.streetNames&&be(w.streetNames,J))??"",ne=w=>w.houseNumber??"",ee=w=>w.boxNumber??"",ce=w=>w.postalCode??"",pe=(w,J)=>(w.cityNames&&be(w.cityNames,J))??"",Ce=(w,J)=>{const L=(w.countryNames&&be(w.countryNames,J))??"";return L.startsWith("Belgi")?"":L},be=(w,J)=>w?.filter(L=>L.language===J)?.[0]?.value??"",Ae=w=>w?.map(J=>G(J)).sort(O),G=w=>({startDate:{data:w?.openPeriod?.beginDate},endDate:{data:w?.openPeriod?.endDate},allowance:{data:j(w),pipe:"enum"},decision:{data:w.decisionStatus,pipe:"enum"},amount:{data:w.totalMonthAmount,class:"text-end pe-4",pipe:"currency"}}),j=w=>0===w.totalMonthAmount||o(w.legislation)?g[w.legislation]:w.totalMonthAmount===w.monthAmount?"INTEGRATION_RIGHT":0===w.monthAmount?"INCOME_REPLACEMENT_RIGHT":"INCOME_REPLACEMENT_INTEGRATION_RIGHT",O=(0,c.us)("startDate",!1),o=w=>w!==g.INCOME_REPLACEMENT;function v(w,J){if(1&w&&(e.TgZ(0,"tr")(1,"th",18),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"dynamicPipe"),e.qZA()()),2&w){const L=J.$implicit,u=e.oxw(4);e.xp6(2),e.Oqu(e.lcZ(3,2,u.t.HANDISERVICE[L.key])),e.xp6(3),e.Oqu(e.Dn7(6,4,L.value.data,L.value.pipe,L.value.args))}}function M(w,J){if(1&w&&(e.TgZ(0,"div",15)(1,"table",16)(2,"tbody"),e.YNc(3,v,7,8,"tr",17),e.ALo(4,"keyvalue"),e.qZA()()()),2&w){const L=J.ngIf,u=e.oxw(3);e.xp6(3),e.Q6J("ngForOf",e.xi3(4,1,L,u.sort))}}function Y(w,J){if(1&w&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w){const L=e.oxw(3);e.xp6(1),e.Oqu(e.lcZ(2,1,L.t.HANDISERVICE.noPersonData))}}function q(w,J){if(1&w&&(e.ynx(0),e.TgZ(1,"th",23),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&w){const L=J.$implicit,u=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,1,u.t.HANDISERVICE[L.key]))}}function te(w,J){if(1&w&&(e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.ALo(3,"dynamicPipe"),e.qZA(),e.BQk()),2&w){const L=J.$implicit;e.xp6(2),e.Oqu(e.Dn7(3,1,L.value.data,L.value.pipe,L.value.args))}}function _e(w,J){if(1&w&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.YNc(3,te,4,5,"ng-container",17),e.ALo(4,"keyvalue"),e.qZA()),2&w){const L=J.$implicit,u=J.index,l=e.oxw(5);e.xp6(2),e.Oqu(u+1),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,L,l.sort))}}function Ne(w,J){if(1&w&&(e.TgZ(0,"table",21)(1,"thead")(2,"tr")(3,"th",22),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,q,4,3,"ng-container",17),e.ALo(7,"keyvalue"),e.qZA()(),e.TgZ(8,"tbody"),e.YNc(9,_e,5,5,"tr",17),e.qZA()()),2&w){const L=J.ngIf,u=e.oxw(4);e.xp6(4),e.Oqu(e.lcZ(5,3,u.t.FORM.ROW_NUMBER)),e.xp6(2),e.Q6J("ngForOf",e.xi3(7,5,L[0],u.sort)),e.xp6(3),e.Q6J("ngForOf",L)}}function I(w,J){if(1&w&&(e.TgZ(0,"div",15),e.YNc(1,Ne,10,8,"table",20),e.qZA()),2&w){const L=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",L.handicapRecognitions)}}function k(w,J){if(1&w&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w){const L=e.oxw(3);e.xp6(1),e.Oqu(e.lcZ(2,1,L.t.HANDISERVICE.noHandicapRecognitions))}}function z(w,J){if(1&w&&(e.TgZ(0,"tr")(1,"th",18),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td",25),e._uU(5),e.ALo(6,"dynamicPipe"),e.qZA()()),2&w){const L=J.$implicit,u=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,u.t.HANDISERVICE[L.key])),e.xp6(3),e.Oqu(e.Dn7(6,4,L.value.data,L.value.pipe,L.value.args))}}function Q(w,J){if(1&w&&(e.TgZ(0,"table",16)(1,"tbody"),e.YNc(2,z,7,8,"tr",17),e.ALo(3,"keyvalue"),e.qZA()()),2&w){const L=J.ngIf,u=e.oxw(4);e.xp6(2),e.Q6J("ngForOf",e.xi3(3,1,L,u.sort))}}function K(w,J){if(1&w&&(e.TgZ(0,"div",15),e.YNc(1,Q,4,4,"table",24),e.qZA()),2&w){const L=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",L.evolutionOfRequest)}}function x(w,J){if(1&w&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w){const L=e.oxw(3);e.xp6(1),e.Oqu(e.lcZ(2,1,L.t.HANDISERVICE.noRequestInProgress))}}function me(w,J){if(1&w&&(e.ynx(0),e.TgZ(1,"th",23),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&w){const L=J.$implicit,u=e.oxw(5);e.xp6(1),e.MT6("",L.value.pipe," ",L.value.class,""),e.xp6(1),e.hij(" ",e.lcZ(3,5,u.t.HANDISERVICE[L.key]),"")}}function Re(w,J){if(1&w&&(e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.ALo(3,"dynamicPipe"),e.qZA(),e.BQk()),2&w){const L=J.$implicit;e.xp6(1),e.MT6("",L.value.pipe," ",L.value.class,""),e.xp6(1),e.hij(" ",e.Dn7(3,5,L.value.data,L.value.pipe,L.value.args),"")}}function ve(w,J){if(1&w&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.YNc(3,Re,4,9,"ng-container",17),e.ALo(4,"keyvalue"),e.qZA()),2&w){const L=J.$implicit,u=J.index,l=e.oxw(5);e.xp6(2),e.Oqu(u+1),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,L,l.sort))}}function de(w,J){if(1&w&&(e.TgZ(0,"table",21)(1,"thead")(2,"tr")(3,"th",22),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,me,4,7,"ng-container",17),e.ALo(7,"keyvalue"),e.qZA()(),e.TgZ(8,"tbody"),e.YNc(9,ve,5,5,"tr",17),e.qZA()()),2&w){const L=J.ngIf,u=e.oxw(4);e.xp6(4),e.Oqu(e.lcZ(5,3,u.t.FORM.ROW_NUMBER)),e.xp6(2),e.Q6J("ngForOf",e.xi3(7,5,L[0],u.sort)),e.xp6(3),e.Q6J("ngForOf",L)}}function $e(w,J){if(1&w&&(e.TgZ(0,"div",15),e.YNc(1,de,10,8,"table",20),e.qZA()),2&w){const L=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",L.rights)}}function Ve(w,J){if(1&w&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w){const L=e.oxw(3);e.xp6(1),e.Oqu(e.lcZ(2,1,L.t.HANDISERVICE.noRights))}}function Pe(w,J){if(1&w&&(e.TgZ(0,"div",5)(1,"div",6)(2,"vw-card"),e.ynx(3,7),e._uU(4),e.ALo(5,"translate"),e.BQk(),e.YNc(6,M,5,4,"div",8),e.YNc(7,Y,3,3,"ng-template",null,9,e.W1O),e.qZA()(),e.TgZ(9,"div",6)(10,"vw-card"),e.ynx(11,7),e._uU(12),e.ALo(13,"translate"),e.BQk(),e.YNc(14,I,2,1,"div",8),e.YNc(15,k,3,3,"ng-template",null,10,e.W1O),e.qZA()(),e.TgZ(17,"div",11)(18,"vw-card"),e.ynx(19,7),e._uU(20),e.ALo(21,"translate"),e.BQk(),e.YNc(22,K,2,1,"div",8),e.YNc(23,x,3,3,"ng-template",null,12,e.W1O),e.qZA()(),e.TgZ(25,"div",13)(26,"vw-card"),e.ynx(27,7),e._uU(28),e.ALo(29,"translate"),e.BQk(),e.YNc(30,$e,2,1,"div",8),e.YNc(31,Ve,3,3,"ng-template",null,14,e.W1O),e.qZA()()()),2&w){const L=e.MAs(8),u=e.MAs(16),l=e.MAs(24),N=e.MAs(32),F=e.oxw().$implicit,U=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,12,U.t.HANDISERVICE.personData)),e.xp6(2),e.Q6J("ngIf",F.personData)("ngIfElse",L),e.xp6(6),e.Oqu(e.lcZ(13,14,U.t.HANDISERVICE.handicapRecognitions)),e.xp6(2),e.Q6J("ngIf",null==F.handicapRecognitions?null:F.handicapRecognitions.length)("ngIfElse",u),e.xp6(6),e.Oqu(e.lcZ(21,16,U.t.HANDISERVICE.evolutionOfRequest)),e.xp6(2),e.Q6J("ngIf",null==F.evolutionOfRequest||null==F.evolutionOfRequest.requestDate?null:F.evolutionOfRequest.requestDate.data)("ngIfElse",l),e.xp6(6),e.Oqu(e.lcZ(29,18,U.t.HANDISERVICE.rights)),e.xp6(2),e.Q6J("ngIf",null==F.rights?null:F.rights.length)("ngIfElse",N)}}function Je(w,J){if(1&w&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w){const L=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,L.t.HANDISERVICE.noDataFound))}}function Ke(w,J){if(1&w&&(e.TgZ(0,"vw-alert",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w){const L=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,L.t.HANDISERVICE.technicalError))}}function we(w,J){if(1&w&&(e.TgZ(0,"vw-card",1),e.YNc(1,Pe,33,20,"div",2),e.YNc(2,Je,3,3,"vw-alert",3),e.YNc(3,Ke,3,3,"vw-alert",4),e.qZA()),2&w){const L=J.$implicit;e.s9C("header",L.source),e.xp6(1),e.Q6J("ngIf","DATA_FOUND"===L.status),e.xp6(1),e.Q6J("ngIf","NO_DATA_FOUND"===L.status),e.xp6(1),e.Q6J("ngIf","TECHNICAL_ERROR"===L.status)}}const Fe=["DGPH","VSB","IRISCARE","NICCIN"];class Oe{constructor(){(0,t.Z)(this,"prefix",(0,e.f3M)(R.pv).getValue()),(0,t.Z)(this,"sort",c.qF),(0,t.Z)(this,"t",(0,e.f3M)(S.OS)),(0,t.Z)(this,"results",void 0)}set result(J){this.results=Fe.map(L=>{const u=this.getFileResultBySource(J,L);return{source:L,...u&&{status:u.sourceStatus},...u?.file?.handicapRecognitions&&{handicapRecognitions:(w=u.file.handicapRecognitions,w?.map(J=>(w=>({status:{data:w.decisionStatus,pipe:"enum"},legislation:{data:w.legislation?m[w.legislation]:"NO_REQUEST",pipe:"enum"},decisionDate:{data:w.recognitionStatus?.dateOfDecision},startDate:{data:w.recognitionStatus?.startDateRecognition},endDate:{data:w.recognitionStatus?.endDateRecognition},totalPoints:{data:w.resultRecognitionAdult?.diminutionIndependence?.totalPoints}}))(J))?.sort(E))},...u?.file?.evolutionOfRequest&&{evolutionOfRequest:C(u.file.evolutionOfRequest)},...u?.file?.rights&&{rights:Ae(u.file.rights)},...u?.file?.personData&&{personData:V(u.file.personData)}};var w})}getFileResultBySource(J,L){return J?.fileResults?.find(u=>u.source===L)}}(0,t.Z)(Oe,"\u0275fac",function(J){return new(J||Oe)}),(0,t.Z)(Oe,"\u0275cmp",e.Xpm({type:Oe,selectors:[["app-handiservice-result"]],inputs:{result:"result"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[[3,"header",4,"ngFor","ngForOf"],[3,"header"],["class","row",4,"ngIf"],["level","warning",4,"ngIf"],["level","danger",4,"ngIf"],[1,"row"],[1,"col-12"],["slotCardSubtitle",""],["class","table-responsive",4,"ngIf","ngIfElse"],["noPersonData",""],["noHandicapRecognitions",""],[1,"col-6","col-xl-4"],["noRequestInProgress",""],[1,"col-12","col-xl-8"],["noRights",""],[1,"table-responsive"],[1,"table","table-sm"],[4,"ngFor","ngForOf"],["scope","row"],["level","warning"],["class","table table-sm col-12",4,"ngIf"],[1,"table","table-sm","col-12"],["scope","col",1,"pe-4"],["scope","col"],["class","table table-sm",4,"ngIf"],[1,"text-end","pe-4"],["level","danger"]],template:function(J,L){1&J&&e.YNc(0,we,4,4,"vw-card",0),2&J&&e.Q6J("ngForOf",L.results)},dependencies:[n.ax,n.O5,n.Nd,_.aw,_.X$,a.Ak,a.wx,h.e8],encapsulation:2,changeDetection:0})),(0,f.gn)([h.aH],Oe.prototype,"result",null);var Le=s(4411),lt=s.n(Le);const dt=new e.OlP("The AJV Class"),ft=new e.OlP("The AJV Class config"),rt=new e.OlP("The AJV Class Instance");function je(w,J){return new w(J)}let nt=(()=>{class w{}return(0,t.Z)(w,"\u0275fac",function(L){return new(L||w)}),(0,t.Z)(w,"\u0275mod",e.oAB({type:w})),(0,t.Z)(w,"\u0275inj",e.cJS({providers:[{provide:dt,useValue:lt()},{provide:ft,useValue:{allErrors:!0,strictTypes:!0}},{provide:rt,useFactory:je,deps:[dt,ft]}]})),w})();var Te,mt=s(2856),_t=s(6474),Et=s.n(_t),St=s(590),wt=s(5359);let at=((0,t.Z)(Te=class{constructor(){(0,t.Z)(this,"ajv",void 0),(0,t.Z)(this,"directHttpClient",(0,e.f3M)(wt.NS)),this.ajv=(0,e.f3M)(e.zs3).get(rt),Et()(this.ajv),this.ajv.addFormat("custom-date",function(J){return/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/.test(J)})}loadSchema(J,L){!this.ajv.getSchema(J)&&this.directHttpClient.get(L).pipe((0,St.P)(),(0,mt.t)(this)).subscribe({next:u=>{u&&this.ajv.addSchema(u,J).compile(u)},error:u=>console.error(u)})}validate(J,L){return this.isValidSchema(J,L)?L:this.ajv.errorsText()}isValidSchema(J,L){return this.ajv.validate(J,L)}},"\u0275fac",function(J){return new(J||Te)}),(0,t.Z)(Te,"\u0275prov",e.Yz7({token:Te,factory:Te.\u0275fac,providedIn:nt})),Te);function ht(w,J){if(1&w&&e._UZ(0,"app-form-response-error",12),2&w){const L=e.oxw();e.Q6J("error",L.error)}}function bt(w,J){if(1&w&&(e.TgZ(0,"div")(1,"vw-alert",13),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"vw-card",14),e.ALo(5,"translate"),e._UZ(6,"app-handiservice-result",15),e.TgZ(7,"vw-print-button",16),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"vw-expandable",17),e.ALo(11,"translate"),e._UZ(12,"vw-display-json",18),e.qZA()()),2&w){const L=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,L.t.ALERT_OK.VALID_JSON)),e.xp6(2),e.s9C("ariaLabel",e.lcZ(5,8,L.t.FORM.RESULT)),e.xp6(2),e.Q6J("result",L.response),e.xp6(2),e.Oqu(e.lcZ(9,10,L.t.FORM.PRINT)),e.xp6(2),e.s9C("header",e.lcZ(11,12,L.t.JSON.INPUT)),e.xp6(2),e.Q6J("data",L.response)}}at=(0,f.gn)([(0,mt.c)()],at);let vt=(()=>{class w{constructor(){(0,t.Z)(this,"schema",(0,e.f3M)(at)),(0,t.Z)(this,"validationResult",null),(0,t.Z)(this,"t",(0,e.f3M)(S.OS)),(0,t.Z)(this,"error",null),(0,t.Z)(this,"form",function d(){const w=(0,e.f3M)(p.qu);return w.group({json:w.nonNullable.control("",{validators:[p.kI.required,D.Q.json]})})}()),(0,t.Z)(this,"jsonCtrl",void 0),(0,t.Z)(this,"response",null),(0,t.Z)(this,"validateSchema",!1)}ngOnInit(){this.schema.loadSchema("handiservice","/assets/json-schema/handiservice-v3.json"),this.jsonCtrl=this.form.controls.json}formatJSON(L){L&&this.jsonCtrl.setValue((0,c.pP)(L))}resetForm(){this.form.reset(),this.form.enable(i.rA),this.clearResult()}submitForm(L){if(this.form.valid&&(this.clearResult(),this.form.disable(i.rA),L)){const u=JSON.parse(L);this.validationResult=this.schema.validate("handiservice",u),"string"==typeof this.validationResult?this.setError(this.validationResult):this.setResponse(this.validationResult)}}clearResult(){this.validationResult=this.error=this.response=null,this.validateSchema=!1}setError(L){this.form.enable(i.rA),this.error={error:"JSON_VALIDATION_ERROR",message:L.replace(", ","\n")}}setResponse(L){this.validateSchema=!0,this.response=L}}return(0,t.Z)(w,"\u0275fac",function(L){return new(L||w)}),(0,t.Z)(w,"\u0275cmp",e.Xpm({type:w,selectors:[["app-handiservice-container"]],standalone:!0,features:[e.jDz],decls:20,vars:19,consts:[["vwNoPrint",""],["slotCardTitle",""],[3,"formGroup","ngSubmit"],[3,"disableFormat","clickFormat"],[3,"disableSubmit","clickCancel"],["slotSubmit",""],[1,"fa-regular","fa-circle-check","me-2"],["slotCancel",""],[1,"fa-solid","fa-eraser","me-2"],[1,"spy","mb-3"],[3,"error",4,"ngIf"],[4,"ngIf"],[3,"error"],["vwNoPrint","","level","success"],[3,"ariaLabel"],[3,"result"],["vwNoPrint","",1,"float-end"],["vwNoPrint","",3,"header"],[3,"data"]],template:function(L,u){1&L&&(e.TgZ(0,"vw-card",0),e.ynx(1,1),e._uU(2),e.ALo(3,"translate"),e.BQk(),e.TgZ(4,"form",2),e.NdJ("ngSubmit",function(){return u.submitForm(u.jsonCtrl.value)}),e.TgZ(5,"app-handiservice-form-inline",3),e.NdJ("clickFormat",function(){return u.formatJSON(u.jsonCtrl.value)}),e.qZA(),e.TgZ(6,"vw-form-footer",4),e.NdJ("clickCancel",function(){return u.resetForm()}),e.ynx(7,5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.BQk(),e.ynx(11,7),e._UZ(12,"i",8),e._uU(13),e.ALo(14,"translate"),e.BQk(),e.qZA()(),e.TgZ(15,"div",9),e._uU(16),e.ALo(17,"json"),e.qZA()(),e.YNc(18,ht,1,1,"app-form-response-error",10),e.YNc(19,bt,13,14,"div",11)),2&L&&(e.xp6(2),e.Oqu(e.lcZ(3,11,u.t.FORM.ENTER_DATA)),e.xp6(2),e.Q6J("formGroup",u.form),e.xp6(1),e.Q6J("disableFormat",!u.jsonCtrl.valid||u.validateSchema),e.xp6(1),e.Q6J("disableSubmit",!u.form.valid||u.validateSchema),e.xp6(3),e.hij("",e.lcZ(10,13,u.t.JSON.VALIDATE_JSON)," "),e.xp6(4),e.hij("",e.lcZ(14,15,u.t.FORM.RESET)," "),e.xp6(2),e.ekj("d-none",!0),e.xp6(1),e.Oqu(e.lcZ(17,17,u.form.value)),e.xp6(2),e.Q6J("ngIf",u.error),e.xp6(1),e.Q6J("ngIf",u.response))},dependencies:[p.UX,p._Y,p.JL,p.sg,n.O5,n.Ts,_.aw,_.X$,a.Ak,h.Hr,b.WX,a.Lz,b.n9,A,Oe,a.xB,a.IV,nt,a.wx],encapsulation:2,changeDetection:0})),w})(),Nt=(()=>{class w extends((0,i.Y2)()){}return(0,t.Z)(w,"\u0275fac",function(){let J;return function(u){return(J||(J=e.n5z(w)))(u||w)}}()),(0,t.Z)(w,"\u0275cmp",e.Xpm({type:w,selectors:[["page-handiservice"]],standalone:!0,features:[e.qOj,e.jDz],decls:1,vars:0,template:function(L,u){1&L&&e._UZ(0,"app-handiservice-container")},dependencies:[vt],encapsulation:2,changeDetection:0})),w})()},5180:(W,r)=>{"use strict";function s(E,V){return{validate:E,compare:V}}Object.defineProperty(r,"__esModule",{value:!0}),r.formatNames=r.fastFormats=r.fullFormats=void 0,r.fullFormats={date:s(p,b),time:s(h,a),"date-time":s(function S(E){const V=E.split(c);return 2===V.length&&p(V[0])&&h(V[1],!0)},_),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function A(E){return P.test(E)&&T.test(E)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function y(E){if($.test(E))return!1;try{return new RegExp(E),!0}catch{return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function d(E){return D.lastIndex=0,D.test(E)},int32:{type:"number",validate:function m(E){return Number.isInteger(E)&&E<=R&&E>=f}},int64:{type:"number",validate:function g(E){return Number.isInteger(E)}},float:{type:"number",validate:C},double:{type:"number",validate:C},password:!0,binary:!0},r.fastFormats={...r.fullFormats,date:s(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,b),time:s(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,a),"date-time":s(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,_),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},r.formatNames=Object.keys(r.fullFormats);const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,e=[0,31,28,31,30,31,30,31,31,30,31,30,31];function p(E){const V=n.exec(E);if(!V)return!1;const H=+V[2],B=+V[3];return H>=1&&H<=12&&B>=1&&B<=(2===H&&function t(E){return E%4==0&&(E%100!=0||E%400==0)}(+V[1])?29:e[H])}function b(E,V){if(E&&V)return E>V?1:E<V?-1:0}const i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function h(E,V){const Z=i.exec(E);if(!Z)return!1;const H=+Z[1],B=+Z[2],ne=+Z[3];return(H<=23&&B<=59&&ne<=59||23===H&&59===B&&60===ne)&&(!V||""!==Z[5])}function a(E,V){if(!E||!V)return;const Z=i.exec(E),H=i.exec(V);return Z&&H?(E=Z[1]+Z[2]+Z[3]+(Z[4]||""))>(V=H[1]+H[2]+H[3]+(H[4]||""))?1:E<V?-1:0:void 0}const c=/t|\s/i;function _(E,V){if(!E||!V)return;const[Z,H]=E.split(c),[B,ne]=V.split(c),ee=b(Z,B);return void 0!==ee?ee||a(H,ne):void 0}const P=/\/|:/,T=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,D=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,f=-(2**31),R=2**31-1;function C(){return!0}const $=/[^\\]\\Z/},6474:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(5180),n=s(5413),e=s(6382),p=new e.Name("fullFormats"),b=new e.Name("fastFormats"),i=(a,c={keywords:!0})=>{if(Array.isArray(c))return h(a,c,t.fullFormats,p),a;const[S,_]="fast"===c.mode?[t.fastFormats,b]:[t.fullFormats,p];return h(a,c.formats||t.formatNames,S,_),c.keywords&&n.default(a),a};function h(a,c,S,_){var P,T;null!==(P=(T=a.opts.code).formats)&&void 0!==P||(T.formats=e._`require("ajv-formats/dist/formats").${_}`);for(const A of c)a.addFormat(A,S[A])}i.get=(a,c="full")=>{const _=("fast"===c?t.fastFormats:t.fullFormats)[a];if(!_)throw new Error(`Unknown format "${a}"`);return _},W.exports=r=i,Object.defineProperty(r,"__esModule",{value:!0}),r.default=i},5413:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.formatLimitDefinition=void 0;const t=s(4411),n=s(6382),e=n.operators,p={formatMaximum:{okStr:"<=",ok:e.LTE,fail:e.GT},formatMinimum:{okStr:">=",ok:e.GTE,fail:e.LT},formatExclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},formatExclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},b={message:({keyword:h,schemaCode:a})=>n.str`should be ${p[h].okStr} ${a}`,params:({keyword:h,schemaCode:a})=>n._`{comparison: ${p[h].okStr}, limit: ${a}}`};r.formatLimitDefinition={keyword:Object.keys(p),type:"string",schemaType:"string",$data:!0,error:b,code(h){const{gen:a,data:c,schemaCode:S,keyword:_,it:P}=h,{opts:T,self:A}=P;if(!T.validateFormats)return;const D=new t.KeywordCxt(P,A.RULES.all.format.definition,"format");function R(m){return n._`${m}.compare(${c}, ${S}) ${p[_].fail} 0`}D.$data?function d(){const m=a.scopeValue("formats",{ref:A.formats,code:T.code.formats}),g=a.const("fmt",n._`${m}[${D.schemaCode}]`);h.fail$data(n.or(n._`typeof ${g} != "object"`,n._`${g} instanceof RegExp`,n._`typeof ${g}.compare != "function"`,R(g)))}():function f(){const m=D.schema,g=A.formats[m];if(!g||!0===g)return;if("object"!=typeof g||g instanceof RegExp||"function"!=typeof g.compare)throw new Error(`"${_}": format "${m}" does not define "compare" function`);const C=a.scopeValue("formats",{key:m,ref:g,code:T.code.formats?n._`${T.code.formats}${n.getProperty(m)}`:void 0});h.fail$data(R(C))}()},dependencies:["format"]},r.default=h=>(h.addKeyword(r.formatLimitDefinition),h)},4411:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;const t=s(5910),n=s(7032),e=s(1849),p=s(98),b=["/properties"],i="http://json-schema.org/draft-07/schema";class h extends t.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(T=>this.addVocabulary(T)),this.opts.discriminator&&this.addKeyword(e.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const T=this.opts.$data?this.$dataMetaSchema(p,b):p;this.addMetaSchema(T,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}W.exports=r=h,Object.defineProperty(r,"__esModule",{value:!0}),r.default=h;var a=s(6764);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return a.KeywordCxt}});var c=s(6382);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var S=s(496);Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return S.default}});var _=s(140);Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return _.default}})},6295:(W,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.regexpCode=r.getEsmExportName=r.getProperty=r.safeStringify=r.stringify=r.strConcat=r.addCodeArg=r.str=r._=r.nil=r._Code=r.Name=r.IDENTIFIER=r._CodeOrName=void 0;class s{}r._CodeOrName=s,r.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class t extends s{constructor(f){if(super(),!r.IDENTIFIER.test(f))throw new Error("CodeGen: name must be a valid identifier");this.str=f}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}r.Name=t;class n extends s{constructor(f){super(),this._items="string"==typeof f?[f]:f}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const f=this._items[0];return""===f||'""'===f}get str(){var f;return null!==(f=this._str)&&void 0!==f?f:this._str=this._items.reduce((R,m)=>`${R}${m}`,"")}get names(){var f;return null!==(f=this._names)&&void 0!==f?f:this._names=this._items.reduce((R,m)=>(m instanceof t&&(R[m.str]=(R[m.str]||0)+1),R),{})}}function e(d,...f){const R=[d[0]];let m=0;for(;m<f.length;)i(R,f[m]),R.push(d[++m]);return new n(R)}r._Code=n,r.nil=new n(""),r._=e;const p=new n("+");function b(d,...f){const R=[P(d[0])];let m=0;for(;m<f.length;)R.push(p),i(R,f[m]),R.push(p,P(d[++m]));return function h(d){let f=1;for(;f<d.length-1;){if(d[f]===p){const R=a(d[f-1],d[f+1]);if(void 0!==R){d.splice(f-1,3,R);continue}d[f++]="+"}f++}}(R),new n(R)}function i(d,f){f instanceof n?d.push(...f._items):d.push(f instanceof t?f:function S(d){return"number"==typeof d||"boolean"==typeof d||null===d?d:P(Array.isArray(d)?d.join(","):d)}(f))}function a(d,f){return'""'===f?d:'""'===d?f:"string"==typeof d?f instanceof t||'"'!==d[d.length-1]?void 0:"string"!=typeof f?`${d.slice(0,-1)}${f}"`:'"'===f[0]?d.slice(0,-1)+f.slice(1):void 0:"string"!=typeof f||'"'!==f[0]||d instanceof t?void 0:`"${d}${f.slice(1)}`}function P(d){return JSON.stringify(d).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}r.str=b,r.addCodeArg=i,r.strConcat=function c(d,f){return f.emptyStr()?d:d.emptyStr()?f:b`${d}${f}`},r.stringify=function _(d){return new n(P(d))},r.safeStringify=P,r.getProperty=function T(d){return"string"==typeof d&&r.IDENTIFIER.test(d)?new n(`.${d}`):e`[${d}]`},r.getEsmExportName=function A(d){if("string"==typeof d&&r.IDENTIFIER.test(d))return new n(`${d}`);throw new Error(`CodeGen: invalid export name: ${d}, use explicit $id name mapping`)},r.regexpCode=function D(d){return new n(d.toString())}},6382:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.or=r.and=r.not=r.CodeGen=r.operators=r.varKinds=r.ValueScopeName=r.ValueScope=r.Scope=r.Name=r.regexpCode=r.stringify=r.getProperty=r.nil=r.strConcat=r.str=r._=void 0;const t=s(6295),n=s(1917);var e=s(6295);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return e._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return e.str}}),Object.defineProperty(r,"strConcat",{enumerable:!0,get:function(){return e.strConcat}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return e.nil}}),Object.defineProperty(r,"getProperty",{enumerable:!0,get:function(){return e.getProperty}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return e.stringify}}),Object.defineProperty(r,"regexpCode",{enumerable:!0,get:function(){return e.regexpCode}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return e.Name}});var p=s(1917);Object.defineProperty(r,"Scope",{enumerable:!0,get:function(){return p.Scope}}),Object.defineProperty(r,"ValueScope",{enumerable:!0,get:function(){return p.ValueScope}}),Object.defineProperty(r,"ValueScopeName",{enumerable:!0,get:function(){return p.ValueScopeName}}),Object.defineProperty(r,"varKinds",{enumerable:!0,get:function(){return p.varKinds}}),r.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class b{optimizeNodes(){return this}optimizeNames(o,v){return this}}class i extends b{constructor(o,v,M){super(),this.varKind=o,this.name=v,this.rhs=M}render({es5:o,_n:v}){return`${o?n.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+v}optimizeNames(o,v){if(o[this.name.str])return this.rhs&&(this.rhs=ee(this.rhs,o,v)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class h extends b{constructor(o,v,M){super(),this.lhs=o,this.rhs=v,this.sideEffects=M}render({_n:o}){return`${this.lhs} = ${this.rhs};`+o}optimizeNames(o,v){if(!(this.lhs instanceof t.Name)||o[this.lhs.str]||this.sideEffects)return this.rhs=ee(this.rhs,o,v),this}get names(){return ne(this.lhs instanceof t.Name?{}:{...this.lhs.names},this.rhs)}}class a extends h{constructor(o,v,M,Y){super(o,M,Y),this.op=v}render({_n:o}){return`${this.lhs} ${this.op}= ${this.rhs};`+o}}class c extends b{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`${this.label}:`+o}}class S extends b{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`break${this.label?` ${this.label}`:""};`+o}}class _ extends b{constructor(o){super(),this.error=o}render({_n:o}){return`throw ${this.error};`+o}get names(){return this.error.names}}class P extends b{constructor(o){super(),this.code=o}render({_n:o}){return`${this.code};`+o}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(o,v){return this.code=ee(this.code,o,v),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class T extends b{constructor(o=[]){super(),this.nodes=o}render(o){return this.nodes.reduce((v,M)=>v+M.render(o),"")}optimizeNodes(){const{nodes:o}=this;let v=o.length;for(;v--;){const M=o[v].optimizeNodes();Array.isArray(M)?o.splice(v,1,...M):M?o[v]=M:o.splice(v,1)}return o.length>0?this:void 0}optimizeNames(o,v){const{nodes:M}=this;let Y=M.length;for(;Y--;){const q=M[Y];q.optimizeNames(o,v)||(ce(o,q.names),M.splice(Y,1))}return M.length>0?this:void 0}get names(){return this.nodes.reduce((o,v)=>B(o,v.names),{})}}class A extends T{render(o){return"{"+o._n+super.render(o)+"}"+o._n}}class D extends T{}let d=(()=>{class O extends A{}return O.kind="else",O})(),f=(()=>{class O extends A{constructor(v,M){super(M),this.condition=v}render(v){let M=`if(${this.condition})`+super.render(v);return this.else&&(M+="else "+this.else.render(v)),M}optimizeNodes(){super.optimizeNodes();const v=this.condition;if(!0===v)return this.nodes;let M=this.else;if(M){const Y=M.optimizeNodes();M=this.else=Array.isArray(Y)?new d(Y):Y}return M?!1===v?M instanceof O?M:M.nodes:this.nodes.length?this:new O(pe(v),M instanceof O?[M]:M.nodes):!1!==v&&this.nodes.length?this:void 0}optimizeNames(v,M){var Y;if(this.else=null===(Y=this.else)||void 0===Y?void 0:Y.optimizeNames(v,M),super.optimizeNames(v,M)||this.else)return this.condition=ee(this.condition,v,M),this}get names(){const v=super.names;return ne(v,this.condition),this.else&&B(v,this.else.names),v}}return O.kind="if",O})(),R=(()=>{class O extends A{}return O.kind="for",O})();class m extends R{constructor(o){super(),this.iteration=o}render(o){return`for(${this.iteration})`+super.render(o)}optimizeNames(o,v){if(super.optimizeNames(o,v))return this.iteration=ee(this.iteration,o,v),this}get names(){return B(super.names,this.iteration.names)}}class g extends R{constructor(o,v,M,Y){super(),this.varKind=o,this.name=v,this.from=M,this.to=Y}render(o){const v=o.es5?n.varKinds.var:this.varKind,{name:M,from:Y,to:q}=this;return`for(${v} ${M}=${Y}; ${M}<${q}; ${M}++)`+super.render(o)}get names(){const o=ne(super.names,this.from);return ne(o,this.to)}}class C extends R{constructor(o,v,M,Y){super(),this.loop=o,this.varKind=v,this.name=M,this.iterable=Y}render(o){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(o)}optimizeNames(o,v){if(super.optimizeNames(o,v))return this.iterable=ee(this.iterable,o,v),this}get names(){return B(super.names,this.iterable.names)}}let $=(()=>{class O extends A{constructor(v,M,Y){super(),this.name=v,this.args=M,this.async=Y}render(v){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(v)}}return O.kind="func",O})(),y=(()=>{class O extends T{render(v){return"return "+super.render(v)}}return O.kind="return",O})();class E extends A{render(o){let v="try"+super.render(o);return this.catch&&(v+=this.catch.render(o)),this.finally&&(v+=this.finally.render(o)),v}optimizeNodes(){var o,v;return super.optimizeNodes(),null===(o=this.catch)||void 0===o||o.optimizeNodes(),null===(v=this.finally)||void 0===v||v.optimizeNodes(),this}optimizeNames(o,v){var M,Y;return super.optimizeNames(o,v),null===(M=this.catch)||void 0===M||M.optimizeNames(o,v),null===(Y=this.finally)||void 0===Y||Y.optimizeNames(o,v),this}get names(){const o=super.names;return this.catch&&B(o,this.catch.names),this.finally&&B(o,this.finally.names),o}}let V=(()=>{class O extends A{constructor(v){super(),this.error=v}render(v){return`catch(${this.error})`+super.render(v)}}return O.kind="catch",O})(),Z=(()=>{class O extends A{render(v){return"finally"+super.render(v)}}return O.kind="finally",O})();function B(O,o){for(const v in o)O[v]=(O[v]||0)+(o[v]||0);return O}function ne(O,o){return o instanceof t._CodeOrName?B(O,o.names):O}function ee(O,o,v){return O instanceof t.Name?M(O):function Y(q){return q instanceof t._Code&&q._items.some(te=>te instanceof t.Name&&1===o[te.str]&&void 0!==v[te.str])}(O)?new t._Code(O._items.reduce((q,te)=>(te instanceof t.Name&&(te=M(te)),te instanceof t._Code?q.push(...te._items):q.push(te),q),[])):O;function M(q){const te=v[q.str];return void 0===te||1!==o[q.str]?q:(delete o[q.str],te)}}function ce(O,o){for(const v in o)O[v]=(O[v]||0)-(o[v]||0)}function pe(O){return"boolean"==typeof O||"number"==typeof O||null===O?!O:t._`!${j(O)}`}r.CodeGen=class H{constructor(o,v={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...v,_n:v.lines?"\n":""},this._extScope=o,this._scope=new n.Scope({parent:o}),this._nodes=[new D]}toString(){return this._root.render(this.opts)}name(o){return this._scope.name(o)}scopeName(o){return this._extScope.name(o)}scopeValue(o,v){const M=this._extScope.value(o,v);return(this._values[M.prefix]||(this._values[M.prefix]=new Set)).add(M),M}getScopeValue(o,v){return this._extScope.getValue(o,v)}scopeRefs(o){return this._extScope.scopeRefs(o,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(o,v,M,Y){const q=this._scope.toName(v);return void 0!==M&&Y&&(this._constants[q.str]=M),this._leafNode(new i(o,q,M)),q}const(o,v,M){return this._def(n.varKinds.const,o,v,M)}let(o,v,M){return this._def(n.varKinds.let,o,v,M)}var(o,v,M){return this._def(n.varKinds.var,o,v,M)}assign(o,v,M){return this._leafNode(new h(o,v,M))}add(o,v){return this._leafNode(new a(o,r.operators.ADD,v))}code(o){return"function"==typeof o?o():o!==t.nil&&this._leafNode(new P(o)),this}object(...o){const v=["{"];for(const[M,Y]of o)v.length>1&&v.push(","),v.push(M),(M!==Y||this.opts.es5)&&(v.push(":"),(0,t.addCodeArg)(v,Y));return v.push("}"),new t._Code(v)}if(o,v,M){if(this._blockNode(new f(o)),v&&M)this.code(v).else().code(M).endIf();else if(v)this.code(v).endIf();else if(M)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(o){return this._elseNode(new f(o))}else(){return this._elseNode(new d)}endIf(){return this._endBlockNode(f,d)}_for(o,v){return this._blockNode(o),v&&this.code(v).endFor(),this}for(o,v){return this._for(new m(o),v)}forRange(o,v,M,Y,q=(this.opts.es5?n.varKinds.var:n.varKinds.let)){const te=this._scope.toName(o);return this._for(new g(q,te,v,M),()=>Y(te))}forOf(o,v,M,Y=n.varKinds.const){const q=this._scope.toName(o);if(this.opts.es5){const te=v instanceof t.Name?v:this.var("_arr",v);return this.forRange("_i",0,t._`${te}.length`,_e=>{this.var(q,t._`${te}[${_e}]`),M(q)})}return this._for(new C("of",Y,q,v),()=>M(q))}forIn(o,v,M,Y=(this.opts.es5?n.varKinds.var:n.varKinds.const)){if(this.opts.ownProperties)return this.forOf(o,t._`Object.keys(${v})`,M);const q=this._scope.toName(o);return this._for(new C("in",Y,q,v),()=>M(q))}endFor(){return this._endBlockNode(R)}label(o){return this._leafNode(new c(o))}break(o){return this._leafNode(new S(o))}return(o){const v=new y;if(this._blockNode(v),this.code(o),1!==v.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(y)}try(o,v,M){if(!v&&!M)throw new Error('CodeGen: "try" without "catch" and "finally"');const Y=new E;if(this._blockNode(Y),this.code(o),v){const q=this.name("e");this._currNode=Y.catch=new V(q),v(q)}return M&&(this._currNode=Y.finally=new Z,this.code(M)),this._endBlockNode(V,Z)}throw(o){return this._leafNode(new _(o))}block(o,v){return this._blockStarts.push(this._nodes.length),o&&this.code(o).endBlock(v),this}endBlock(o){const v=this._blockStarts.pop();if(void 0===v)throw new Error("CodeGen: not in self-balancing block");const M=this._nodes.length-v;if(M<0||void 0!==o&&M!==o)throw new Error(`CodeGen: wrong number of nodes: ${M} vs ${o} expected`);return this._nodes.length=v,this}func(o,v=t.nil,M,Y){return this._blockNode(new $(o,v,M)),Y&&this.code(Y).endFunc(),this}endFunc(){return this._endBlockNode($)}optimize(o=1){for(;o-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(o){return this._currNode.nodes.push(o),this}_blockNode(o){this._currNode.nodes.push(o),this._nodes.push(o)}_endBlockNode(o,v){const M=this._currNode;if(M instanceof o||v&&M instanceof v)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${v?`${o.kind}/${v.kind}`:o.kind}"`)}_elseNode(o){const v=this._currNode;if(!(v instanceof f))throw new Error('CodeGen: "else" without "if"');return this._currNode=v.else=o,this}get _root(){return this._nodes[0]}get _currNode(){const o=this._nodes;return o[o.length-1]}set _currNode(o){const v=this._nodes;v[v.length-1]=o}},r.not=pe;const Ce=G(r.operators.AND);r.and=function be(...O){return O.reduce(Ce)};const se=G(r.operators.OR);function G(O){return(o,v)=>o===t.nil?v:v===t.nil?o:t._`${j(o)} ${O} ${j(v)}`}function j(O){return O instanceof t.Name?O:t._`(${O})`}r.or=function Ae(...O){return O.reduce(se)}},1917:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ValueScope=r.ValueScopeName=r.Scope=r.varKinds=r.UsedValueState=void 0;const t=s(6295);class n extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var e,a;(a=e=r.UsedValueState||(r.UsedValueState={}))[a.Started=0]="Started",a[a.Completed=1]="Completed",r.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class p{constructor({prefixes:c,parent:S}={}){this._names={},this._prefixes=c,this._parent=S}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){return`${c}${(this._names[c]||this._nameGroup(c)).index++}`}_nameGroup(c){var S,_;if(null!==(_=null===(S=this._parent)||void 0===S?void 0:S._prefixes)&&void 0!==_&&_.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}r.Scope=p;class b extends t.Name{constructor(c,S){super(S),this.prefix=c}setValue(c,{property:S,itemIndex:_}){this.value=c,this.scopePath=t._`.${new t.Name(S)}[${_}]`}}r.ValueScopeName=b;const i=t._`\n`;r.ValueScope=class h extends p{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?i:t.nil}}get(){return this._scope}name(c){return new b(c,this._newName(c))}value(c,S){var _;if(void 0===S.ref)throw new Error("CodeGen: ref must be passed in value");const P=this.toName(c),{prefix:T}=P,A=null!==(_=S.key)&&void 0!==_?_:S.ref;let D=this._values[T];if(D){const R=D.get(A);if(R)return R}else D=this._values[T]=new Map;D.set(A,P);const d=this._scope[T]||(this._scope[T]=[]),f=d.length;return d[f]=S.ref,P.setValue(S,{property:T,itemIndex:f}),P}getValue(c,S){const _=this._values[c];if(_)return _.get(S)}scopeRefs(c,S=this._values){return this._reduceValues(S,_=>{if(void 0===_.scopePath)throw new Error(`CodeGen: name "${_}" has no value`);return t._`${c}${_.scopePath}`})}scopeCode(c=this._values,S,_){return this._reduceValues(c,P=>{if(void 0===P.value)throw new Error(`CodeGen: name "${P}" has no value`);return P.value.code},S,_)}_reduceValues(c,S,_={},P){let T=t.nil;for(const A in c){const D=c[A];if(!D)continue;const d=_[A]=_[A]||new Map;D.forEach(f=>{if(d.has(f))return;d.set(f,e.Started);let R=S(f);if(R)T=t._`${T}${this.opts.es5?r.varKinds.var:r.varKinds.const} ${f} = ${R};${this.opts._n}`;else{if(!(R=P?.(f)))throw new n(f);T=t._`${T}${R}${this.opts._n}`}d.set(f,e.Completed)})}return T}}},5091:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extendErrors=r.resetErrorsCount=r.reportExtraError=r.reportError=r.keyword$DataError=r.keywordError=void 0;const t=s(6382),n=s(7990),e=s(5976);function a(d,f){const R=d.const("err",f);d.if(t._`${e.default.vErrors} === null`,()=>d.assign(e.default.vErrors,t._`[${R}]`),t._`${e.default.vErrors}.push(${R})`),d.code(t._`${e.default.errors}++`)}function c(d,f){const{gen:R,validateName:m,schemaEnv:g}=d;g.$async?R.throw(t._`new ${d.ValidationError}(${f})`):(R.assign(t._`${m}.errors`,f),R.return(!1))}r.keywordError={message:({keyword:d})=>t.str`must pass "${d}" keyword validation`},r.keyword$DataError={message:({keyword:d,schemaType:f})=>f?t.str`"${d}" keyword must be ${f} ($data)`:t.str`"${d}" keyword is invalid ($data)`},r.reportError=function p(d,f=r.keywordError,R,m){const{it:g}=d,{gen:C,compositeRule:$,allErrors:y}=g,E=_(d,f,R);m??($||y)?a(C,E):c(g,t._`[${E}]`)},r.reportExtraError=function b(d,f=r.keywordError,R){const{it:m}=d,{gen:g,compositeRule:C,allErrors:$}=m;a(g,_(d,f,R)),C||$||c(m,e.default.vErrors)},r.resetErrorsCount=function i(d,f){d.assign(e.default.errors,f),d.if(t._`${e.default.vErrors} !== null`,()=>d.if(f,()=>d.assign(t._`${e.default.vErrors}.length`,f),()=>d.assign(e.default.vErrors,null)))},r.extendErrors=function h({gen:d,keyword:f,schemaValue:R,data:m,errsCount:g,it:C}){if(void 0===g)throw new Error("ajv implementation error");const $=d.name("err");d.forRange("i",g,e.default.errors,y=>{d.const($,t._`${e.default.vErrors}[${y}]`),d.if(t._`${$}.instancePath === undefined`,()=>d.assign(t._`${$}.instancePath`,(0,t.strConcat)(e.default.instancePath,C.errorPath))),d.assign(t._`${$}.schemaPath`,t.str`${C.errSchemaPath}/${f}`),C.opts.verbose&&(d.assign(t._`${$}.schema`,R),d.assign(t._`${$}.data`,m))})};const S={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function _(d,f,R){const{createErrors:m}=d.it;return!1===m?t._`{}`:function P(d,f,R={}){const{gen:m,it:g}=d,C=[T(g,R),A(d,R)];return function D(d,{params:f,message:R},m){const{keyword:g,data:C,schemaValue:$,it:y}=d,{opts:E,propertyName:V,topSchemaRef:Z,schemaPath:H}=y;m.push([S.keyword,g],[S.params,"function"==typeof f?f(d):f||t._`{}`]),E.messages&&m.push([S.message,"function"==typeof R?R(d):R]),E.verbose&&m.push([S.schema,$],[S.parentSchema,t._`${Z}${H}`],[e.default.data,C]),V&&m.push([S.propertyName,V])}(d,f,C),m.object(...C)}(d,f,R)}function T({errorPath:d},{instancePath:f}){const R=f?t.str`${d}${(0,n.getErrorPath)(f,n.Type.Str)}`:d;return[e.default.instancePath,(0,t.strConcat)(e.default.instancePath,R)]}function A({keyword:d,it:{errSchemaPath:f}},{schemaPath:R,parentSchema:m}){let g=m?f:t.str`${f}/${d}`;return R&&(g=t.str`${g}${(0,n.getErrorPath)(R,n.Type.Str)}`),[S.schemaPath,g]}},7140:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.resolveSchema=r.getCompilingSchema=r.resolveRef=r.compileSchema=r.SchemaEnv=void 0;const t=s(6382),n=s(496),e=s(5976),p=s(1880),b=s(7990),i=s(6764);class h{constructor(R){var m;let g;this.refs={},this.dynamicAnchors={},"object"==typeof R.schema&&(g=R.schema),this.schema=R.schema,this.schemaId=R.schemaId,this.root=R.root||this,this.baseId=null!==(m=R.baseId)&&void 0!==m?m:(0,p.normalizeId)(g?.[R.schemaId||"$id"]),this.schemaPath=R.schemaPath,this.localRefs=R.localRefs,this.meta=R.meta,this.$async=g?.$async,this.refs={}}}function a(f){const R=_.call(this,f);if(R)return R;const m=(0,p.getFullPath)(this.opts.uriResolver,f.root.baseId),{es5:g,lines:C}=this.opts.code,{ownProperties:$}=this.opts,y=new t.CodeGen(this.scope,{es5:g,lines:C,ownProperties:$});let E;f.$async&&(E=y.scopeValue("Error",{ref:n.default,code:t._`require("ajv/dist/runtime/validation_error").default`}));const V=y.scopeName("validate");f.validateName=V;const Z={gen:y,allErrors:this.opts.allErrors,data:e.default.data,parentData:e.default.parentData,parentDataProperty:e.default.parentDataProperty,dataNames:[e.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:y.scopeValue("schema",!0===this.opts.code.source?{ref:f.schema,code:(0,t.stringify)(f.schema)}:{ref:f.schema}),validateName:V,ValidationError:E,schema:f.schema,schemaEnv:f,rootId:m,baseId:f.baseId||m,schemaPath:t.nil,errSchemaPath:f.schemaPath||(this.opts.jtd?"":"#"),errorPath:t._`""`,opts:this.opts,self:this};let H;try{this._compilations.add(f),(0,i.validateFunctionCode)(Z),y.optimize(this.opts.code.optimize);const B=y.toString();H=`${y.scopeRefs(e.default.scope)}return ${B}`,this.opts.code.process&&(H=this.opts.code.process(H,f));const ee=new Function(`${e.default.self}`,`${e.default.scope}`,H)(this,this.scope.get());if(this.scope.value(V,{ref:ee}),ee.errors=null,ee.schema=f.schema,ee.schemaEnv=f,f.$async&&(ee.$async=!0),!0===this.opts.code.source&&(ee.source={validateName:V,validateCode:B,scopeValues:y._values}),this.opts.unevaluated){const{props:ce,items:pe}=Z;ee.evaluated={props:ce instanceof t.Name?void 0:ce,items:pe instanceof t.Name?void 0:pe,dynamicProps:ce instanceof t.Name,dynamicItems:pe instanceof t.Name},ee.source&&(ee.source.evaluated=(0,t.stringify)(ee.evaluated))}return f.validate=ee,f}catch(B){throw delete f.validate,delete f.validateName,H&&this.logger.error("Error compiling schema, function code:",H),B}finally{this._compilations.delete(f)}}function S(f){return(0,p.inlineRef)(f.schema,this.opts.inlineRefs)?f.schema:f.validate?f:a.call(this,f)}function _(f){for(const R of this._compilations)if(P(R,f))return R}function P(f,R){return f.schema===R.schema&&f.root===R.root&&f.baseId===R.baseId}function T(f,R){let m;for(;"string"==typeof(m=this.refs[R]);)R=m;return m||this.schemas[R]||A.call(this,f,R)}function A(f,R){const m=this.opts.uriResolver.parse(R),g=(0,p._getFullPath)(this.opts.uriResolver,m);let C=(0,p.getFullPath)(this.opts.uriResolver,f.baseId,void 0);if(Object.keys(f.schema).length>0&&g===C)return d.call(this,m,f);const $=(0,p.normalizeId)(g),y=this.refs[$]||this.schemas[$];if("string"==typeof y){const E=A.call(this,f,y);return"object"!=typeof E?.schema?void 0:d.call(this,m,E)}if("object"==typeof y?.schema){if(y.validate||a.call(this,y),$===(0,p.normalizeId)(R)){const{schema:E}=y,{schemaId:V}=this.opts,Z=E[V];return Z&&(C=(0,p.resolveUrl)(this.opts.uriResolver,C,Z)),new h({schema:E,schemaId:V,root:f,baseId:C})}return d.call(this,m,y)}}r.SchemaEnv=h,r.compileSchema=a,r.resolveRef=function c(f,R,m){var g;m=(0,p.resolveUrl)(this.opts.uriResolver,R,m);const C=f.refs[m];if(C)return C;let $=T.call(this,f,m);if(void 0===$){const y=null===(g=f.localRefs)||void 0===g?void 0:g[m],{schemaId:E}=this.opts;y&&($=new h({schema:y,schemaId:E,root:f,baseId:R}))}return void 0!==$?f.refs[m]=S.call(this,$):void 0},r.getCompilingSchema=_,r.resolveSchema=A;const D=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function d(f,{baseId:R,schema:m,root:g}){var C;if("/"!==(null===(C=f.fragment)||void 0===C?void 0:C[0]))return;for(const E of f.fragment.slice(1).split("/")){if("boolean"==typeof m)return;const V=m[(0,b.unescapeFragment)(E)];if(void 0===V)return;const Z="object"==typeof(m=V)&&m[this.opts.schemaId];!D.has(E)&&Z&&(R=(0,p.resolveUrl)(this.opts.uriResolver,R,Z))}let $;if("boolean"!=typeof m&&m.$ref&&!(0,b.schemaHasRulesButRef)(m,this.RULES)){const E=(0,p.resolveUrl)(this.opts.uriResolver,R,m.$ref);$=A.call(this,g,E)}const{schemaId:y}=this.opts;return $=$||new h({schema:m,schemaId:y,root:g,baseId:R}),$.schema!==$.root.schema?$:void 0}},5976:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};r.default=n},140:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(1880);class n extends Error{constructor(p,b,i,h){super(h||`can't resolve reference ${i} from id ${b}`),this.missingRef=(0,t.resolveUrl)(p,b,i),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(p,this.missingRef))}}r.default=n},1880:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSchemaRefs=r.resolveUrl=r.normalizeId=r._getFullPath=r.getFullPath=r.inlineRef=void 0;const t=s(7990),n=s(2559),e=s(3366),p=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);r.inlineRef=function b(d,f=!0){return"boolean"==typeof d||(!0===f?!h(d):!!f&&a(d)<=f)};const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function h(d){for(const f in d){if(i.has(f))return!0;const R=d[f];if(Array.isArray(R)&&R.some(h)||"object"==typeof R&&h(R))return!0}return!1}function a(d){let f=0;for(const R in d){if("$ref"===R)return 1/0;if(f++,!p.has(R)&&("object"==typeof d[R]&&(0,t.eachItem)(d[R],m=>f+=a(m)),f===1/0))return 1/0}return f}function c(d,f="",R){!1!==R&&(f=P(f));const m=d.parse(f);return S(d,m)}function S(d,f){return d.serialize(f).split("#")[0]+"#"}r.getFullPath=c,r._getFullPath=S;const _=/#\/?$/;function P(d){return d?d.replace(_,""):""}r.normalizeId=P,r.resolveUrl=function T(d,f,R){return R=P(R),d.resolve(f,R)};const A=/^[a-z_][-a-z0-9._]*$/i;r.getSchemaRefs=function D(d,f){if("boolean"==typeof d)return{};const{schemaId:R,uriResolver:m}=this.opts,g=P(d[R]||f),C={"":g},$=c(m,g,!1),y={},E=new Set;return e(d,{allKeys:!0},(H,B,ne,ee)=>{if(void 0===ee)return;const ce=$+B;let pe=C[ee];function Ce(se){if(se=P(pe?(0,this.opts.uriResolver.resolve)(pe,se):se),E.has(se))throw Z(se);E.add(se);let G=this.refs[se];return"string"==typeof G&&(G=this.refs[G]),"object"==typeof G?V(H,G.schema,se):se!==P(ce)&&("#"===se[0]?(V(H,y[se],se),y[se]=H):this.refs[se]=ce),se}function be(se){if("string"==typeof se){if(!A.test(se))throw new Error(`invalid anchor "${se}"`);Ce.call(this,`#${se}`)}}"string"==typeof H[R]&&(pe=Ce.call(this,H[R])),be.call(this,H.$anchor),be.call(this,H.$dynamicAnchor),C[B]=pe}),y;function V(H,B,ne){if(void 0!==B&&!n(H,B))throw Z(ne)}function Z(H){return new Error(`reference "${H}" resolves to more than one schema`)}}},2848:(W,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getRules=r.isJSONType=void 0;const t=new Set(["string","number","integer","boolean","null","object","array"]);r.isJSONType=function n(p){return"string"==typeof p&&t.has(p)},r.getRules=function e(){const p={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...p,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},p.number,p.string,p.array,p.object],post:{rules:[]},all:{},keywords:{}}}},7990:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.checkStrictMode=r.getErrorPath=r.Type=r.useFunc=r.setEvaluated=r.evaluatedPropsToName=r.mergeEvaluated=r.eachItem=r.unescapeJsonPointer=r.escapeJsonPointer=r.escapeFragment=r.unescapeFragment=r.schemaRefOrVal=r.schemaHasRulesButRef=r.schemaHasRules=r.checkUnknownRules=r.alwaysValidSchema=r.toHash=void 0;const t=s(6382),n=s(6295);function b($,y=$.schema){const{opts:E,self:V}=$;if(!E.strictSchema||"boolean"==typeof y)return;const Z=V.RULES.keywords;for(const H in y)Z[H]||C($,`unknown keyword: "${H}"`)}function i($,y){if("boolean"==typeof $)return!$;for(const E in $)if(y[E])return!0;return!1}function _($){return"number"==typeof $?`${$}`:$.replace(/~/g,"~0").replace(/\//g,"~1")}function P($){return $.replace(/~1/g,"/").replace(/~0/g,"~")}function A({mergeNames:$,mergeToName:y,mergeValues:E,resultToName:V}){return(Z,H,B,ne)=>{const ee=void 0===B?H:B instanceof t.Name?(H instanceof t.Name?$(Z,H,B):y(Z,H,B),B):H instanceof t.Name?(y(Z,B,H),H):E(H,B);return ne!==t.Name||ee instanceof t.Name?ee:V(Z,ee)}}function D($,y){if(!0===y)return $.var("props",!0);const E=$.var("props",t._`{}`);return void 0!==y&&d($,E,y),E}function d($,y,E){Object.keys(E).forEach(V=>$.assign(t._`${y}${(0,t.getProperty)(V)}`,!0))}r.toHash=function e($){const y={};for(const E of $)y[E]=!0;return y},r.alwaysValidSchema=function p($,y){return"boolean"==typeof y?y:0===Object.keys(y).length||(b($,y),!i(y,$.self.RULES.all))},r.checkUnknownRules=b,r.schemaHasRules=i,r.schemaHasRulesButRef=function h($,y){if("boolean"==typeof $)return!$;for(const E in $)if("$ref"!==E&&y.all[E])return!0;return!1},r.schemaRefOrVal=function a({topSchemaRef:$,schemaPath:y},E,V,Z){if(!Z){if("number"==typeof E||"boolean"==typeof E)return E;if("string"==typeof E)return t._`${E}`}return t._`${$}${y}${(0,t.getProperty)(V)}`},r.unescapeFragment=function c($){return P(decodeURIComponent($))},r.escapeFragment=function S($){return encodeURIComponent(_($))},r.escapeJsonPointer=_,r.unescapeJsonPointer=P,r.eachItem=function T($,y){if(Array.isArray($))for(const E of $)y(E);else y($)},r.mergeEvaluated={props:A({mergeNames:($,y,E)=>$.if(t._`${E} !== true && ${y} !== undefined`,()=>{$.if(t._`${y} === true`,()=>$.assign(E,!0),()=>$.assign(E,t._`${E} || {}`).code(t._`Object.assign(${E}, ${y})`))}),mergeToName:($,y,E)=>$.if(t._`${E} !== true`,()=>{!0===y?$.assign(E,!0):($.assign(E,t._`${E} || {}`),d($,E,y))}),mergeValues:($,y)=>!0===$||{...$,...y},resultToName:D}),items:A({mergeNames:($,y,E)=>$.if(t._`${E} !== true && ${y} !== undefined`,()=>$.assign(E,t._`${y} === true ? true : ${E} > ${y} ? ${E} : ${y}`)),mergeToName:($,y,E)=>$.if(t._`${E} !== true`,()=>$.assign(E,!0===y||t._`${E} > ${y} ? ${E} : ${y}`)),mergeValues:($,y)=>!0===$||Math.max($,y),resultToName:($,y)=>$.var("items",y)})},r.evaluatedPropsToName=D,r.setEvaluated=d;const f={};var m,$;function C($,y,E=$.opts.strictSchema){if(E){if(y=`strict mode: ${y}`,!0===E)throw new Error(y);$.self.logger.warn(y)}}r.useFunc=function R($,y){return $.scopeValue("func",{ref:y,code:f[y.code]||(f[y.code]=new n._Code(y.code))})},($=m=r.Type||(r.Type={}))[$.Num=0]="Num",$[$.Str=1]="Str",r.getErrorPath=function g($,y,E){if($ instanceof t.Name){const V=y===m.Num;return E?V?t._`"[" + ${$} + "]"`:t._`"['" + ${$} + "']"`:V?t._`"/" + ${$}`:t._`"/" + ${$}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return E?(0,t.getProperty)($).toString():"/"+_($)},r.checkStrictMode=C},368:(W,r)=>{"use strict";function t(e,p){return p.rules.some(b=>n(e,b))}function n(e,p){var b;return void 0!==e[p.keyword]||(null===(b=p.definition.implements)||void 0===b?void 0:b.some(i=>void 0!==e[i]))}Object.defineProperty(r,"__esModule",{value:!0}),r.shouldUseRule=r.shouldUseGroup=r.schemaHasRulesForType=void 0,r.schemaHasRulesForType=function s({schema:e,self:p},b){const i=p.RULES.types[b];return i&&!0!==i&&t(e,i)},r.shouldUseGroup=t,r.shouldUseRule=n},8007:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.boolOrEmptySchema=r.topBoolOrEmptySchema=void 0;const t=s(5091),n=s(6382),e=s(5976),p={message:"boolean schema is false"};function h(a,c){const{gen:S,data:_}=a;(0,t.reportError)({gen:S,keyword:"false schema",data:_,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a},p,void 0,c)}r.topBoolOrEmptySchema=function b(a){const{gen:c,schema:S,validateName:_}=a;!1===S?h(a,!1):"object"==typeof S&&!0===S.$async?c.return(e.default.data):(c.assign(n._`${_}.errors`,null),c.return(!0))},r.boolOrEmptySchema=function i(a,c){const{gen:S,schema:_}=a;!1===_?(S.var(c,!1),h(a)):S.var(c,!0)}},9078:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.reportTypeError=r.checkDataTypes=r.checkDataType=r.coerceAndCheckDataType=r.getJSONTypes=r.getSchemaTypes=r.DataType=void 0;const t=s(2848),n=s(368),e=s(5091),p=s(6382),b=s(7990);var i,m;function a(m){const g=Array.isArray(m)?m:m?[m]:[];if(g.every(t.isJSONType))return g;throw new Error("type must be JSONType or JSONType[]: "+g.join(","))}(m=i=r.DataType||(r.DataType={}))[m.Correct=0]="Correct",m[m.Wrong=1]="Wrong",r.getSchemaTypes=function h(m){const g=a(m.type);if(g.includes("null")){if(!1===m.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!g.length&&void 0!==m.nullable)throw new Error('"nullable" cannot be used without "type"');!0===m.nullable&&g.push("null")}return g},r.getJSONTypes=a,r.coerceAndCheckDataType=function c(m,g){const{gen:C,data:$,opts:y}=m,E=function _(m,g){return g?m.filter(C=>S.has(C)||"array"===g&&"array"===C):[]}(g,y.coerceTypes),V=g.length>0&&!(0===E.length&&1===g.length&&(0,n.schemaHasRulesForType)(m,g[0]));if(V){const Z=D(g,$,y.strictNumbers,i.Wrong);C.if(Z,()=>{E.length?function P(m,g,C){const{gen:$,data:y,opts:E}=m,V=$.let("dataType",p._`typeof ${y}`),Z=$.let("coerced",p._`undefined`);"array"===E.coerceTypes&&$.if(p._`${V} == 'object' && Array.isArray(${y}) && ${y}.length == 1`,()=>$.assign(y,p._`${y}[0]`).assign(V,p._`typeof ${y}`).if(D(g,y,E.strictNumbers),()=>$.assign(Z,y))),$.if(p._`${Z} !== undefined`);for(const B of C)(S.has(B)||"array"===B&&"array"===E.coerceTypes)&&H(B);function H(B){switch(B){case"string":return void $.elseIf(p._`${V} == "number" || ${V} == "boolean"`).assign(Z,p._`"" + ${y}`).elseIf(p._`${y} === null`).assign(Z,p._`""`);case"number":return void $.elseIf(p._`${V} == "boolean" || ${y} === null
              || (${V} == "string" && ${y} && ${y} == +${y})`).assign(Z,p._`+${y}`);case"integer":return void $.elseIf(p._`${V} === "boolean" || ${y} === null
              || (${V} === "string" && ${y} && ${y} == +${y} && !(${y} % 1))`).assign(Z,p._`+${y}`);case"boolean":return void $.elseIf(p._`${y} === "false" || ${y} === 0 || ${y} === null`).assign(Z,!1).elseIf(p._`${y} === "true" || ${y} === 1`).assign(Z,!0);case"null":return $.elseIf(p._`${y} === "" || ${y} === 0 || ${y} === false`),void $.assign(Z,null);case"array":$.elseIf(p._`${V} === "string" || ${V} === "number"
              || ${V} === "boolean" || ${y} === null`).assign(Z,p._`[${y}]`)}}$.else(),f(m),$.endIf(),$.if(p._`${Z} !== undefined`,()=>{$.assign(y,Z),function T({gen:m,parentData:g,parentDataProperty:C},$){m.if(p._`${g} !== undefined`,()=>m.assign(p._`${g}[${C}]`,$))}(m,Z)})}(m,g,E):f(m)})}return V};const S=new Set(["string","number","integer","boolean","null"]);function A(m,g,C,$=i.Correct){const y=$===i.Correct?p.operators.EQ:p.operators.NEQ;let E;switch(m){case"null":return p._`${g} ${y} null`;case"array":E=p._`Array.isArray(${g})`;break;case"object":E=p._`${g} && typeof ${g} == "object" && !Array.isArray(${g})`;break;case"integer":E=V(p._`!(${g} % 1) && !isNaN(${g})`);break;case"number":E=V();break;default:return p._`typeof ${g} ${y} ${m}`}return $===i.Correct?E:(0,p.not)(E);function V(Z=p.nil){return(0,p.and)(p._`typeof ${g} == "number"`,Z,C?p._`isFinite(${g})`:p.nil)}}function D(m,g,C,$){if(1===m.length)return A(m[0],g,C,$);let y;const E=(0,b.toHash)(m);if(E.array&&E.object){const V=p._`typeof ${g} != "object"`;y=E.null?V:p._`!${g} || ${V}`,delete E.null,delete E.array,delete E.object}else y=p.nil;E.number&&delete E.integer;for(const V in E)y=(0,p.and)(y,A(V,g,C,$));return y}r.checkDataType=A,r.checkDataTypes=D;const d={message:({schema:m})=>`must be ${m}`,params:({schema:m,schemaValue:g})=>"string"==typeof m?p._`{type: ${m}}`:p._`{type: ${g}}`};function f(m){const g=function R(m){const{gen:g,data:C,schema:$}=m,y=(0,b.schemaRefOrVal)(m,$,"type");return{gen:g,keyword:"type",data:C,schema:$.type,schemaCode:y,schemaValue:y,parentSchema:$,params:{},it:m}}(m);(0,e.reportError)(g,d)}r.reportTypeError=f},7866:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.assignDefaults=void 0;const t=s(6382),n=s(7990);function p(b,i,h){const{gen:a,compositeRule:c,data:S,opts:_}=b;if(void 0===h)return;const P=t._`${S}${(0,t.getProperty)(i)}`;if(c)return void(0,n.checkStrictMode)(b,`default is ignored for: ${P}`);let T=t._`${P} === undefined`;"empty"===_.useDefaults&&(T=t._`${T} || ${P} === null || ${P} === ""`),a.if(T,t._`${P} = ${(0,t.stringify)(h)}`)}r.assignDefaults=function e(b,i){const{properties:h,items:a}=b.schema;if("object"===i&&h)for(const c in h)p(b,c,h[c].default);else"array"===i&&Array.isArray(a)&&a.forEach((c,S)=>p(b,S,c.default))}},6764:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getData=r.KeywordCxt=r.validateFunctionCode=void 0;const t=s(8007),n=s(9078),e=s(368),p=s(9078),b=s(7866),i=s(2707),h=s(2639),a=s(6382),c=s(5976),S=s(1880),_=s(7990),P=s(5091);function A({gen:I,validateName:k,schema:z,schemaEnv:Q,opts:K},x){K.code.es5?I.func(k,a._`${c.default.data}, ${c.default.valCxt}`,Q.$async,()=>{I.code(a._`"use strict"; ${m(z,K)}`),function d(I,k){I.if(c.default.valCxt,()=>{I.var(c.default.instancePath,a._`${c.default.valCxt}.${c.default.instancePath}`),I.var(c.default.parentData,a._`${c.default.valCxt}.${c.default.parentData}`),I.var(c.default.parentDataProperty,a._`${c.default.valCxt}.${c.default.parentDataProperty}`),I.var(c.default.rootData,a._`${c.default.valCxt}.${c.default.rootData}`),k.dynamicRef&&I.var(c.default.dynamicAnchors,a._`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{I.var(c.default.instancePath,a._`""`),I.var(c.default.parentData,a._`undefined`),I.var(c.default.parentDataProperty,a._`undefined`),I.var(c.default.rootData,c.default.data),k.dynamicRef&&I.var(c.default.dynamicAnchors,a._`{}`)})}(I,K),I.code(x)}):I.func(k,a._`${c.default.data}, ${function D(I){return a._`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${I.dynamicRef?a._`, ${c.default.dynamicAnchors}={}`:a.nil}}={}`}(K)}`,Q.$async,()=>I.code(m(z,K)).code(x))}function m(I,k){const z="object"==typeof I&&I[k.schemaId];return z&&(k.code.source||k.code.process)?a._`/*# sourceURL=${z} */`:a.nil}function C({schema:I,self:k}){if("boolean"==typeof I)return!I;for(const z in I)if(k.RULES.all[z])return!0;return!1}function $(I){return"boolean"!=typeof I.schema}function E(I){(0,_.checkUnknownRules)(I),function Z(I){const{schema:k,errSchemaPath:z,opts:Q,self:K}=I;k.$ref&&Q.ignoreKeywordsWithRef&&(0,_.schemaHasRulesButRef)(k,K.RULES)&&K.logger.warn(`$ref: keywords ignored in schema at path "${z}"`)}(I)}function V(I,k){if(I.opts.jtd)return Ce(I,[],!1,k);const z=(0,n.getSchemaTypes)(I.schema);Ce(I,z,!(0,n.coerceAndCheckDataType)(I,z),k)}function ee({gen:I,schemaEnv:k,schema:z,errSchemaPath:Q,opts:K}){const x=z.$comment;if(!0===K.$comment)I.code(a._`${c.default.self}.logger.log(${x})`);else if("function"==typeof K.$comment){const me=a.str`${Q}/$comment`,Re=I.scopeValue("root",{ref:k.root});I.code(a._`${c.default.self}.opts.$comment(${x}, ${me}, ${Re}.schema)`)}}function Ce(I,k,z,Q){const{gen:K,schema:x,data:me,allErrors:Re,opts:ve,self:de}=I,{RULES:$e}=de;function Ve(Pe){(0,e.shouldUseGroup)(x,Pe)&&(Pe.type?(K.if((0,p.checkDataType)(Pe.type,me,ve.strictNumbers)),be(I,Pe),1===k.length&&k[0]===Pe.type&&z&&(K.else(),(0,p.reportTypeError)(I)),K.endIf()):be(I,Pe),Re||K.if(a._`${c.default.errors} === ${Q||0}`))}!x.$ref||!ve.ignoreKeywordsWithRef&&(0,_.schemaHasRulesButRef)(x,$e)?(ve.jtd||function se(I,k){I.schemaEnv.meta||!I.opts.strictTypes||(function Ae(I,k){if(k.length){if(!I.dataTypes.length)return void(I.dataTypes=k);k.forEach(z=>{o(I.dataTypes,z)||M(I,`type "${z}" not allowed by context "${I.dataTypes.join(",")}"`)}),function v(I,k){const z=[];for(const Q of I.dataTypes)o(k,Q)?z.push(Q):k.includes("integer")&&"number"===Q&&z.push("integer");I.dataTypes=z}(I,k)}}(I,k),I.opts.allowUnionTypes||function G(I,k){k.length>1&&(2!==k.length||!k.includes("null"))&&M(I,"use allowUnionTypes to allow union type keyword")}(I,k),function j(I,k){const z=I.self.RULES.all;for(const Q in z){const K=z[Q];if("object"==typeof K&&(0,e.shouldUseRule)(I.schema,K)){const{type:x}=K.definition;x.length&&!x.some(me=>O(k,me))&&M(I,`missing type "${x.join(",")}" for keyword "${Q}"`)}}}(I,I.dataTypes))}(I,k),K.block(()=>{for(const Pe of $e.rules)Ve(Pe);Ve($e.post)})):K.block(()=>q(I,"$ref",$e.all.$ref.definition))}function be(I,k){const{gen:z,schema:Q,opts:{useDefaults:K}}=I;K&&(0,b.assignDefaults)(I,k.type),z.block(()=>{for(const x of k.rules)(0,e.shouldUseRule)(Q,x)&&q(I,x.keyword,x.definition,k.type)})}function O(I,k){return I.includes(k)||"number"===k&&I.includes("integer")}function o(I,k){return I.includes(k)||"integer"===k&&I.includes("number")}function M(I,k){(0,_.checkStrictMode)(I,k+=` at "${I.schemaEnv.baseId+I.errSchemaPath}" (strictTypes)`,I.opts.strictTypes)}r.validateFunctionCode=function T(I){$(I)&&(E(I),C(I))?function f(I){const{schema:k,opts:z,gen:Q}=I;A(I,()=>{z.$comment&&k.$comment&&ee(I),function H(I){const{schema:k,opts:z}=I;void 0!==k.default&&z.useDefaults&&z.strictSchema&&(0,_.checkStrictMode)(I,"default is ignored in the schema root")}(I),Q.let(c.default.vErrors,null),Q.let(c.default.errors,0),z.unevaluated&&function R(I){const{gen:k,validateName:z}=I;I.evaluated=k.const("evaluated",a._`${z}.evaluated`),k.if(a._`${I.evaluated}.dynamicProps`,()=>k.assign(a._`${I.evaluated}.props`,a._`undefined`)),k.if(a._`${I.evaluated}.dynamicItems`,()=>k.assign(a._`${I.evaluated}.items`,a._`undefined`))}(I),V(I),function ce(I){const{gen:k,schemaEnv:z,validateName:Q,ValidationError:K,opts:x}=I;z.$async?k.if(a._`${c.default.errors} === 0`,()=>k.return(c.default.data),()=>k.throw(a._`new ${K}(${c.default.vErrors})`)):(k.assign(a._`${Q}.errors`,c.default.vErrors),x.unevaluated&&function pe({gen:I,evaluated:k,props:z,items:Q}){z instanceof a.Name&&I.assign(a._`${k}.props`,z),Q instanceof a.Name&&I.assign(a._`${k}.items`,Q)}(I),k.return(a._`${c.default.errors} === 0`))}(I)})}(I):A(I,()=>(0,t.topBoolOrEmptySchema)(I))};class Y{constructor(k,z,Q){if((0,i.validateKeywordUsage)(k,z,Q),this.gen=k.gen,this.allErrors=k.allErrors,this.keyword=Q,this.data=k.data,this.schema=k.schema[Q],this.$data=z.$data&&k.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,_.schemaRefOrVal)(k,this.schema,Q,this.$data),this.schemaType=z.schemaType,this.parentSchema=k.schema,this.params={},this.it=k,this.def=z,this.$data)this.schemaCode=k.gen.const("vSchema",Ne(this.$data,k));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,z.schemaType,z.allowUndefined))throw new Error(`${Q} value must be ${JSON.stringify(z.schemaType)}`);("code"in z?z.trackErrors:!1!==z.errors)&&(this.errsCount=k.gen.const("_errs",c.default.errors))}result(k,z,Q){this.failResult((0,a.not)(k),z,Q)}failResult(k,z,Q){this.gen.if(k),Q?Q():this.error(),z?(this.gen.else(),z(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(k,z){this.failResult((0,a.not)(k),void 0,z)}fail(k){if(void 0===k)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(k),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(k){if(!this.$data)return this.fail(k);const{schemaCode:z}=this;this.fail(a._`${z} !== undefined && (${(0,a.or)(this.invalid$data(),k)})`)}error(k,z,Q){if(z)return this.setParams(z),this._error(k,Q),void this.setParams({});this._error(k,Q)}_error(k,z){(k?P.reportExtraError:P.reportError)(this,this.def.error,z)}$dataError(){(0,P.reportError)(this,this.def.$dataError||P.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,P.resetErrorsCount)(this.gen,this.errsCount)}ok(k){this.allErrors||this.gen.if(k)}setParams(k,z){z?Object.assign(this.params,k):this.params=k}block$data(k,z,Q=a.nil){this.gen.block(()=>{this.check$data(k,Q),z()})}check$data(k=a.nil,z=a.nil){if(!this.$data)return;const{gen:Q,schemaCode:K,schemaType:x,def:me}=this;Q.if((0,a.or)(a._`${K} === undefined`,z)),k!==a.nil&&Q.assign(k,!0),(x.length||me.validateSchema)&&(Q.elseIf(this.invalid$data()),this.$dataError(),k!==a.nil&&Q.assign(k,!1)),Q.else()}invalid$data(){const{gen:k,schemaCode:z,schemaType:Q,def:K,it:x}=this;return(0,a.or)(function me(){if(Q.length){if(!(z instanceof a.Name))throw new Error("ajv implementation error");const ve=Array.isArray(Q)?Q:[Q];return a._`${(0,p.checkDataTypes)(ve,z,x.opts.strictNumbers,p.DataType.Wrong)}`}return a.nil}(),function Re(){if(K.validateSchema){const ve=k.scopeValue("validate$data",{ref:K.validateSchema});return a._`!${ve}(${z})`}return a.nil}())}subschema(k,z){const Q=(0,h.getSubschema)(this.it,k);(0,h.extendSubschemaData)(Q,this.it,k),(0,h.extendSubschemaMode)(Q,k);const K={...this.it,...Q,items:void 0,props:void 0};return function g(I,k){$(I)&&(E(I),C(I))?function y(I,k){const{schema:z,gen:Q,opts:K}=I;K.$comment&&z.$comment&&ee(I),function B(I){const k=I.schema[I.opts.schemaId];k&&(I.baseId=(0,S.resolveUrl)(I.opts.uriResolver,I.baseId,k))}(I),function ne(I){if(I.schema.$async&&!I.schemaEnv.$async)throw new Error("async schema in sync schema")}(I);const x=Q.const("_errs",c.default.errors);V(I,x),Q.var(k,a._`${x} === ${c.default.errors}`)}(I,k):(0,t.boolOrEmptySchema)(I,k)}(K,z),K}mergeEvaluated(k,z){const{it:Q,gen:K}=this;Q.opts.unevaluated&&(!0!==Q.props&&void 0!==k.props&&(Q.props=_.mergeEvaluated.props(K,k.props,Q.props,z)),!0!==Q.items&&void 0!==k.items&&(Q.items=_.mergeEvaluated.items(K,k.items,Q.items,z)))}mergeValidEvaluated(k,z){const{it:Q,gen:K}=this;if(Q.opts.unevaluated&&(!0!==Q.props||!0!==Q.items))return K.if(z,()=>this.mergeEvaluated(k,a.Name)),!0}}function q(I,k,z,Q){const K=new Y(I,z,k);"code"in z?z.code(K,Q):K.$data&&z.validate?(0,i.funcKeywordCode)(K,z):"macro"in z?(0,i.macroKeywordCode)(K,z):(z.compile||z.validate)&&(0,i.funcKeywordCode)(K,z)}r.KeywordCxt=Y;const te=/^\/(?:[^~]|~0|~1)*$/,_e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ne(I,{dataLevel:k,dataNames:z,dataPathArr:Q}){let K,x;if(""===I)return c.default.rootData;if("/"===I[0]){if(!te.test(I))throw new Error(`Invalid JSON-pointer: ${I}`);K=I,x=c.default.rootData}else{const de=_e.exec(I);if(!de)throw new Error(`Invalid JSON-pointer: ${I}`);const $e=+de[1];if(K=de[2],"#"===K){if($e>=k)throw new Error(ve("property/index",$e));return Q[k-$e]}if($e>k)throw new Error(ve("data",$e));if(x=z[k-$e],!K)return x}let me=x;const Re=K.split("/");for(const de of Re)de&&(x=a._`${x}${(0,a.getProperty)((0,_.unescapeJsonPointer)(de))}`,me=a._`${me} && ${x}`);return me;function ve(de,$e){return`Cannot access ${de} ${$e} levels up, current level is ${k}`}}r.getData=Ne},2707:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateKeywordUsage=r.validSchemaType=r.funcKeywordCode=r.macroKeywordCode=void 0;const t=s(6382),n=s(5976),e=s(2812),p=s(5091);function h(T){const{gen:A,data:D,it:d}=T;A.if(d.parentData,()=>A.assign(D,t._`${d.parentData}[${d.parentDataProperty}]`))}function S(T,A,D){if(void 0===D)throw new Error(`keyword "${A}" failed to compile`);return T.scopeValue("keyword","function"==typeof D?{ref:D}:{ref:D,code:(0,t.stringify)(D)})}r.macroKeywordCode=function b(T,A){const{gen:D,keyword:d,schema:f,parentSchema:R,it:m}=T,g=A.macro.call(m.self,f,R,m),C=S(D,d,g);!1!==m.opts.validateSchema&&m.self.validateSchema(g,!0);const $=D.name("valid");T.subschema({schema:g,schemaPath:t.nil,errSchemaPath:`${m.errSchemaPath}/${d}`,topSchemaRef:C,compositeRule:!0},$),T.pass($,()=>T.error(!0))},r.funcKeywordCode=function i(T,A){var D;const{gen:d,keyword:f,schema:R,parentSchema:m,$data:g,it:C}=T;!function c({schemaEnv:T},A){if(A.async&&!T.$async)throw new Error("async keyword in sync schema")}(C,A);const $=!g&&A.compile?A.compile.call(C.self,R,m,C):A.validate,y=S(d,f,$),E=d.let("valid");function B(ee=(A.async?t._`await `:t.nil)){d.assign(E,t._`${ee}${(0,e.callValidateCode)(T,y,C.opts.passContext?n.default.this:n.default.self,!("compile"in A&&!g||!1===A.schema))}`,A.modifying)}function ne(ee){var ce;d.if((0,t.not)(null!==(ce=A.valid)&&void 0!==ce?ce:E),ee)}T.block$data(E,function V(){if(!1===A.errors)B(),A.modifying&&h(T),ne(()=>T.error());else{const ee=A.async?function Z(){const ee=d.let("ruleErrs",null);return d.try(()=>B(t._`await `),ce=>d.assign(E,!1).if(t._`${ce} instanceof ${C.ValidationError}`,()=>d.assign(ee,t._`${ce}.errors`),()=>d.throw(ce))),ee}():function H(){const ee=t._`${y}.errors`;return d.assign(ee,null),B(t.nil),ee}();A.modifying&&h(T),ne(()=>function a(T,A){const{gen:D}=T;D.if(t._`Array.isArray(${A})`,()=>{D.assign(n.default.vErrors,t._`${n.default.vErrors} === null ? ${A} : ${n.default.vErrors}.concat(${A})`).assign(n.default.errors,t._`${n.default.vErrors}.length`),(0,p.extendErrors)(T)},()=>T.error())}(T,ee))}}),T.ok(null!==(D=A.valid)&&void 0!==D?D:E)},r.validSchemaType=function _(T,A,D=!1){return!A.length||A.some(d=>"array"===d?Array.isArray(T):"object"===d?T&&"object"==typeof T&&!Array.isArray(T):typeof T==d||D&&typeof T>"u")},r.validateKeywordUsage=function P({schema:T,opts:A,self:D,errSchemaPath:d},f,R){if(Array.isArray(f.keyword)?!f.keyword.includes(R):f.keyword!==R)throw new Error("ajv implementation error");const m=f.dependencies;if(m?.some(g=>!Object.prototype.hasOwnProperty.call(T,g)))throw new Error(`parent schema must have dependencies of ${R}: ${m.join(",")}`);if(f.validateSchema&&!f.validateSchema(T[R])){const C=`keyword "${R}" value is invalid at path "${d}": `+D.errorsText(f.validateSchema.errors);if("log"!==A.validateSchema)throw new Error(C);D.logger.error(C)}}},2639:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extendSubschemaMode=r.extendSubschemaData=r.getSubschema=void 0;const t=s(6382),n=s(7990);r.getSubschema=function e(i,{keyword:h,schemaProp:a,schema:c,schemaPath:S,errSchemaPath:_,topSchemaRef:P}){if(void 0!==h&&void 0!==c)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==h){const T=i.schema[h];return void 0===a?{schema:T,schemaPath:t._`${i.schemaPath}${(0,t.getProperty)(h)}`,errSchemaPath:`${i.errSchemaPath}/${h}`}:{schema:T[a],schemaPath:t._`${i.schemaPath}${(0,t.getProperty)(h)}${(0,t.getProperty)(a)}`,errSchemaPath:`${i.errSchemaPath}/${h}/${(0,n.escapeFragment)(a)}`}}if(void 0!==c){if(void 0===S||void 0===_||void 0===P)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:S,topSchemaRef:P,errSchemaPath:_}}throw new Error('either "keyword" or "schema" must be passed')},r.extendSubschemaData=function p(i,h,{dataProp:a,dataPropType:c,data:S,dataTypes:_,propertyName:P}){if(void 0!==S&&void 0!==a)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:T}=h;if(void 0!==a){const{errorPath:D,dataPathArr:d,opts:f}=h;A(T.let("data",t._`${h.data}${(0,t.getProperty)(a)}`,!0)),i.errorPath=t.str`${D}${(0,n.getErrorPath)(a,c,f.jsPropertySyntax)}`,i.parentDataProperty=t._`${a}`,i.dataPathArr=[...d,i.parentDataProperty]}function A(D){i.data=D,i.dataLevel=h.dataLevel+1,i.dataTypes=[],h.definedProperties=new Set,i.parentData=h.data,i.dataNames=[...h.dataNames,D]}void 0!==S&&(A(S instanceof t.Name?S:T.let("data",S,!0)),void 0!==P&&(i.propertyName=P)),_&&(i.dataTypes=_)},r.extendSubschemaMode=function b(i,{jtdDiscriminator:h,jtdMetadata:a,compositeRule:c,createErrors:S,allErrors:_}){void 0!==c&&(i.compositeRule=c),void 0!==S&&(i.createErrors=S),void 0!==_&&(i.allErrors=_),i.jtdDiscriminator=h,i.jtdMetadata=a}},5910:(W,r,s)=>{"use strict";var t=s(9344).default;Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;var n=s(6764);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var e=s(6382);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return e._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return e.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return e.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return e.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return e.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return e.CodeGen}});const p=s(496),b=s(140),i=s(2848),h=s(7140),a=s(6382),c=s(1880),S=s(9078),_=s(7990),P=s(4775),T=s(1364),A=(G,j)=>new RegExp(G,j);A.code="new RegExp";const D=["removeAdditional","useDefaults","coerceTypes"],d=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),f={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},R={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},m=200;function g(G){var j,O,o,v,M,Y,q,te,_e,Ne,I,k,z,Q,K,x,me,Re,ve,de,$e,Ve,Pe,Je,Ke;const we=G.strict,Fe=null===(j=G.code)||void 0===j?void 0:j.optimize,Be=!0===Fe||void 0===Fe?1:Fe||0,Oe=null!==(o=null===(O=G.code)||void 0===O?void 0:O.regExp)&&void 0!==o?o:A,Le=null!==(v=G.uriResolver)&&void 0!==v?v:T.default;return{strictSchema:null===(Y=null!==(M=G.strictSchema)&&void 0!==M?M:we)||void 0===Y||Y,strictNumbers:null===(te=null!==(q=G.strictNumbers)&&void 0!==q?q:we)||void 0===te||te,strictTypes:null!==(Ne=null!==(_e=G.strictTypes)&&void 0!==_e?_e:we)&&void 0!==Ne?Ne:"log",strictTuples:null!==(k=null!==(I=G.strictTuples)&&void 0!==I?I:we)&&void 0!==k?k:"log",strictRequired:null!==(Q=null!==(z=G.strictRequired)&&void 0!==z?z:we)&&void 0!==Q&&Q,code:G.code?{...G.code,optimize:Be,regExp:Oe}:{optimize:Be,regExp:Oe},loopRequired:null!==(K=G.loopRequired)&&void 0!==K?K:m,loopEnum:null!==(x=G.loopEnum)&&void 0!==x?x:m,meta:null===(me=G.meta)||void 0===me||me,messages:null===(Re=G.messages)||void 0===Re||Re,inlineRefs:null===(ve=G.inlineRefs)||void 0===ve||ve,schemaId:null!==(de=G.schemaId)&&void 0!==de?de:"$id",addUsedSchema:null===($e=G.addUsedSchema)||void 0===$e||$e,validateSchema:null===(Ve=G.validateSchema)||void 0===Ve||Ve,validateFormats:null===(Pe=G.validateFormats)||void 0===Pe||Pe,unicodeRegExp:null===(Je=G.unicodeRegExp)||void 0===Je||Je,int32range:null===(Ke=G.int32range)||void 0===Ke||Ke,uriResolver:Le}}class C{constructor(j={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,j=this.opts={...j,...g(j)};const{es5:O,lines:o}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:d,es5:O,lines:o}),this.logger=function ne(G){if(!1===G)return B;if(void 0===G)return console;if(G.log&&G.warn&&G.error)return G;throw new Error("logger must implement log, warn and error methods")}(j.logger);const v=j.validateFormats;j.validateFormats=!1,this.RULES=(0,i.getRules)(),$.call(this,f,j,"NOT SUPPORTED"),$.call(this,R,j,"DEPRECATED","warn"),this._metaOpts=H.call(this),j.formats&&V.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),j.keywords&&Z.call(this,j.keywords),"object"==typeof j.meta&&this.addMetaSchema(j.meta),E.call(this),j.validateFormats=v}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:j,meta:O,schemaId:o}=this.opts;let v=P;"id"===o&&(v={...P},v.id=v.$id,delete v.$id),O&&j&&this.addMetaSchema(v,v[o],!1)}defaultMeta(){const{meta:j,schemaId:O}=this.opts;return this.opts.defaultMeta="object"==typeof j?j[O]||j:void 0}validate(j,O){let o;if("string"==typeof j){if(o=this.getSchema(j),!o)throw new Error(`no schema with key or ref "${j}"`)}else o=this.compile(j);const v=o(O);return"$async"in o||(this.errors=o.errors),v}compile(j,O){const o=this._addSchema(j,O);return o.validate||this._compileSchemaEnv(o)}compileAsync(j,O){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:o}=this.opts;return v.call(this,j,O);function v(K,x){return M.apply(this,arguments)}function M(){return(M=t(function*(K,x){yield Y.call(this,K.$schema);const me=this._addSchema(K,x);return me.validate||te.call(this,me)})).apply(this,arguments)}function Y(K){return q.apply(this,arguments)}function q(){return(q=t(function*(K){K&&!this.getSchema(K)&&(yield v.call(this,{$ref:K},!0))})).apply(this,arguments)}function te(K){return _e.apply(this,arguments)}function _e(){return(_e=t(function*(K){try{return this._compileSchemaEnv(K)}catch(x){if(!(x instanceof b.default))throw x;return Ne.call(this,x),yield I.call(this,x.missingSchema),te.call(this,K)}})).apply(this,arguments)}function Ne({missingSchema:K,missingRef:x}){if(this.refs[K])throw new Error(`AnySchema ${K} is loaded but ${x} cannot be resolved`)}function I(K){return k.apply(this,arguments)}function k(){return(k=t(function*(K){const x=yield z.call(this,K);this.refs[K]||(yield Y.call(this,x.$schema)),this.refs[K]||this.addSchema(x,K,O)})).apply(this,arguments)}function z(K){return Q.apply(this,arguments)}function Q(){return(Q=t(function*(K){const x=this._loading[K];if(x)return x;try{return yield this._loading[K]=o(K)}finally{delete this._loading[K]}})).apply(this,arguments)}}addSchema(j,O,o,v=this.opts.validateSchema){if(Array.isArray(j)){for(const Y of j)this.addSchema(Y,void 0,o,v);return this}let M;if("object"==typeof j){const{schemaId:Y}=this.opts;if(M=j[Y],void 0!==M&&"string"!=typeof M)throw new Error(`schema ${Y} must be string`)}return O=(0,c.normalizeId)(O||M),this._checkUnique(O),this.schemas[O]=this._addSchema(j,o,O,v,!0),this}addMetaSchema(j,O,o=this.opts.validateSchema){return this.addSchema(j,O,!0,o),this}validateSchema(j,O){if("boolean"==typeof j)return!0;let o;if(o=j.$schema,void 0!==o&&"string"!=typeof o)throw new Error("$schema must be a string");if(o=o||this.opts.defaultMeta||this.defaultMeta(),!o)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const v=this.validate(o,j);if(!v&&O){const M="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(M);this.logger.error(M)}return v}getSchema(j){let O;for(;"string"==typeof(O=y.call(this,j));)j=O;if(void 0===O){const{schemaId:o}=this.opts,v=new h.SchemaEnv({schema:{},schemaId:o});if(O=h.resolveSchema.call(this,v,j),!O)return;this.refs[j]=O}return O.validate||this._compileSchemaEnv(O)}removeSchema(j){if(j instanceof RegExp)return this._removeAllSchemas(this.schemas,j),this._removeAllSchemas(this.refs,j),this;switch(typeof j){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const O=y.call(this,j);return"object"==typeof O&&this._cache.delete(O.schema),delete this.schemas[j],delete this.refs[j],this}case"object":{this._cache.delete(j);let o=j[this.opts.schemaId];return o&&(o=(0,c.normalizeId)(o),delete this.schemas[o],delete this.refs[o]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(j){for(const O of j)this.addKeyword(O);return this}addKeyword(j,O){let o;if("string"==typeof j)o=j,"object"==typeof O&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),O.keyword=o);else{if("object"!=typeof j||void 0!==O)throw new Error("invalid addKeywords parameters");if(o=(O=j).keyword,Array.isArray(o)&&!o.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(ce.call(this,o,O),!O)return(0,_.eachItem)(o,M=>pe.call(this,M)),this;be.call(this,O);const v={...O,type:(0,S.getJSONTypes)(O.type),schemaType:(0,S.getJSONTypes)(O.schemaType)};return(0,_.eachItem)(o,0===v.type.length?M=>pe.call(this,M,v):M=>v.type.forEach(Y=>pe.call(this,M,v,Y))),this}getKeyword(j){const O=this.RULES.all[j];return"object"==typeof O?O.definition:!!O}removeKeyword(j){const{RULES:O}=this;delete O.keywords[j],delete O.all[j];for(const o of O.rules){const v=o.rules.findIndex(M=>M.keyword===j);v>=0&&o.rules.splice(v,1)}return this}addFormat(j,O){return"string"==typeof O&&(O=new RegExp(O)),this.formats[j]=O,this}errorsText(j=this.errors,{separator:O=", ",dataVar:o="data"}={}){return j&&0!==j.length?j.map(v=>`${o}${v.instancePath} ${v.message}`).reduce((v,M)=>v+O+M):"No errors"}$dataMetaSchema(j,O){const o=this.RULES.all;j=JSON.parse(JSON.stringify(j));for(const v of O){const M=v.split("/").slice(1);let Y=j;for(const q of M)Y=Y[q];for(const q in o){const te=o[q];if("object"!=typeof te)continue;const{$data:_e}=te.definition,Ne=Y[q];_e&&Ne&&(Y[q]=Ae(Ne))}}return j}_removeAllSchemas(j,O){for(const o in j){const v=j[o];(!O||O.test(o))&&("string"==typeof v?delete j[o]:v&&!v.meta&&(this._cache.delete(v.schema),delete j[o]))}}_addSchema(j,O,o,v=this.opts.validateSchema,M=this.opts.addUsedSchema){let Y;const{schemaId:q}=this.opts;if("object"==typeof j)Y=j[q];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof j)throw new Error("schema must be object or boolean")}let te=this._cache.get(j);if(void 0!==te)return te;o=(0,c.normalizeId)(Y||o);const _e=c.getSchemaRefs.call(this,j,o);return te=new h.SchemaEnv({schema:j,schemaId:q,meta:O,baseId:o,localRefs:_e}),this._cache.set(te.schema,te),M&&!o.startsWith("#")&&(o&&this._checkUnique(o),this.refs[o]=te),v&&this.validateSchema(j,!0),te}_checkUnique(j){if(this.schemas[j]||this.refs[j])throw new Error(`schema with key or id "${j}" already exists`)}_compileSchemaEnv(j){if(j.meta?this._compileMetaSchema(j):h.compileSchema.call(this,j),!j.validate)throw new Error("ajv implementation error");return j.validate}_compileMetaSchema(j){const O=this.opts;this.opts=this._metaOpts;try{h.compileSchema.call(this,j)}finally{this.opts=O}}}function $(G,j,O,o="error"){for(const v in G)v in j&&this.logger[o](`${O}: option ${v}. ${G[v]}`)}function y(G){return G=(0,c.normalizeId)(G),this.schemas[G]||this.refs[G]}function E(){const G=this.opts.schemas;if(G)if(Array.isArray(G))this.addSchema(G);else for(const j in G)this.addSchema(G[j],j)}function V(){for(const G in this.opts.formats){const j=this.opts.formats[G];j&&this.addFormat(G,j)}}function Z(G){if(Array.isArray(G))this.addVocabulary(G);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const j in G){const O=G[j];O.keyword||(O.keyword=j),this.addKeyword(O)}}}function H(){const G={...this.opts};for(const j of D)delete G[j];return G}r.default=C,C.ValidationError=p.default,C.MissingRefError=b.default;const B={log(){},warn(){},error(){}},ee=/^[a-z_$][a-z0-9_$:-]*$/i;function ce(G,j){const{RULES:O}=this;if((0,_.eachItem)(G,o=>{if(O.keywords[o])throw new Error(`Keyword ${o} is already defined`);if(!ee.test(o))throw new Error(`Keyword ${o} has invalid name`)}),j&&j.$data&&!("code"in j)&&!("validate"in j))throw new Error('$data keyword must have "code" or "validate" function')}function pe(G,j,O){var o;const v=j?.post;if(O&&v)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:M}=this;let Y=v?M.post:M.rules.find(({type:te})=>te===O);if(Y||(Y={type:O,rules:[]},M.rules.push(Y)),M.keywords[G]=!0,!j)return;const q={keyword:G,definition:{...j,type:(0,S.getJSONTypes)(j.type),schemaType:(0,S.getJSONTypes)(j.schemaType)}};j.before?Ce.call(this,Y,q,j.before):Y.rules.push(q),M.all[G]=q,null===(o=j.implements)||void 0===o||o.forEach(te=>this.addKeyword(te))}function Ce(G,j,O){const o=G.rules.findIndex(v=>v.keyword===O);o>=0?G.rules.splice(o,0,j):(G.rules.push(j),this.logger.warn(`rule ${O} is not defined`))}function be(G){let{metaSchema:j}=G;void 0!==j&&(G.$data&&this.opts.$data&&(j=Ae(j)),G.validateSchema=this.compile(j,!0))}const se={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ae(G){return{anyOf:[G,se]}}},834:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(2559);t.code='require("ajv/dist/runtime/equal").default',r.default=t},6344:(W,r)=>{"use strict";function s(t){const n=t.length;let b,e=0,p=0;for(;p<n;)e++,b=t.charCodeAt(p++),b>=55296&&b<=56319&&p<n&&(b=t.charCodeAt(p),56320==(64512&b)&&p++);return e}Object.defineProperty(r,"__esModule",{value:!0}),r.default=s,s.code='require("ajv/dist/runtime/ucs2length").default'},1364:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6482);t.code='require("ajv/dist/runtime/uri").default',r.default=t},496:(W,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});class s extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}r.default=s},9282:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateAdditionalItems=void 0;const t=s(6382),n=s(7990),p={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:i}})=>t.str`must NOT have more than ${i} items`,params:({params:{len:i}})=>t._`{limit: ${i}}`},code(i){const{parentSchema:h,it:a}=i,{items:c}=h;Array.isArray(c)?b(i,c):(0,n.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas')}};function b(i,h){const{gen:a,schema:c,data:S,keyword:_,it:P}=i;P.items=!0;const T=a.const("len",t._`${S}.length`);if(!1===c)i.setParams({len:h.length}),i.pass(t._`${T} <= ${h.length}`);else if("object"==typeof c&&!(0,n.alwaysValidSchema)(P,c)){const D=a.var("valid",t._`${T} <= ${h.length}`);a.if((0,t.not)(D),()=>function A(D){a.forRange("i",h.length,T,d=>{i.subschema({keyword:_,dataProp:d,dataPropType:n.Type.Num},D),P.allErrors||a.if((0,t.not)(D),()=>a.break())})}(D)),i.ok(D)}}r.validateAdditionalItems=b,r.default=p},5459:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(2812),n=s(6382),e=s(5976),p=s(7990);r.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:h})=>n._`{additionalProperty: ${h.additionalProperty}}`},code(h){const{gen:a,schema:c,parentSchema:S,data:_,errsCount:P,it:T}=h;if(!P)throw new Error("ajv implementation error");const{allErrors:A,opts:D}=T;if(T.props=!0,"all"!==D.removeAdditional&&(0,p.alwaysValidSchema)(T,c))return;const d=(0,t.allSchemaProperties)(S.properties),f=(0,t.allSchemaProperties)(S.patternProperties);function g(y){a.code(n._`delete ${_}[${y}]`)}function C(y){if("all"===D.removeAdditional||D.removeAdditional&&!1===c)g(y);else{if(!1===c)return h.setParams({additionalProperty:y}),h.error(),void(A||a.break());if("object"==typeof c&&!(0,p.alwaysValidSchema)(T,c)){const E=a.name("valid");"failing"===D.removeAdditional?($(y,E,!1),a.if((0,n.not)(E),()=>{h.reset(),g(y)})):($(y,E),A||a.if((0,n.not)(E),()=>a.break()))}}}function $(y,E,V){const Z={keyword:"additionalProperties",dataProp:y,dataPropType:p.Type.Str};!1===V&&Object.assign(Z,{compositeRule:!0,createErrors:!1,allErrors:!1}),h.subschema(Z,E)}(function R(){a.forIn("key",_,y=>{d.length||f.length?a.if(function m(y){let E;if(d.length>8){const V=(0,p.schemaRefOrVal)(T,S.properties,"properties");E=(0,t.isOwnProperty)(a,V,y)}else E=d.length?(0,n.or)(...d.map(V=>n._`${y} === ${V}`)):n.nil;return f.length&&(E=(0,n.or)(E,...f.map(V=>n._`${(0,t.usePattern)(h,V)}.test(${y})`))),(0,n.not)(E)}(y),()=>C(y)):C(y)})})(),h.ok(n._`${P} === ${e.default.errors}`)}}},6186:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(7990);r.default={keyword:"allOf",schemaType:"array",code(e){const{gen:p,schema:b,it:i}=e;if(!Array.isArray(b))throw new Error("ajv implementation error");const h=p.name("valid");b.forEach((a,c)=>{if((0,t.alwaysValidSchema)(i,a))return;const S=e.subschema({keyword:"allOf",schemaProp:c},h);e.ok(h),e.mergeEvaluated(S)})}}},290:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:s(2812).validateUnion,error:{message:"must match a schema in anyOf"}};r.default=n},5738:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990);r.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:b,max:i}})=>void 0===i?t.str`must contain at least ${b} valid item(s)`:t.str`must contain at least ${b} and no more than ${i} valid item(s)`,params:({params:{min:b,max:i}})=>void 0===i?t._`{minContains: ${b}}`:t._`{minContains: ${b}, maxContains: ${i}}`},code(b){const{gen:i,schema:h,parentSchema:a,data:c,it:S}=b;let _,P;const{minContains:T,maxContains:A}=a;S.opts.next?(_=void 0===T?1:T,P=A):_=1;const D=i.const("len",t._`${c}.length`);if(b.setParams({min:_,max:P}),void 0===P&&0===_)return void(0,n.checkStrictMode)(S,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==P&&_>P)return(0,n.checkStrictMode)(S,'"minContains" > "maxContains" is always invalid'),void b.fail();if((0,n.alwaysValidSchema)(S,h)){let g=t._`${D} >= ${_}`;return void 0!==P&&(g=t._`${g} && ${D} <= ${P}`),void b.pass(g)}S.items=!0;const d=i.name("valid");function f(){const g=i.name("_valid"),C=i.let("count",0);R(g,()=>i.if(g,()=>function m(g){i.code(t._`${g}++`),void 0===P?i.if(t._`${g} >= ${_}`,()=>i.assign(d,!0).break()):(i.if(t._`${g} > ${P}`,()=>i.assign(d,!1).break()),1===_?i.assign(d,!0):i.if(t._`${g} >= ${_}`,()=>i.assign(d,!0)))}(C)))}function R(g,C){i.forRange("i",0,D,$=>{b.subschema({keyword:"contains",dataProp:$,dataPropType:n.Type.Num,compositeRule:!0},g),C()})}void 0===P&&1===_?R(d,()=>i.if(d,()=>i.break())):0===_?(i.let(d,!0),void 0!==P&&i.if(t._`${c}.length > 0`,f)):(i.let(d,!1),f()),b.result(d,()=>b.reset())}}},1886:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateSchemaDeps=r.validatePropertyDeps=r.error=void 0;const t=s(6382),n=s(7990),e=s(2812);r.error={message:({params:{property:a,depsCount:c,deps:S}})=>t.str`must have ${1===c?"property":"properties"} ${S} when property ${a} is present`,params:({params:{property:a,depsCount:c,deps:S,missingProperty:_}})=>t._`{property: ${a},
    missingProperty: ${_},
    depsCount: ${c},
    deps: ${S}}`};const p={keyword:"dependencies",type:"object",schemaType:"object",error:r.error,code(a){const[c,S]=function b({schema:a}){const c={},S={};for(const _ in a)"__proto__"!==_&&((Array.isArray(a[_])?c:S)[_]=a[_]);return[c,S]}(a);i(a,c),h(a,S)}};function i(a,c=a.schema){const{gen:S,data:_,it:P}=a;if(0===Object.keys(c).length)return;const T=S.let("missing");for(const A in c){const D=c[A];if(0===D.length)continue;const d=(0,e.propertyInData)(S,_,A,P.opts.ownProperties);a.setParams({property:A,depsCount:D.length,deps:D.join(", ")}),P.allErrors?S.if(d,()=>{for(const f of D)(0,e.checkReportMissingProp)(a,f)}):(S.if(t._`${d} && (${(0,e.checkMissingProp)(a,D,T)})`),(0,e.reportMissingProp)(a,T),S.else())}}function h(a,c=a.schema){const{gen:S,data:_,keyword:P,it:T}=a,A=S.name("valid");for(const D in c)(0,n.alwaysValidSchema)(T,c[D])||(S.if((0,e.propertyInData)(S,_,D,T.opts.ownProperties),()=>{const d=a.subschema({keyword:P,schemaProp:D},A);a.mergeValidEvaluated(d,A)},()=>S.var(A,!0)),a.ok(A))}r.validatePropertyDeps=i,r.validateSchemaDeps=h,r.default=p},3632:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990);function b(i,h){const a=i.schema[h];return void 0!==a&&!(0,n.alwaysValidSchema)(i,a)}r.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:i})=>t.str`must match "${i.ifClause}" schema`,params:({params:i})=>t._`{failingKeyword: ${i.ifClause}}`},code(i){const{gen:h,parentSchema:a,it:c}=i;void 0===a.then&&void 0===a.else&&(0,n.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const S=b(c,"then"),_=b(c,"else");if(!S&&!_)return;const P=h.let("valid",!0),T=h.name("_valid");if(function A(){const d=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},T);i.mergeEvaluated(d)}(),i.reset(),S&&_){const d=h.let("ifClause");i.setParams({ifClause:d}),h.if(T,D("then",d),D("else",d))}else S?h.if(T,D("then")):h.if((0,t.not)(T),D("else"));function D(d,f){return()=>{const R=i.subschema({keyword:d},T);h.assign(P,T),i.mergeValidEvaluated(R,P),f?h.assign(f,t._`${d}`):i.setParams({ifClause:d})}}i.pass(P,()=>i.error(!0))}}},7737:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(9282),n=s(4947),e=s(9180),p=s(1785),b=s(5738),i=s(1886),h=s(7947),a=s(5459),c=s(8415),S=s(896),_=s(6330),P=s(290),T=s(2337),A=s(6186),D=s(3632),d=s(1344);r.default=function f(R=!1){const m=[_.default,P.default,T.default,A.default,D.default,d.default,h.default,a.default,i.default,c.default,S.default];return R?m.push(n.default,p.default):m.push(t.default,e.default),m.push(b.default),m}},9180:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateTuple=void 0;const t=s(6382),n=s(7990),e=s(2812),p={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:h,it:a}=i;if(Array.isArray(h))return b(i,"additionalItems",h);a.items=!0,!(0,n.alwaysValidSchema)(a,h)&&i.ok((0,e.validateArray)(i))}};function b(i,h,a=i.schema){const{gen:c,parentSchema:S,data:_,keyword:P,it:T}=i;(function d(f){const{opts:R,errSchemaPath:m}=T,g=a.length;R.strictTuples&&!(g===f.minItems&&(g===f.maxItems||!1===f[h]))&&(0,n.checkStrictMode)(T,`"${P}" is ${g}-tuple, but minItems or maxItems/${h} are not specified or different at path "${m}"`,R.strictTuples)})(S),T.opts.unevaluated&&a.length&&!0!==T.items&&(T.items=n.mergeEvaluated.items(c,a.length,T.items));const A=c.name("valid"),D=c.const("len",t._`${_}.length`);a.forEach((f,R)=>{(0,n.alwaysValidSchema)(T,f)||(c.if(t._`${D} > ${R}`,()=>i.subschema({keyword:P,schemaProp:R,dataProp:R},A)),i.ok(A))})}r.validateTuple=b,r.default=p},1785:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990),e=s(2812),p=s(9282);r.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:h}})=>t.str`must NOT have more than ${h} items`,params:({params:{len:h}})=>t._`{limit: ${h}}`},code(h){const{schema:a,parentSchema:c,it:S}=h,{prefixItems:_}=c;S.items=!0,!(0,n.alwaysValidSchema)(S,a)&&(_?(0,p.validateAdditionalItems)(h,_):h.ok((0,e.validateArray)(h)))}}},6330:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(7990);r.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:p,schema:b,it:i}=e;if((0,t.alwaysValidSchema)(i,b))return void e.fail();const h=p.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},h),e.failResult(h,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}}},2337:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990);r.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:b})=>t._`{passingSchemas: ${b.passing}}`},code(b){const{gen:i,schema:h,parentSchema:a,it:c}=b;if(!Array.isArray(h))throw new Error("ajv implementation error");if(c.opts.discriminator&&a.discriminator)return;const S=h,_=i.let("valid",!1),P=i.let("passing",null),T=i.name("_valid");b.setParams({passing:P}),i.block(function A(){S.forEach((D,d)=>{let f;(0,n.alwaysValidSchema)(c,D)?i.var(T,!0):f=b.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},T),d>0&&i.if(t._`${T} && ${_}`).assign(_,!1).assign(P,t._`[${P}, ${d}]`).else(),i.if(T,()=>{i.assign(_,!0),i.assign(P,d),f&&b.mergeEvaluated(f,t.Name)})})}),b.result(_,()=>b.reset(),()=>b.error(!0))}}},896:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(2812),n=s(6382),e=s(7990),p=s(7990);r.default={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:h,schema:a,data:c,parentSchema:S,it:_}=i,{opts:P}=_,T=(0,t.allSchemaProperties)(a),A=T.filter(C=>(0,e.alwaysValidSchema)(_,a[C]));if(0===T.length||A.length===T.length&&(!_.opts.unevaluated||!0===_.props))return;const D=P.strictSchema&&!P.allowMatchingProperties&&S.properties,d=h.name("valid");!0!==_.props&&!(_.props instanceof n.Name)&&(_.props=(0,p.evaluatedPropsToName)(h,_.props));const{props:f}=_;function m(C){for(const $ in D)new RegExp(C).test($)&&(0,e.checkStrictMode)(_,`property ${$} matches pattern ${C} (use allowMatchingProperties)`)}function g(C){h.forIn("key",c,$=>{h.if(n._`${(0,t.usePattern)(i,C)}.test(${$})`,()=>{const y=A.includes(C);y||i.subschema({keyword:"patternProperties",schemaProp:C,dataProp:$,dataPropType:p.Type.Str},d),_.opts.unevaluated&&!0!==f?h.assign(n._`${f}[${$}]`,!0):!y&&!_.allErrors&&h.if((0,n.not)(d),()=>h.break())})})}!function R(){for(const C of T)D&&m(C),_.allErrors?g(C):(h.var(d,!0),g(C),h.if(d))}()}}},4947:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(9180);r.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,t.validateTuple)(e,"items")}},8415:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6764),n=s(2812),e=s(7990),p=s(5459);r.default={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:h,schema:a,parentSchema:c,data:S,it:_}=i;"all"===_.opts.removeAdditional&&void 0===c.additionalProperties&&p.default.code(new t.KeywordCxt(_,p.default,"additionalProperties"));const P=(0,n.allSchemaProperties)(a);for(const f of P)_.definedProperties.add(f);_.opts.unevaluated&&P.length&&!0!==_.props&&(_.props=e.mergeEvaluated.props(h,(0,e.toHash)(P),_.props));const T=P.filter(f=>!(0,e.alwaysValidSchema)(_,a[f]));if(0===T.length)return;const A=h.name("valid");for(const f of T)D(f)?d(f):(h.if((0,n.propertyInData)(h,S,f,_.opts.ownProperties)),d(f),_.allErrors||h.else().var(A,!0),h.endIf()),i.it.definedProperties.add(f),i.ok(A);function D(f){return _.opts.useDefaults&&!_.compositeRule&&void 0!==a[f].default}function d(f){i.subschema({keyword:"properties",schemaProp:f,dataProp:f},A)}}}},7947:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990);r.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:b})=>t._`{propertyName: ${b.propertyName}}`},code(b){const{gen:i,schema:h,data:a,it:c}=b;if((0,n.alwaysValidSchema)(c,h))return;const S=i.name("valid");i.forIn("key",a,_=>{b.setParams({propertyName:_}),b.subschema({keyword:"propertyNames",data:_,dataTypes:["string"],propertyName:_,compositeRule:!0},S),i.if((0,t.not)(S),()=>{b.error(!0),c.allErrors||i.break()})}),b.ok(S)}}},1344:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(7990);r.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:p,it:b}){void 0===p.if&&(0,t.checkStrictMode)(b,`"${e}" without "if" is ignored`)}}},2812:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateUnion=r.validateArray=r.usePattern=r.callValidateCode=r.schemaProperties=r.allSchemaProperties=r.noPropertyInData=r.propertyInData=r.isOwnProperty=r.hasPropFunc=r.reportMissingProp=r.checkMissingProp=r.checkReportMissingProp=void 0;const t=s(6382),n=s(7990),e=s(5976),p=s(7990);function a(m){return m.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:t._`Object.prototype.hasOwnProperty`})}function c(m,g,C){return t._`${a(m)}.call(${g}, ${C})`}function _(m,g,C,$){const y=t._`${g}${(0,t.getProperty)(C)} === undefined`;return $?(0,t.or)(y,(0,t.not)(c(m,g,C))):y}function P(m){return m?Object.keys(m).filter(g=>"__proto__"!==g):[]}r.checkReportMissingProp=function b(m,g){const{gen:C,data:$,it:y}=m;C.if(_(C,$,g,y.opts.ownProperties),()=>{m.setParams({missingProperty:t._`${g}`},!0),m.error()})},r.checkMissingProp=function i({gen:m,data:g,it:{opts:C}},$,y){return(0,t.or)(...$.map(E=>(0,t.and)(_(m,g,E,C.ownProperties),t._`${y} = ${E}`)))},r.reportMissingProp=function h(m,g){m.setParams({missingProperty:g},!0),m.error()},r.hasPropFunc=a,r.isOwnProperty=c,r.propertyInData=function S(m,g,C,$){const y=t._`${g}${(0,t.getProperty)(C)} !== undefined`;return $?t._`${y} && ${c(m,g,C)}`:y},r.noPropertyInData=_,r.allSchemaProperties=P,r.schemaProperties=function T(m,g){return P(g).filter(C=>!(0,n.alwaysValidSchema)(m,g[C]))},r.callValidateCode=function A({schemaCode:m,data:g,it:{gen:C,topSchemaRef:$,schemaPath:y,errorPath:E},it:V},Z,H,B){const ne=B?t._`${m}, ${g}, ${$}${y}`:g,ee=[[e.default.instancePath,(0,t.strConcat)(e.default.instancePath,E)],[e.default.parentData,V.parentData],[e.default.parentDataProperty,V.parentDataProperty],[e.default.rootData,e.default.rootData]];V.opts.dynamicRef&&ee.push([e.default.dynamicAnchors,e.default.dynamicAnchors]);const ce=t._`${ne}, ${C.object(...ee)}`;return H!==t.nil?t._`${Z}.call(${H}, ${ce})`:t._`${Z}(${ce})`};const D=t._`new RegExp`;r.usePattern=function d({gen:m,it:{opts:g}},C){const $=g.unicodeRegExp?"u":"",{regExp:y}=g.code,E=y(C,$);return m.scopeValue("pattern",{key:E.toString(),ref:E,code:t._`${"new RegExp"===y.code?D:(0,p.useFunc)(m,y)}(${C}, ${$})`})},r.validateArray=function f(m){const{gen:g,data:C,keyword:$,it:y}=m,E=g.name("valid");if(y.allErrors){const Z=g.let("valid",!0);return V(()=>g.assign(Z,!1)),Z}return g.var(E,!0),V(()=>g.break()),E;function V(Z){const H=g.const("len",t._`${C}.length`);g.forRange("i",0,H,B=>{m.subschema({keyword:$,dataProp:B,dataPropType:n.Type.Num},E),g.if((0,t.not)(E),Z)})}},r.validateUnion=function R(m){const{gen:g,schema:C,keyword:$,it:y}=m;if(!Array.isArray(C))throw new Error("ajv implementation error");if(C.some(H=>(0,n.alwaysValidSchema)(y,H))&&!y.opts.unevaluated)return;const V=g.let("valid",!1),Z=g.name("_valid");g.block(()=>C.forEach((H,B)=>{const ne=m.subschema({keyword:$,schemaProp:B,compositeRule:!0},Z);g.assign(V,t._`${V} || ${Z}`),m.mergeValidEvaluated(ne,Z)||g.if((0,t.not)(V))})),m.result(V,()=>m.reset(),()=>m.error(!0))}},1167:(W,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},1093:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(1167),n=s(4703);r.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,n.default]},4703:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.callRef=r.getValidate=void 0;const t=s(140),n=s(2812),e=s(6382),p=s(5976),b=s(7140),i=s(7990),h={keyword:"$ref",schemaType:"string",code(S){const{gen:_,schema:P,it:T}=S,{baseId:A,schemaEnv:D,validateName:d,opts:f,self:R}=T,{root:m}=D;if(("#"===P||"#/"===P)&&A===m.baseId)return function C(){if(D===m)return c(S,d,D,D.$async);const E=_.scopeValue("root",{ref:m});return c(S,e._`${E}.validate`,m,m.$async)}();const g=b.resolveRef.call(R,m,A,P);if(void 0===g)throw new t.default(T.opts.uriResolver,A,P);return g instanceof b.SchemaEnv?function $(E){const V=a(S,E);c(S,V,E,E.$async)}(g):function y(E){const V=_.scopeValue("schema",!0===f.code.source?{ref:E,code:(0,e.stringify)(E)}:{ref:E}),Z=_.name("valid"),H=S.subschema({schema:E,dataTypes:[],schemaPath:e.nil,topSchemaRef:V,errSchemaPath:P},Z);S.mergeEvaluated(H),S.ok(Z)}(g)}};function a(S,_){const{gen:P}=S;return _.validate?P.scopeValue("validate",{ref:_.validate}):e._`${P.scopeValue("wrapper",{ref:_})}.validate`}function c(S,_,P,T){const{gen:A,it:D}=S,{allErrors:d,schemaEnv:f,opts:R}=D,m=R.passContext?p.default.this:e.nil;function $(E){const V=e._`${E}.errors`;A.assign(p.default.vErrors,e._`${p.default.vErrors} === null ? ${V} : ${p.default.vErrors}.concat(${V})`),A.assign(p.default.errors,e._`${p.default.vErrors}.length`)}function y(E){var V;if(!D.opts.unevaluated)return;const Z=null===(V=P?.validate)||void 0===V?void 0:V.evaluated;if(!0!==D.props)if(Z&&!Z.dynamicProps)void 0!==Z.props&&(D.props=i.mergeEvaluated.props(A,Z.props,D.props));else{const H=A.var("props",e._`${E}.evaluated.props`);D.props=i.mergeEvaluated.props(A,H,D.props,e.Name)}if(!0!==D.items)if(Z&&!Z.dynamicItems)void 0!==Z.items&&(D.items=i.mergeEvaluated.items(A,Z.items,D.items));else{const H=A.var("items",e._`${E}.evaluated.items`);D.items=i.mergeEvaluated.items(A,H,D.items,e.Name)}}T?function g(){if(!f.$async)throw new Error("async schema referenced by sync schema");const E=A.let("valid");A.try(()=>{A.code(e._`await ${(0,n.callValidateCode)(S,_,m)}`),y(_),d||A.assign(E,!0)},V=>{A.if(e._`!(${V} instanceof ${D.ValidationError})`,()=>A.throw(V)),$(V),d||A.assign(E,!1)}),S.ok(E)}():function C(){S.result((0,n.callValidateCode)(S,_,m),()=>y(_),()=>$(_))}()}r.getValidate=a,r.callRef=c,r.default=h},1849:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(797),e=s(7140),p=s(7990);r.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:h,tagName:a}})=>h===n.DiscrError.Tag?`tag "${a}" must be string`:`value of tag "${a}" must be in oneOf`,params:({params:{discrError:h,tag:a,tagName:c}})=>t._`{error: ${h}, tag: ${c}, tagValue: ${a}}`},code(h){const{gen:a,data:c,schema:S,parentSchema:_,it:P}=h,{oneOf:T}=_;if(!P.opts.discriminator)throw new Error("discriminator: requires discriminator option");const A=S.propertyName;if("string"!=typeof A)throw new Error("discriminator: requires propertyName");if(S.mapping)throw new Error("discriminator: mapping is not supported");if(!T)throw new Error("discriminator: requires oneOf keyword");const D=a.let("valid",!1),d=a.const("tag",t._`${c}${(0,t.getProperty)(A)}`);function R(g){const C=a.name("valid"),$=h.subschema({keyword:"oneOf",schemaProp:g},C);return h.mergeEvaluated($,t.Name),C}a.if(t._`typeof ${d} == "string"`,()=>function f(){const g=function m(){var g;const C={},$=E(_);let y=!0;for(let H=0;H<T.length;H++){let B=T[H];B?.$ref&&!(0,p.schemaHasRulesButRef)(B,P.self.RULES)&&(B=e.resolveRef.call(P.self,P.schemaEnv.root,P.baseId,B?.$ref),B instanceof e.SchemaEnv&&(B=B.schema));const ne=null===(g=B?.properties)||void 0===g?void 0:g[A];if("object"!=typeof ne)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${A}"`);y=y&&($||E(B)),V(ne,H)}if(!y)throw new Error(`discriminator: "${A}" must be required`);return C;function E({required:H}){return Array.isArray(H)&&H.includes(A)}function V(H,B){if(H.const)Z(H.const,B);else{if(!H.enum)throw new Error(`discriminator: "properties/${A}" must have "const" or "enum"`);for(const ne of H.enum)Z(ne,B)}}function Z(H,B){if("string"!=typeof H||H in C)throw new Error(`discriminator: "${A}" values must be unique strings`);C[H]=B}}();a.if(!1);for(const C in g)a.elseIf(t._`${d} === ${C}`),a.assign(D,R(g[C]));a.else(),h.error(!1,{discrError:n.DiscrError.Mapping,tag:d,tagName:A}),a.endIf()}(),()=>h.error(!1,{discrError:n.DiscrError.Tag,tag:d,tagName:A})),h.ok(D)}}},797:(W,r)=>{"use strict";var t;Object.defineProperty(r,"__esModule",{value:!0}),r.DiscrError=void 0,(t=r.DiscrError||(r.DiscrError={})).Tag="tag",t.Mapping="mapping"},7032:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(1093),n=s(7887),e=s(7737),p=s(7447),b=s(760),i=[t.default,n.default,(0,e.default)(),p.default,b.metadataVocabulary,b.contentVocabulary];r.default=i},2364:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382);r.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:p})=>t.str`must match format "${p}"`,params:({schemaCode:p})=>t._`{format: ${p}}`},code(p,b){const{gen:i,data:h,$data:a,schema:c,schemaCode:S,it:_}=p,{opts:P,errSchemaPath:T,schemaEnv:A,self:D}=_;P.validateFormats&&(a?function d(){const R=i.scopeValue("formats",{ref:D.formats,code:P.code.formats}),m=i.const("fDef",t._`${R}[${S}]`),g=i.let("fType"),C=i.let("format");i.if(t._`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>i.assign(g,t._`${m}.type || "string"`).assign(C,t._`${m}.validate`),()=>i.assign(g,t._`"string"`).assign(C,m)),p.fail$data((0,t.or)(function $(){return!1===P.strictSchema?t.nil:t._`${S} && !${C}`}(),function y(){const E=A.$async?t._`(${m}.async ? await ${C}(${h}) : ${C}(${h}))`:t._`${C}(${h})`,V=t._`(typeof ${C} == "function" ? ${E} : ${C}.test(${h}))`;return t._`${C} && ${C} !== true && ${g} === ${b} && !${V}`}()))}():function f(){const R=D.formats[c];if(!R)return void function $(){if(!1!==P.strictSchema)throw new Error(V());function V(){return`unknown format "${c}" ignored in schema at path "${T}"`}D.logger.warn(V())}();if(!0===R)return;const[m,g,C]=function y(V){const Z=V instanceof RegExp?(0,t.regexpCode)(V):P.code.formats?t._`${P.code.formats}${(0,t.getProperty)(c)}`:void 0,H=i.scopeValue("formats",{key:c,ref:V,code:Z});return"object"!=typeof V||V instanceof RegExp?["string",V,H]:[V.type||"string",V.validate,t._`${H}.validate`]}(R);m===b&&p.pass(function E(){if("object"==typeof R&&!(R instanceof RegExp)&&R.async){if(!A.$async)throw new Error("async format in sync schema");return t._`await ${C}(${h})`}return"function"==typeof g?t._`${C}(${h})`:t._`${C}.test(${h})`}())}())}}},7447:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=[s(2364).default];r.default=n},760:(W,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.contentVocabulary=r.metadataVocabulary=void 0,r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},7677:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990),e=s(834);r.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:i})=>t._`{allowedValue: ${i}}`},code(i){const{gen:h,data:a,$data:c,schemaCode:S,schema:_}=i;c||_&&"object"==typeof _?i.fail$data(t._`!${(0,n.useFunc)(h,e.default)}(${a}, ${S})`):i.fail(t._`${_} !== ${a}`)}}},8373:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990),e=s(834);r.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:i})=>t._`{allowedValues: ${i}}`},code(i){const{gen:h,data:a,$data:c,schema:S,schemaCode:_,it:P}=i;if(!c&&0===S.length)throw new Error("enum must have non-empty array");let A;const D=()=>A??(A=(0,n.useFunc)(h,e.default));let d;if(S.length>=P.opts.loopEnum||c)d=h.let("valid"),i.block$data(d,function f(){h.assign(d,!1),h.forOf("v",_,m=>h.if(t._`${D()}(${a}, ${m})`,()=>h.assign(d,!0).break()))});else{if(!Array.isArray(S))throw new Error("ajv implementation error");const m=h.const("vSchema",_);d=(0,t.or)(...S.map((g,C)=>function R(m,g){const C=S[g];return"object"==typeof C&&null!==C?t._`${D()}(${a}, ${m}[${g}])`:t._`${a} === ${C}`}(m,C)))}i.pass(d)}}},7887:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(7126),n=s(2018),e=s(6230),p=s(8455),b=s(5608),i=s(109),h=s(5132),a=s(4097),c=s(7677),S=s(8373);r.default=[t.default,n.default,e.default,p.default,b.default,i.default,h.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,S.default]},5132:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382);r.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:p,schemaCode:b})=>t.str`must NOT have ${"maxItems"===p?"more":"fewer"} than ${b} items`,params:({schemaCode:p})=>t._`{limit: ${p}}`},code(p){const{keyword:b,data:i,schemaCode:h}=p;p.fail$data(t._`${i}.length ${"maxItems"===b?t.operators.GT:t.operators.LT} ${h}`)}}},6230:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990),e=s(6344);r.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:i,schemaCode:h})=>t.str`must NOT have ${"maxLength"===i?"more":"fewer"} than ${h} characters`,params:({schemaCode:i})=>t._`{limit: ${i}}`},code(i){const{keyword:h,data:a,schemaCode:c,it:S}=i,_="maxLength"===h?t.operators.GT:t.operators.LT,P=!1===S.opts.unicode?t._`${a}.length`:t._`${(0,n.useFunc)(i.gen,e.default)}(${a})`;i.fail$data(t._`${P} ${_} ${c}`)}}},7126:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=t.operators,e={maximum:{okStr:"<=",ok:n.LTE,fail:n.GT},minimum:{okStr:">=",ok:n.GTE,fail:n.LT},exclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},exclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},p={message:({keyword:i,schemaCode:h})=>t.str`must be ${e[i].okStr} ${h}`,params:({keyword:i,schemaCode:h})=>t._`{comparison: ${e[i].okStr}, limit: ${h}}`},b={keyword:Object.keys(e),type:"number",schemaType:"number",$data:!0,error:p,code(i){const{keyword:h,data:a,schemaCode:c}=i;i.fail$data(t._`${a} ${e[h].fail} ${c} || isNaN(${a})`)}};r.default=b},5608:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382);r.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:p,schemaCode:b})=>t.str`must NOT have ${"maxProperties"===p?"more":"fewer"} than ${b} properties`,params:({schemaCode:p})=>t._`{limit: ${p}}`},code(p){const{keyword:b,data:i,schemaCode:h}=p;p.fail$data(t._`Object.keys(${i}).length ${"maxProperties"===b?t.operators.GT:t.operators.LT} ${h}`)}}},2018:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382);r.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:p})=>t.str`must be multiple of ${p}`,params:({schemaCode:p})=>t._`{multipleOf: ${p}}`},code(p){const{gen:b,data:i,schemaCode:h,it:a}=p,c=a.opts.multipleOfPrecision,S=b.let("res"),_=c?t._`Math.abs(Math.round(${S}) - ${S}) > 1e-${c}`:t._`${S} !== parseInt(${S})`;p.fail$data(t._`(${h} === 0 || (${S} = ${i}/${h}, ${_}))`)}}},8455:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(2812),n=s(6382);r.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:b})=>n.str`must match pattern "${b}"`,params:({schemaCode:b})=>n._`{pattern: ${b}}`},code(b){const{data:i,$data:h,schema:a,schemaCode:c,it:S}=b,P=h?n._`(new RegExp(${c}, ${S.opts.unicodeRegExp?"u":""}))`:(0,t.usePattern)(b,a);b.fail$data(n._`!${P}.test(${i})`)}}},109:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(2812),n=s(6382),e=s(7990);r.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:i}})=>n.str`must have required property '${i}'`,params:({params:{missingProperty:i}})=>n._`{missingProperty: ${i}}`},code(i){const{gen:h,schema:a,schemaCode:c,data:S,$data:_,it:P}=i,{opts:T}=P;if(!_&&0===a.length)return;const A=a.length>=T.loopRequired;if(P.allErrors?function D(){if(A||_)i.block$data(n.nil,f);else for(const m of a)(0,t.checkReportMissingProp)(i,m)}():function d(){const m=h.let("missing");if(A||_){const g=h.let("valid",!0);i.block$data(g,()=>function R(m,g){i.setParams({missingProperty:m}),h.forOf(m,c,()=>{h.assign(g,(0,t.propertyInData)(h,S,m,T.ownProperties)),h.if((0,n.not)(g),()=>{i.error(),h.break()})},n.nil)}(m,g)),i.ok(g)}else h.if((0,t.checkMissingProp)(i,a,m)),(0,t.reportMissingProp)(i,m),h.else()}(),T.strictRequired){const m=i.parentSchema.properties,{definedProperties:g}=i.it;for(const C of a)void 0!==m?.[C]||g.has(C)||(0,e.checkStrictMode)(P,`required property "${C}" is not defined at "${P.schemaEnv.baseId+P.errSchemaPath}" (strictRequired)`,P.opts.strictRequired)}function f(){h.forOf("prop",c,m=>{i.setParams({missingProperty:m}),h.if((0,t.noPropertyInData)(h,S,m,T.ownProperties),()=>i.error())})}}}},4097:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(9078),n=s(6382),e=s(7990),p=s(834);r.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:h,j:a}})=>n.str`must NOT have duplicate items (items ## ${a} and ${h} are identical)`,params:({params:{i:h,j:a}})=>n._`{i: ${h}, j: ${a}}`},code(h){const{gen:a,data:c,$data:S,schema:_,parentSchema:P,schemaCode:T,it:A}=h;if(!S&&!_)return;const D=a.let("valid"),d=P.items?(0,t.getSchemaTypes)(P.items):[];function m(C,$){const y=a.name("item"),E=(0,t.checkDataTypes)(d,y,A.opts.strictNumbers,t.DataType.Wrong),V=a.const("indices",n._`{}`);a.for(n._`;${C}--;`,()=>{a.let(y,n._`${c}[${C}]`),a.if(E,n._`continue`),d.length>1&&a.if(n._`typeof ${y} == "string"`,n._`${y} += "_"`),a.if(n._`typeof ${V}[${y}] == "number"`,()=>{a.assign($,n._`${V}[${y}]`),h.error(),a.assign(D,!1).break()}).code(n._`${V}[${y}] = ${C}`)})}function g(C,$){const y=(0,e.useFunc)(a,p.default),E=a.name("outer");a.label(E).for(n._`;${C}--;`,()=>a.for(n._`${$} = ${C}; ${$}--;`,()=>a.if(n._`${y}(${c}[${C}], ${c}[${$}])`,()=>{h.error(),a.assign(D,!1).break(E)})))}h.block$data(D,function f(){const C=a.let("i",n._`${c}.length`),$=a.let("j");h.setParams({i:C,j:$}),a.assign(D,!0),a.if(n._`${C} > 1`,()=>(function R(){return d.length>0&&!d.some(C=>"object"===C||"array"===C)}()?m:g)(C,$))},n._`${T} === false`),h.ok(D)}}},2559:W=>{"use strict";W.exports=function r(s,t){if(s===t)return!0;if(s&&t&&"object"==typeof s&&"object"==typeof t){if(s.constructor!==t.constructor)return!1;var n,e,p;if(Array.isArray(s)){if((n=s.length)!=t.length)return!1;for(e=n;0!=e--;)if(!r(s[e],t[e]))return!1;return!0}if(s.constructor===RegExp)return s.source===t.source&&s.flags===t.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===t.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===t.toString();if((n=(p=Object.keys(s)).length)!==Object.keys(t).length)return!1;for(e=n;0!=e--;)if(!Object.prototype.hasOwnProperty.call(t,p[e]))return!1;for(e=n;0!=e--;){var b=p[e];if(!r(s[b],t[b]))return!1}return!0}return s!=s&&t!=t}},3366:W=>{"use strict";var r=W.exports=function(n,e,p){"function"==typeof e&&(p=e,e={}),s(e,"function"==typeof(p=e.cb||p)?p:p.pre||function(){},p.post||function(){},n,"",n)};function s(n,e,p,b,i,h,a,c,S,_){if(b&&"object"==typeof b&&!Array.isArray(b)){for(var P in e(b,i,h,a,c,S,_),b){var T=b[P];if(Array.isArray(T)){if(P in r.arrayKeywords)for(var A=0;A<T.length;A++)s(n,e,p,T[A],i+"/"+P+"/"+A,h,i,P,b,A)}else if(P in r.propsKeywords){if(T&&"object"==typeof T)for(var D in T)s(n,e,p,T[D],i+"/"+P+"/"+t(D),h,i,P,b,D)}else(P in r.keywords||n.allKeys&&!(P in r.skipKeywords))&&s(n,e,p,T,i+"/"+P,h,i,P,b)}p(b,i,h,a,c,S,_)}}function t(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},6482:function(W,r){!function(s){"use strict";function t(){for(var u=arguments.length,l=Array(u),N=0;N<u;N++)l[N]=arguments[N];if(l.length>1){l[0]=l[0].slice(0,-1);for(var F=l.length-1,U=1;U<F;++U)l[U]=l[U].slice(1,-1);return l[F]=l[F].slice(1),l.join("")}return l[0]}function n(u){return"(?:"+u+")"}function e(u){return void 0===u?"undefined":null===u?"null":Object.prototype.toString.call(u).split(" ").pop().split("]").shift().toLowerCase()}function p(u){return u.toUpperCase()}function h(u){var l="[A-Za-z]",F="[0-9]",X=t(F,"[A-Fa-f]"),ue=n(n("%[EFef]"+X+"%"+X+X+"%"+X+X)+"|"+n("%[89A-Fa-f]"+X+"%"+X+X)+"|"+n("%"+X+X)),ae="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ye=t("[\\:\\/\\?\\#\\[\\]\\@]",ae),he=u?"[\\uE000-\\uF8FF]":"[]",ie=t(l,F,"[\\-\\.\\_\\~]",u?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),ge=n(l+t(l,F,"[\\+\\-\\.]")+"*"),le=n(n(ue+"|"+t(ie,ae,"[\\:]"))+"*"),Ie=(n(n("25[0-5]")+"|"+n("2[0-4]"+F)+"|"+n("1"+F+F)+"|"+n("[1-9]"+F)+"|"+F),n(n("25[0-5]")+"|"+n("2[0-4]"+F)+"|"+n("1"+F+F)+"|"+n("0?[1-9]"+F)+"|0?0?"+F)),Me=n(Ie+"\\."+Ie+"\\."+Ie+"\\."+Ie),fe=n(X+"{1,4}"),De=n(n(fe+"\\:"+fe)+"|"+Me),ke=n(n(fe+"\\:")+"{6}"+De),Ue=n("\\:\\:"+n(fe+"\\:")+"{5}"+De),Qe=n(n(fe)+"?\\:\\:"+n(fe+"\\:")+"{4}"+De),ze=n(n(n(fe+"\\:")+"{0,1}"+fe)+"?\\:\\:"+n(fe+"\\:")+"{3}"+De),st=n(n(n(fe+"\\:")+"{0,2}"+fe)+"?\\:\\:"+n(fe+"\\:")+"{2}"+De),yt=n(n(n(fe+"\\:")+"{0,3}"+fe)+"?\\:\\:"+fe+"\\:"+De),gt=n(n(n(fe+"\\:")+"{0,4}"+fe)+"?\\:\\:"+De),We=n(n(n(fe+"\\:")+"{0,5}"+fe)+"?\\:\\:"+fe),Xe=n(n(n(fe+"\\:")+"{0,6}"+fe)+"?\\:\\:"),Ze=n([ke,Ue,Qe,ze,st,yt,gt,We,Xe].join("|")),qe=n(n(ie+"|"+ue)+"+"),Ye=(n(Ze+"\\%25"+qe),n(Ze+n("\\%25|\\%(?!"+X+"{2})")+qe)),It=n("[vV]"+X+"+\\."+t(ie,ae,"[\\:]")+"+"),Dt=n("\\["+n(Ye+"|"+Ze+"|"+It)+"\\]"),Tt=n(n(ue+"|"+t(ie,ae))+"*"),ot=n(Dt+"|"+Me+"(?!"+Tt+")|"+Tt),it=n(F+"*"),Ct=n(n(le+"@")+"?"+ot+n("\\:"+it)+"?"),ct=n(ue+"|"+t(ie,ae,"[\\:\\@]")),jt=n(ct+"*"),At=n(ct+"+"),Mt=n(n(ue+"|"+t(ie,ae,"[\\@]"))+"+"),He=n(n("\\/"+jt)+"*"),xe=n("\\/"+n(At+He)+"?"),Rt=n(Mt+He),$t=n(At+He),et="(?!"+ct+")",tt=(n(He+"|"+xe+"|"+Rt+"|"+$t+"|"+et),n(n(ct+"|"+t("[\\/\\?]",he))+"*")),ut=n(n(ct+"|[\\/\\?]")+"*"),Ot=n(n("\\/\\/"+Ct+He)+"|"+xe+"|"+$t+"|"+et),kt=n(ge+"\\:"+Ot+n("\\?"+tt)+"?"+n("\\#"+ut)+"?"),Ft=n(n("\\/\\/"+Ct+He)+"|"+xe+"|"+Rt+"|"+et),Vt=n(Ft+n("\\?"+tt)+"?"+n("\\#"+ut)+"?");return n(kt+"|"+Vt),n(ge+"\\:"+Ot+n("\\?"+tt)+"?"),n(n("\\/\\/("+n("("+le+")@")+"?("+ot+")"+n("\\:("+it+")")+"?)")+"?("+He+"|"+xe+"|"+$t+"|"+et+")"),n("\\?("+tt+")"),n("\\#("+ut+")"),n(n("\\/\\/("+n("("+le+")@")+"?("+ot+")"+n("\\:("+it+")")+"?)")+"?("+He+"|"+xe+"|"+Rt+"|"+et+")"),n("\\?("+tt+")"),n("\\#("+ut+")"),n(n("\\/\\/("+n("("+le+")@")+"?("+ot+")"+n("\\:("+it+")")+"?)")+"?("+He+"|"+xe+"|"+$t+"|"+et+")"),n("\\?("+tt+")"),n("\\#("+ut+")"),n("("+le+")@"),n("\\:("+it+")"),{NOT_SCHEME:new RegExp(t("[^]",l,F,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",ie,ae),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",ie,ae),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",ie,ae),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",ie,ae),"g"),NOT_QUERY:new RegExp(t("[^\\%]",ie,ae,"[\\:\\@\\/\\?]",he),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",ie,ae,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",ie,ae),"g"),UNRESERVED:new RegExp(ie,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",ie,ye),"g"),PCT_ENCODED:new RegExp(ue,"g"),IPV4ADDRESS:new RegExp("^("+Me+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ze+")"+n(n("\\%25|\\%(?!"+X+"{2})")+"("+qe+")")+"?\\]?$")}}var a=h(!1),c=h(!0),S=function(l,N){if(Array.isArray(l))return l;if(Symbol.iterator in Object(l))return function u(l,N){var F=[],U=!0,X=!1,re=void 0;try{for(var ue,oe=l[Symbol.iterator]();!(U=(ue=oe.next()).done)&&(F.push(ue.value),!N||F.length!==N);U=!0);}catch(Ee){X=!0,re=Ee}finally{try{!U&&oe.return&&oe.return()}finally{if(X)throw re}}return F}(l,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")},P=2147483647,T=36,C=/^xn--/,$=/[^\0-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Z=Math.floor,H=String.fromCharCode;function B(u){throw new RangeError(E[u])}function ee(u,l){var N=u.split("@"),F="";return N.length>1&&(F=N[0]+"@",u=N[1]),F+function ne(u,l){for(var N=[],F=u.length;F--;)N[F]=l(u[F]);return N}((u=u.replace(y,".")).split("."),l).join(".")}function ce(u){for(var l=[],N=0,F=u.length;N<F;){var U=u.charCodeAt(N++);if(U>=55296&&U<=56319&&N<F){var X=u.charCodeAt(N++);56320==(64512&X)?l.push(((1023&U)<<10)+(1023&X)+65536):(l.push(U),N--)}else l.push(U)}return l}var Ce=function(l){return l-48<10?l-22:l-65<26?l-65:l-97<26?l-97:T},be=function(l,N){return l+22+75*(l<26)-((0!=N)<<5)},se=function(l,N,F){var U=0;for(l=F?Z(l/700):l>>1,l+=Z(l/N);l>455;U+=T)l=Z(l/35);return Z(U+36*l/(l+38))},Ae=function(l){var N=[],F=l.length,U=0,X=128,re=72,oe=l.lastIndexOf("-");oe<0&&(oe=0);for(var ue=0;ue<oe;++ue)l.charCodeAt(ue)>=128&&B("not-basic"),N.push(l.charCodeAt(ue));for(var Ee=oe>0?oe+1:0;Ee<F;){for(var ae=U,ye=1,Se=T;;Se+=T){Ee>=F&&B("invalid-input");var he=Ce(l.charCodeAt(Ee++));(he>=T||he>Z((P-U)/ye))&&B("overflow"),U+=he*ye;var ie=Se<=re?1:Se>=re+26?26:Se-re;if(he<ie)break;var ge=T-ie;ye>Z(P/ge)&&B("overflow"),ye*=ge}var le=N.length+1;re=se(U-ae,le,0==ae),Z(U/le)>P-X&&B("overflow"),X+=Z(U/le),U%=le,N.splice(U++,0,X)}return String.fromCodePoint.apply(String,N)},G=function(l){var N=[],F=(l=ce(l)).length,U=128,X=0,re=72,oe=!0,ue=!1,Ee=void 0;try{for(var ye,ae=l[Symbol.iterator]();!(oe=(ye=ae.next()).done);oe=!0){var Se=ye.value;Se<128&&N.push(H(Se))}}catch(Ye){ue=!0,Ee=Ye}finally{try{!oe&&ae.return&&ae.return()}finally{if(ue)throw Ee}}var he=N.length,ie=he;for(he&&N.push("-");ie<F;){var ge=P,le=!0,Ge=!1,Ie=void 0;try{for(var fe,Me=l[Symbol.iterator]();!(le=(fe=Me.next()).done);le=!0){var De=fe.value;De>=U&&De<ge&&(ge=De)}}catch(Ye){Ge=!0,Ie=Ye}finally{try{!le&&Me.return&&Me.return()}finally{if(Ge)throw Ie}}var ke=ie+1;ge-U>Z((P-X)/ke)&&B("overflow"),X+=(ge-U)*ke,U=ge;var Ue=!0,Qe=!1,ze=void 0;try{for(var yt,st=l[Symbol.iterator]();!(Ue=(yt=st.next()).done);Ue=!0){var gt=yt.value;if(gt<U&&++X>P&&B("overflow"),gt==U){for(var We=X,Xe=T;;Xe+=T){var Ze=Xe<=re?1:Xe>=re+26?26:Xe-re;if(We<Ze)break;var qe=We-Ze,Pt=T-Ze;N.push(H(be(Ze+qe%Pt,0))),We=Z(qe/Pt)}N.push(H(be(We,0))),re=se(X,ke,ie==he),X=0,++ie}}}catch(Ye){Qe=!0,ze=Ye}finally{try{!Ue&&st.return&&st.return()}finally{if(Qe)throw ze}}++X,++U}return N.join("")},o={version:"2.1.0",ucs2:{decode:ce,encode:function(l){return String.fromCodePoint.apply(String,function(u){if(Array.isArray(u)){for(var l=0,N=Array(u.length);l<u.length;l++)N[l]=u[l];return N}return Array.from(u)}(l))}},decode:Ae,encode:G,toASCII:function(l){return ee(l,function(N){return $.test(N)?"xn--"+G(N):N})},toUnicode:function(l){return ee(l,function(N){return C.test(N)?Ae(N.slice(4).toLowerCase()):N})}},v={};function M(u){var l=u.charCodeAt(0);return l<16?"%0"+l.toString(16).toUpperCase():l<128?"%"+l.toString(16).toUpperCase():l<2048?"%"+(l>>6|192).toString(16).toUpperCase()+"%"+(63&l|128).toString(16).toUpperCase():"%"+(l>>12|224).toString(16).toUpperCase()+"%"+(l>>6&63|128).toString(16).toUpperCase()+"%"+(63&l|128).toString(16).toUpperCase()}function Y(u){for(var l="",N=0,F=u.length;N<F;){var U=parseInt(u.substr(N+1,2),16);if(U<128)l+=String.fromCharCode(U),N+=3;else if(U>=194&&U<224){if(F-N>=6){var X=parseInt(u.substr(N+4,2),16);l+=String.fromCharCode((31&U)<<6|63&X)}else l+=u.substr(N,6);N+=6}else if(U>=224){if(F-N>=9){var re=parseInt(u.substr(N+4,2),16),oe=parseInt(u.substr(N+7,2),16);l+=String.fromCharCode((15&U)<<12|(63&re)<<6|63&oe)}else l+=u.substr(N,9);N+=9}else l+=u.substr(N,3),N+=3}return l}function q(u,l){function N(F){var U=Y(F);return U.match(l.UNRESERVED)?U:F}return u.scheme&&(u.scheme=String(u.scheme).replace(l.PCT_ENCODED,N).toLowerCase().replace(l.NOT_SCHEME,"")),void 0!==u.userinfo&&(u.userinfo=String(u.userinfo).replace(l.PCT_ENCODED,N).replace(l.NOT_USERINFO,M).replace(l.PCT_ENCODED,p)),void 0!==u.host&&(u.host=String(u.host).replace(l.PCT_ENCODED,N).toLowerCase().replace(l.NOT_HOST,M).replace(l.PCT_ENCODED,p)),void 0!==u.path&&(u.path=String(u.path).replace(l.PCT_ENCODED,N).replace(u.scheme?l.NOT_PATH:l.NOT_PATH_NOSCHEME,M).replace(l.PCT_ENCODED,p)),void 0!==u.query&&(u.query=String(u.query).replace(l.PCT_ENCODED,N).replace(l.NOT_QUERY,M).replace(l.PCT_ENCODED,p)),void 0!==u.fragment&&(u.fragment=String(u.fragment).replace(l.PCT_ENCODED,N).replace(l.NOT_FRAGMENT,M).replace(l.PCT_ENCODED,p)),u}function te(u){return u.replace(/^0*(.*)/,"$1")||"0"}function _e(u,l){var N=u.match(l.IPV4ADDRESS)||[],U=S(N,2)[1];return U?U.split(".").map(te).join("."):u}function Ne(u,l){var N=u.match(l.IPV6ADDRESS)||[],F=S(N,3),U=F[1],X=F[2];if(U){for(var re=U.toLowerCase().split("::").reverse(),oe=S(re,2),ue=oe[0],Ee=oe[1],ae=Ee?Ee.split(":").map(te):[],ye=ue.split(":").map(te),Se=l.IPV4ADDRESS.test(ye[ye.length-1]),he=Se?7:8,ie=ye.length-he,ge=Array(he),le=0;le<he;++le)ge[le]=ae[le]||ye[ie+le]||"";Se&&(ge[he-1]=_e(ge[he-1],l));var Ie=ge.reduce(function(ke,Ue,Qe){if(!Ue||"0"===Ue){var ze=ke[ke.length-1];ze&&ze.index+ze.length===Qe?ze.length++:ke.push({index:Qe,length:1})}return ke},[]).sort(function(ke,Ue){return Ue.length-ke.length})[0],Me=void 0;if(Ie&&Ie.length>1){var fe=ge.slice(0,Ie.index),De=ge.slice(Ie.index+Ie.length);Me=fe.join(":")+"::"+De.join(":")}else Me=ge.join(":");return X&&(Me+="%"+X),Me}return u}var I=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,k=void 0==="".match(/(){0}/)[1];function z(u){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},N={},F=!1!==l.iri?c:a;"suffix"===l.reference&&(u=(l.scheme?l.scheme+":":"")+"//"+u);var U=u.match(I);if(U){k?(N.scheme=U[1],N.userinfo=U[3],N.host=U[4],N.port=parseInt(U[5],10),N.path=U[6]||"",N.query=U[7],N.fragment=U[8],isNaN(N.port)&&(N.port=U[5])):(N.scheme=U[1]||void 0,N.userinfo=-1!==u.indexOf("@")?U[3]:void 0,N.host=-1!==u.indexOf("//")?U[4]:void 0,N.port=parseInt(U[5],10),N.path=U[6]||"",N.query=-1!==u.indexOf("?")?U[7]:void 0,N.fragment=-1!==u.indexOf("#")?U[8]:void 0,isNaN(N.port)&&(N.port=u.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?U[4]:void 0)),N.host&&(N.host=Ne(_e(N.host,F),F)),N.reference=void 0!==N.scheme||void 0!==N.userinfo||void 0!==N.host||void 0!==N.port||N.path||void 0!==N.query?void 0===N.scheme?"relative":void 0===N.fragment?"absolute":"uri":"same-document",l.reference&&"suffix"!==l.reference&&l.reference!==N.reference&&(N.error=N.error||"URI is not a "+l.reference+" reference.");var X=v[(l.scheme||N.scheme||"").toLowerCase()];if(l.unicodeSupport||X&&X.unicodeSupport)q(N,F);else{if(N.host&&(l.domainHost||X&&X.domainHost))try{N.host=o.toASCII(N.host.replace(F.PCT_ENCODED,Y).toLowerCase())}catch(re){N.error=N.error||"Host's domain name can not be converted to ASCII via punycode: "+re}q(N,a)}X&&X.parse&&X.parse(N,l)}else N.error=N.error||"URI can not be parsed.";return N}var K=/^\.\.?\//,x=/^\/\.(\/|$)/,me=/^\/\.\.(\/|$)/,Re=/^\/?(?:.|\n)*?(?=\/|$)/;function ve(u){for(var l=[];u.length;)if(u.match(K))u=u.replace(K,"");else if(u.match(x))u=u.replace(x,"/");else if(u.match(me))u=u.replace(me,"/"),l.pop();else if("."===u||".."===u)u="";else{var N=u.match(Re);if(!N)throw new Error("Unexpected dot segment condition");var F=N[0];u=u.slice(F.length),l.push(F)}return l.join("")}function de(u){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},N=l.iri?c:a,F=[],U=v[(l.scheme||u.scheme||"").toLowerCase()];if(U&&U.serialize&&U.serialize(u,l),u.host&&!N.IPV6ADDRESS.test(u.host)&&(l.domainHost||U&&U.domainHost))try{u.host=l.iri?o.toUnicode(u.host):o.toASCII(u.host.replace(N.PCT_ENCODED,Y).toLowerCase())}catch(oe){u.error=u.error||"Host's domain name can not be converted to "+(l.iri?"Unicode":"ASCII")+" via punycode: "+oe}q(u,N),"suffix"!==l.reference&&u.scheme&&(F.push(u.scheme),F.push(":"));var X=function Q(u,l){var N=!1!==l.iri?c:a,F=[];return void 0!==u.userinfo&&(F.push(u.userinfo),F.push("@")),void 0!==u.host&&F.push(Ne(_e(String(u.host),N),N).replace(N.IPV6ADDRESS,function(U,X,re){return"["+X+(re?"%25"+re:"")+"]"})),("number"==typeof u.port||"string"==typeof u.port)&&(F.push(":"),F.push(String(u.port))),F.length?F.join(""):void 0}(u,l);if(void 0!==X&&("suffix"!==l.reference&&F.push("//"),F.push(X),u.path&&"/"!==u.path.charAt(0)&&F.push("/")),void 0!==u.path){var re=u.path;!l.absolutePath&&(!U||!U.absolutePath)&&(re=ve(re)),void 0===X&&(re=re.replace(/^\/\//,"/%2F")),F.push(re)}return void 0!==u.query&&(F.push("?"),F.push(u.query)),void 0!==u.fragment&&(F.push("#"),F.push(u.fragment)),F.join("")}function $e(u,l){var N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},U={};return arguments[3]||(u=z(de(u,N),N),l=z(de(l,N),N)),!(N=N||{}).tolerant&&l.scheme?(U.scheme=l.scheme,U.userinfo=l.userinfo,U.host=l.host,U.port=l.port,U.path=ve(l.path||""),U.query=l.query):(void 0!==l.userinfo||void 0!==l.host||void 0!==l.port?(U.userinfo=l.userinfo,U.host=l.host,U.port=l.port,U.path=ve(l.path||""),U.query=l.query):(l.path?("/"===l.path.charAt(0)?U.path=ve(l.path):(U.path=void 0===u.userinfo&&void 0===u.host&&void 0===u.port||u.path?u.path?u.path.slice(0,u.path.lastIndexOf("/")+1)+l.path:l.path:"/"+l.path,U.path=ve(U.path)),U.query=l.query):(U.path=u.path,U.query=void 0!==l.query?l.query:u.query),U.userinfo=u.userinfo,U.host=u.host,U.port=u.port),U.scheme=u.scheme),U.fragment=l.fragment,U}function we(u,l){return u&&u.toString().replace(l&&l.iri?c.PCT_ENCODED:a.PCT_ENCODED,Y)}var Fe={scheme:"http",domainHost:!0,parse:function(l,N){return l.host||(l.error=l.error||"HTTP URIs must have a host."),l},serialize:function(l,N){var F="https"===String(l.scheme).toLowerCase();return(l.port===(F?443:80)||""===l.port)&&(l.port=void 0),l.path||(l.path="/"),l}},Be={scheme:"https",domainHost:Fe.domainHost,parse:Fe.parse,serialize:Fe.serialize};function Oe(u){return"boolean"==typeof u.secure?u.secure:"wss"===String(u.scheme).toLowerCase()}var Le={scheme:"ws",domainHost:!0,parse:function(l,N){var F=l;return F.secure=Oe(F),F.resourceName=(F.path||"/")+(F.query?"?"+F.query:""),F.path=void 0,F.query=void 0,F},serialize:function(l,N){if((l.port===(Oe(l)?443:80)||""===l.port)&&(l.port=void 0),"boolean"==typeof l.secure&&(l.scheme=l.secure?"wss":"ws",l.secure=void 0),l.resourceName){var F=l.resourceName.split("?"),U=S(F,2),X=U[0],re=U[1];l.path=X&&"/"!==X?X:void 0,l.query=re,l.resourceName=void 0}return l.fragment=void 0,l}},lt={scheme:"wss",domainHost:Le.domainHost,parse:Le.parse,serialize:Le.serialize},dt={},rt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",je="[0-9A-Fa-f]",nt=n(n("%[EFef]"+je+"%"+je+je+"%"+je+je)+"|"+n("%[89A-Fa-f]"+je+"%"+je+je)+"|"+n("%"+je+je)),Et=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),wt=new RegExp(rt,"g"),Te=new RegExp(nt,"g"),at=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Et),"g"),ht=new RegExp(t("[^]",rt,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),bt=ht;function pt(u){var l=Y(u);return l.match(wt)?l:u}var vt={scheme:"mailto",parse:function(l,N){var F=l,U=F.to=F.path?F.path.split(","):[];if(F.path=void 0,F.query){for(var X=!1,re={},oe=F.query.split("&"),ue=0,Ee=oe.length;ue<Ee;++ue){var ae=oe[ue].split("=");switch(ae[0]){case"to":for(var ye=ae[1].split(","),Se=0,he=ye.length;Se<he;++Se)U.push(ye[Se]);break;case"subject":F.subject=we(ae[1],N);break;case"body":F.body=we(ae[1],N);break;default:X=!0,re[we(ae[0],N)]=we(ae[1],N)}}X&&(F.headers=re)}F.query=void 0;for(var ie=0,ge=U.length;ie<ge;++ie){var le=U[ie].split("@");if(le[0]=we(le[0]),N.unicodeSupport)le[1]=we(le[1],N).toLowerCase();else try{le[1]=o.toASCII(we(le[1],N).toLowerCase())}catch(Ge){F.error=F.error||"Email address's domain name can not be converted to ASCII via punycode: "+Ge}U[ie]=le.join("@")}return F},serialize:function(l,N){var F=l,U=function b(u){return null!=u?u instanceof Array?u:"number"!=typeof u.length||u.split||u.setInterval||u.call?[u]:Array.prototype.slice.call(u):[]}(l.to);if(U){for(var X=0,re=U.length;X<re;++X){var oe=String(U[X]),ue=oe.lastIndexOf("@"),Ee=oe.slice(0,ue).replace(Te,pt).replace(Te,p).replace(at,M),ae=oe.slice(ue+1);try{ae=N.iri?o.toUnicode(ae):o.toASCII(we(ae,N).toLowerCase())}catch(ie){F.error=F.error||"Email address's domain name can not be converted to "+(N.iri?"Unicode":"ASCII")+" via punycode: "+ie}U[X]=Ee+"@"+ae}F.path=U.join(",")}var ye=l.headers=l.headers||{};l.subject&&(ye.subject=l.subject),l.body&&(ye.body=l.body);var Se=[];for(var he in ye)ye[he]!==dt[he]&&Se.push(he.replace(Te,pt).replace(Te,p).replace(ht,M)+"="+ye[he].replace(Te,pt).replace(Te,p).replace(bt,M));return Se.length&&(F.query=Se.join("&")),F}},Nt=/^([^\:]+)\:(.*)/,w={scheme:"urn",parse:function(l,N){var F=l.path&&l.path.match(Nt),U=l;if(F){var X=N.scheme||U.scheme||"urn",re=F[1].toLowerCase(),oe=F[2],Ee=v[X+":"+(N.nid||re)];U.nid=re,U.nss=oe,U.path=void 0,Ee&&(U=Ee.parse(U,N))}else U.error=U.error||"URN can not be parsed.";return U},serialize:function(l,N){var U=l.nid,re=v[(N.scheme||l.scheme||"urn")+":"+(N.nid||U)];re&&(l=re.serialize(l,N));var oe=l;return oe.path=(U||N.nid)+":"+l.nss,oe}},J=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,L={scheme:"urn:uuid",parse:function(l,N){var F=l;return F.uuid=F.nss,F.nss=void 0,!N.tolerant&&(!F.uuid||!F.uuid.match(J))&&(F.error=F.error||"UUID is not valid."),F},serialize:function(l,N){var F=l;return F.nss=(l.uuid||"").toLowerCase(),F}};v[Fe.scheme]=Fe,v[Be.scheme]=Be,v[Le.scheme]=Le,v[lt.scheme]=lt,v[vt.scheme]=vt,v[w.scheme]=w,v[L.scheme]=L,s.SCHEMES=v,s.pctEncChar=M,s.pctDecChars=Y,s.parse=z,s.removeDotSegments=ve,s.serialize=de,s.resolveComponents=$e,s.resolve=function Ve(u,l,N){var F=function i(u,l){var N=u;if(l)for(var F in l)N[F]=l[F];return N}({scheme:"null"},N);return de($e(z(u,F),z(l,F),F,!0),F)},s.normalize=function Pe(u,l){return"string"==typeof u?u=de(z(u,l),l):"object"===e(u)&&(u=z(de(u,l),l)),u},s.equal=function Je(u,l,N){return"string"==typeof u?u=de(z(u,N),N):"object"===e(u)&&(u=de(u,N)),"string"==typeof l?l=de(z(l,N),N):"object"===e(l)&&(l=de(l,N)),u===l},s.escapeComponent=function Ke(u,l){return u&&u.toString().replace(l&&l.iri?c.ESCAPE:a.ESCAPE,M)},s.unescapeComponent=we,Object.defineProperty(s,"__esModule",{value:!0})}(r)},9344:W=>{function r(t,n,e,p,b,i,h){try{var a=t[i](h),c=a.value}catch(S){return void e(S)}a.done?n(c):Promise.resolve(c).then(p,b)}W.exports=function s(t){return function(){var n=this,e=arguments;return new Promise(function(p,b){var i=t.apply(n,e);function h(c){r(i,p,b,h,a,"next",c)}function a(c){r(i,p,b,h,a,"throw",c)}h(void 0)})}},W.exports.__esModule=!0,W.exports.default=W.exports},4775:W=>{"use strict";W.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},98:W=>{"use strict";W.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}}]);