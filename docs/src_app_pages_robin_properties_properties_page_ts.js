"use strict";(self.webpackChunkrobin=self.webpackChunkrobin||[]).push([["src_app_pages_robin_properties_properties_page_ts"],{9195:(oe,E,c)=>{c.r(E),c.d(E,{default:()=>te});var r=c(7691),l=c(9492),m=c(7244);const y=(o,n)=>o===l.Ff.Common?"COMMUNITY":o===n?"BENEFICIARY":"PARTNER",v=o=>({withPartner:o.householdCategory===l.XH.Duo,...o.childrenCount&&"0"!==o.childrenCount&&{dependantChildren:Number(o.childrenCount)},properties:o.items.map(n=>({nature:n.nature,cadastralIncome:(0,m.W_)(n.cadastralIncome),realRights:n.fractionTwo&&n.ownershipTwo&&n.ownerTwo?[{fraction:n.fractionOne,ownership:n.ownershipOne,owner:y(n.ownerOne,o.beneficiaryGender)},{fraction:n.fractionTwo,ownership:n.ownershipTwo,owner:y(n.ownerTwo,o.beneficiaryGender)}]:[{fraction:n.fractionOne,ownership:n.ownershipOne,owner:y(n.ownerOne,o.beneficiaryGender)}]}))}),P=o=>({form:{householdCategory:{data:o.householdCategory,pipe:"t9nEnum"},beneficiaryGender:{data:o.beneficiaryGender,class:o.householdCategory===l.XH.Duo?"":"d-none",pipe:"t9nEnum"},childrenCount:{data:o.childrenCount??"",class:o.childrenCount?"":"d-none"}},array:o.items.map(n=>({nature:{data:n.nature,pipe:"t9nEnum"},cadastralIncome:{data:(0,m.R3)(n.cadastralIncome,"\xa0\u20ac")},fractionOne:{data:n.fractionOne,class:"text-end pe-0"},ownershipOne:{data:n.ownershipOne,pipe:"t9nEnum",class:"text-end pe-0"},ownerOne:{data:n.ownerOne,class:"text-end pe-0"},fractionTwo:{data:n.fractionTwo,class:"text-end pe-0"},ownershipTwo:{data:n.ownershipTwo,pipe:"t9nEnum",class:"text-end pe-0"},ownerTwo:{data:n.ownerTwo}}))}),I=o=>({properties:o.properties.map(n=>({nature:{data:n.nature,pipe:"t9nEnum"},cadastralIncome:{data:n.cadastralIncome,pipe:"beNumber",args:"0"},fractionsSum:{data:n.fractionsSum},correctionFactor:{data:n.correctionFactor},effectiveValue:{data:n.effectiveValue,pipe:"beNumber",args:"4"}})),totalByNature:o.totalByNature.map(n=>({nature:{data:n.nature,pipe:"t9nEnum"},sum:{data:n.sum,pipe:"beNumber",args:"4"},exoneration:{...n.exoneration.base&&{base:{data:n.exoneration.base,pipe:"beNumber",args:"0"},forDependantChildren:{data:n.exoneration.forDependantChildren,pipe:"beNumber",args:"0"}},total:{data:n.exoneration.total,pipe:"beNumber",args:"0"}},exonerated:{data:n.exonerated,pipe:"beNumber",args:"4"},multiplier:{data:n.multiplier,pipe:"beNumber",args:"0"},total:{data:n.total,pipe:"beNumber",args:"4"}})),total:{data:o.total,pipe:"beNumber"}});var e=c(4650),a=c(4006),p=c(6076),d=c(1117),x=c(7582),h=c(6895),Z=c(2778),u=c(5079),f=c(9377),C=c(5158);function F(o,n){if(1&o&&(e.TgZ(0,"tr",12)(1,"th",13),e._uU(2),e.qZA(),e.TgZ(3,"td",14)(4,"vw-form-field"),e._UZ(5,"select",15),e.ALo(6,"t9n"),e.ALo(7,"map"),e.qZA()(),e.TgZ(8,"td",14)(9,"vw-form-field")(10,"div",16),e._UZ(11,"input",17),e.TgZ(12,"span",18),e._UZ(13,"i",19),e.qZA()()()(),e.TgZ(14,"td",20)(15,"vw-form-field"),e._UZ(16,"input",21),e.qZA()(),e.TgZ(17,"td",22)(18,"vw-form-field"),e._UZ(19,"select",23),e.ALo(20,"t9n"),e.ALo(21,"map"),e.qZA()(),e.TgZ(22,"td",24)(23,"vw-form-field"),e._UZ(24,"select",23),e.ALo(25,"t9n"),e.ALo(26,"map"),e.qZA()(),e.TgZ(27,"td",20)(28,"vw-form-field"),e._UZ(29,"input",25),e.qZA()(),e.TgZ(30,"td",22)(31,"vw-form-field"),e._UZ(32,"select",26),e.ALo(33,"t9n"),e.ALo(34,"map"),e.qZA()(),e.TgZ(35,"td",24)(36,"vw-form-field"),e._UZ(37,"select",26),e.ALo(38,"t9n"),e.ALo(39,"map"),e.qZA()(),e.TgZ(40,"td",27),e._UZ(41,"app-form-array-remove-row",28),e.qZA()()),2&o){const t=n.$implicit,s=n.index,i=e.oxw();let _,b;e.s9C("formGroupName",s),e.xp6(2),e.Oqu(s+1),e.xp6(3),e.s9C("placeholder",e.lcZ(6,40,i.t.FORM.CHOOSE)),e.Q6J("formControl",t.controls.nature)("options",i.natureOptions)("texts",e.xi3(7,42,i.natureOptions,"t9nEnum"))("selectedOption",t.value.nature),e.xp6(6),e.s9C("placeholder",i.integerMask.inputPlaceholder),e.Q6J("formControl",t.controls.cadastralIncome)("inputMask",i.integerMask.options),e.xp6(5),e.s9C("placeholder",i.fractionMask.inputPlaceholder),e.Q6J("formControl",t.controls.fractionOne)("inputMask",i.fractionMask.options)("overriddenMessages",i.fractionMask.errorMessage),e.xp6(3),e.s9C("placeholder",e.lcZ(20,45,i.t.FORM.CHOOSE)),e.Q6J("formControl",t.controls.ownershipOne)("options",i.ownershipOptions)("texts",e.xi3(21,47,i.ownershipOptions,"t9nEnum"))("selectedOption",t.value.ownershipOne),e.xp6(5),e.s9C("placeholder",e.lcZ(25,50,i.t.FORM.CHOOSE)),e.Q6J("formControl",t.controls.ownerOne)("options",i.filteredOwnerOptions)("texts",e.xi3(26,52,i.filteredOwnerOptions,"t9nEnum"))("selectedOption",t.value.ownerOne),e.xp6(5),e.s9C("placeholder",i.fractionMask.inputPlaceholder),e.Q6J("formControl",t.controls.fractionTwo)("inputMask",i.fractionMask.options)("overriddenMessages",i.fractionMask.errorMessage),e.xp6(3),e.s9C("placeholder",e.lcZ(33,55,i.t.FORM.CHOOSE)),e.Q6J("formControl",t.controls.ownershipTwo)("options",i.ownershipOptions)("texts",e.xi3(34,57,i.ownershipOptions,"t9nEnum"))("selectedOption",null!==(_=t.value.ownershipTwo)&&void 0!==_?_:null),e.xp6(5),e.s9C("placeholder",e.lcZ(38,60,i.t.FORM.CHOOSE)),e.Q6J("formControl",t.controls.ownerTwo)("options",i.filteredOwnerOptions)("texts",e.xi3(39,62,i.filteredOwnerOptions,"t9nEnum"))("selectedOption",null!==(b=t.value.ownerTwo)&&void 0!==b?b:null),e.xp6(4),e.Q6J("vwVisibleIf",i.arrayFormRows.length>1)("rowIndex",s)}}class O{constructor(){(0,r.Z)(this,"formGroupDirective",(0,e.f3M)(a.sg)),(0,r.Z)(this,"fractionMask",Z.WS),(0,r.Z)(this,"integerMask",Z.jH),(0,r.Z)(this,"natureOptions",(0,m.s0)(l.kJ)),(0,r.Z)(this,"overriddenMessages",{exlusiveValue:n=>({key:"EXCLUSIVE_COMMUNITY"}),distinctPairValues:n=>({key:"DISTINCT_OWNER_OWNERSHIP"})}),(0,r.Z)(this,"ownershipOptions",(0,m.s0)(l.nE)),(0,r.Z)(this,"t",(0,e.f3M)(f.OS)),(0,r.Z)(this,"arrayFormRows",void 0),(0,r.Z)(this,"filteredOwnerOptions",(0,m.s0)(l.Ff)),(0,r.Z)(this,"newItemFactory",void 0)}set filterOwnerOption(n){this.filteredOwnerOptions=(0,m.s0)(n?(0,l.$X)(n):l.Ff),n&&this.arrayFormRows.map(t=>{const s=t.controls;[s.ownerOne,s.ownerTwo].forEach(i=>{i.value&&n===i.value&&i.setValue(null)})})}ngOnInit(){this.arrayFormRows=this.formGroupDirective.form.controls.items.controls}}(0,r.Z)(O,"\u0275fac",function(n){return new(n||O)}),(0,r.Z)(O,"\u0275cmp",e.Xpm({type:O,selectors:[["app-properties-form-array"]],inputs:{newItemFactory:"newItemFactory",filterOwnerOption:"filterOwnerOption"},standalone:!0,features:[e._Bn([],[{provide:a.gN,useExisting:a.sg}]),e.jDz],decls:31,vars:21,consts:[["appFormArrayErrorsContainer","",1,"table-responsive","mb-3"],["formArrayName","items",1,"table",3,"overriddenMessages"],[1,"caption-top"],["scope","col"],[1,"none"],["id","nature",1,"required"],["id","cadastralIncome",1,"required"],["scope","colgroup","colspan","3"],["id","realRights_Share_1",1,"required"],["id","realRights_Share_2"],[3,"newItemFactory"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["scope","row",1,"mw-xs"],[1,"mw-lg"],["aria-labelledby","nature",1,"form-select",3,"formControl","placeholder","options","texts","selectedOption"],["appFormControlErrorsContainer","",1,"input-group"],["vwResetValueIfEmpty","","type","text","aria-labelledby","cadastralIncome",1,"form-control",3,"formControl","inputMask","placeholder"],[1,"input-group-text"],[1,"fa-solid","fa-euro-sign"],[1,"pe-0","mw-sm"],["type","text","aria-labelledby","realRights_Share_1",1,"form-control",3,"formControl","inputMask","placeholder","overriddenMessages"],[1,"px-0","mw-md"],["aria-labelledby","realRights_Share_1",1,"form-select",3,"formControl","placeholder","options","texts","selectedOption"],[1,"ps-0","mw-md"],["type","text","aria-labelledby","realRights_Share_2",1,"form-control",3,"formControl","inputMask","placeholder","overriddenMessages"],["aria-labelledby","realRights_Share_2",1,"form-select",3,"formControl","placeholder","options","texts","selectedOption"],[1,"mw-xs"],[3,"vwVisibleIf","rowIndex"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"table",1)(2,"caption",2),e._uU(3),e.ALo(4,"t9n"),e.qZA(),e.TgZ(5,"thead")(6,"tr")(7,"th",3)(8,"label",4),e._uU(9),e.ALo(10,"t9n"),e.qZA()(),e.TgZ(11,"th",3)(12,"label",5),e._uU(13),e.ALo(14,"t9n"),e.qZA()(),e.TgZ(15,"th",3)(16,"label",6),e._uU(17),e.ALo(18,"t9n"),e.qZA()(),e.TgZ(19,"th",7)(20,"label",8),e._uU(21),e.ALo(22,"t9n"),e.qZA()(),e.TgZ(23,"th",7)(24,"label",9),e._uU(25),e.ALo(26,"t9n"),e.qZA()(),e.TgZ(27,"th",3),e._UZ(28,"app-form-array-add-row",10),e.qZA()()(),e.TgZ(29,"tbody"),e.YNc(30,F,42,65,"tr",11),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("overriddenMessages",t.overriddenMessages),e.xp6(2),e.Oqu(e.lcZ(4,9,t.t.DOMAIN.PROPERTIES)),e.xp6(6),e.Oqu(e.lcZ(10,11,t.t.FORM.ROW_NUMBER)),e.xp6(4),e.Oqu(e.lcZ(14,13,t.t.PROPERTIES.nature)),e.xp6(4),e.Oqu(e.lcZ(18,15,t.t.PROPERTIES.cadastralIncome)),e.xp6(4),e.hij("",e.lcZ(22,17,t.t.PROPERTIES.REALRIGHTS_SHARE)," 1"),e.xp6(4),e.hij("",e.lcZ(26,19,t.t.PROPERTIES.REALRIGHTS_SHARE)," 2"),e.xp6(3),e.Q6J("newItemFactory",t.newItemFactory),e.xp6(2),e.Q6J("ngForOf",t.arrayFormRows))},dependencies:[h.ax,a.UX,a.Fj,a.EJ,a.JJ,a.JL,a.oH,a.x0,a.CE,p.Zg,p.tS,p.wh,p.tJ,u.hg,u.LW,u.vA,u.go,u.IQ,C.zz,C.J6,Z.t4,p.$9,p.Uw,d.zm,f.Oj,d.bP],encapsulation:2,changeDetection:0})),(0,x.gn)([d.aH],O.prototype,"newItemFactory",void 0),(0,x.gn)([d.aH],O.prototype,"filterOwnerOption",null);var g=c(3823);const L=o=>{const n=o.controls;return(0,g.$K)([n.ownershipOne.value,n.ownershipTwo.value],[l.nE.Usufruct,l.nE.BareOwnership])},M=o=>{const n=o.controls;return n.fractionOne.invalid||n.fractionTwo.invalid},S=o=>new Set([M,L].map(n=>n(o))).has(!0);class w{constructor(){(0,r.Z)(this,"formGroupDirective",(0,e.f3M)(a.sg)),(0,r.Z)(this,"genderOptions",(0,m.s0)(l.Y0)),(0,r.Z)(this,"householdCategoryOptions",(0,m.s0)(l.XH)),(0,r.Z)(this,"integerMask",Z.jH),(0,r.Z)(this,"maxChildren",String(20)),(0,r.Z)(this,"t",(0,e.f3M)(f.OS)),(0,r.Z)(this,"ctrls",void 0),(0,r.Z)(this,"filterOwnerOption",void 0),(0,r.Z)(this,"filterOwnerOptionChange",new e.vpe)}ngOnInit(){this.ctrls=this.formGroupDirective.form.controls}resetOwnerList(){this.filterOwnerOptionChange.emit(this.ctrls.householdCategory.value===l.XH.Mono?(0,l.pO)(this.ctrls.beneficiaryGender.value):null)}setBeneficiaryGender(n){this.ctrls.beneficiaryGender.setValue(n),this.ctrls.householdCategory.value===l.XH.Mono&&this.filterOwnerOptionChange.emit((0,l.pO)(n))}}(0,r.Z)(w,"\u0275fac",function(n){return new(n||w)}),(0,r.Z)(w,"\u0275cmp",e.Xpm({type:w,selectors:[["app-properties-form-inline"]],inputs:{filterOwnerOption:"filterOwnerOption"},outputs:{filterOwnerOptionChange:"filterOwnerOptionChange"},standalone:!0,features:[e._Bn([],[{provide:a.gN,useExisting:a.sg}]),e.jDz],decls:22,vars:34,consts:[["vwFormResetObserver","",1,"row","g-2"],[1,"col-lg-3","col-md-4","col-sm-6","mb-3"],["labelClass","form-label",3,"label"],[1,"form-select",3,"formControl","placeholder","options","texts","selectedOption","change"],[1,"form-label","required"],[1,"d-block","btn-group"],["color","outline-primary",3,"ariaLabel","fixedWidthPx","options","texts","selectedOption","selectOption"],["appFormControlErrorsContainer","",1,"input-group"],["vwResetValueIfEmpty","","type","text",1,"form-control","text-start",3,"formControl","inputMask","placeholder","maxLength"],[1,"input-group-text"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"vw-form-field",2),e.ALo(3,"t9n"),e.TgZ(4,"select",3),e.NdJ("change",function(){return t.resetOwnerList()}),e.ALo(5,"t9n"),e.ALo(6,"map"),e.qZA()()(),e.TgZ(7,"div",1)(8,"label",4),e._uU(9),e.ALo(10,"t9n"),e.qZA(),e.TgZ(11,"div",5)(12,"vw-button-group",6),e.NdJ("selectOption",function(i){return t.setBeneficiaryGender(i)}),e.ALo(13,"t9n"),e.ALo(14,"map"),e.qZA()()(),e.TgZ(15,"div",1)(16,"vw-form-field",2),e.ALo(17,"t9n"),e.TgZ(18,"div",7),e._UZ(19,"input",8),e.TgZ(20,"span",9),e._uU(21),e.qZA()()()()()),2&n&&(e.xp6(2),e.s9C("label",e.lcZ(3,18,t.t.PROPERTIES.householdCategory)),e.xp6(2),e.s9C("placeholder",e.lcZ(5,20,t.t.FORM.CHOOSE)),e.Q6J("formControl",t.ctrls.householdCategory)("options",t.householdCategoryOptions)("texts",e.xi3(6,22,t.householdCategoryOptions,"t9nEnum"))("selectedOption",t.ctrls.householdCategory.value),e.xp6(5),e.hij(" ",e.lcZ(10,25,t.t.PROPERTIES.beneficiaryGender),""),e.xp6(3),e.s9C("ariaLabel",e.lcZ(13,27,t.t.PROPERTIES.beneficiaryGender)),e.Q6J("fixedWidthPx",39)("options",t.genderOptions)("texts",e.xi3(14,29,t.genderOptions,"t9nEnum"))("selectedOption",t.ctrls.beneficiaryGender.value),e.xp6(4),e.s9C("label",e.lcZ(17,32,t.t.PROPERTIES.childrenCount)),e.xp6(3),e.s9C("placeholder",t.integerMask.inputPlaceholder),e.s9C("maxLength",t.maxChildren.length),e.Q6J("formControl",t.ctrls.childrenCount)("inputMask",t.integerMask.options),e.xp6(2),e.hij("\u2264 ",t.maxChildren,""))},dependencies:[a.UX,a.Fj,a.EJ,a.JJ,a.oH,p.Zg,p.tS,u.hg,u.LW,u.vA,u.go,u.IQ,C.zz,C.J6,Z.t4,u.Kb,p._c,f.Oj,d.bP],encapsulation:2,changeDetection:0})),(0,x.gn)([d.aH],w.prototype,"filterOwnerOption",void 0);var D=c(663);function J(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"th",3),e._uU(2),e.ALo(3,"t9n"),e.ALo(4,"get"),e.qZA(),e.BQk()),2&o){const t=n.$implicit,s=e.oxw();e.xp6(1),e.Tol(t.value.class),e.xp6(1),e.Oqu(e.lcZ(3,3,e.xi3(4,5,s.t[s.prefix],t.key)))}}function j(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"td",12),e._uU(2),e.ALo(3,"apply"),e.qZA(),e.BQk()),2&o){const t=n.$implicit;e.xp6(1),e.Tol(t.value.class),e.xp6(1),e.hij(" ",e.Dn7(3,3,t.value.data,t.value.pipe,t.value.args),"")}}function k(o,n){if(1&o&&(e.TgZ(0,"tr")(1,"td",12),e._uU(2),e.qZA(),e.YNc(3,j,4,7,"ng-container",4),e.ALo(4,"keyvalue"),e.qZA()),2&o){const t=n.$implicit,s=n.index,i=e.oxw();e.xp6(2),e.Oqu(s+1),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,t,i.sort))}}function Q(o,n){if(1&o&&(e.TgZ(0,"caption"),e._UZ(1,"i",2),e._uU(2),e.ALo(3,"t9n"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,1,t.t.PROPERTIES.FOR_DEPENDENT_CHILDREN_INFO)," ")}}function H(o,n){if(1&o&&(e.TgZ(0,"caption"),e._UZ(1,"i",2),e._uU(2),e.ALo(3,"t9n"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,1,t.t.PROPERTIES.UNBUILT_EXONERATION_INFO)," ")}}function G(o,n){if(1&o&&(e.TgZ(0,"tr")(1,"th",9),e._uU(2),e.ALo(3,"t9n"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"t9n"),e.qZA(),e.TgZ(7,"td",11),e._uU(8,"-"),e.qZA(),e.TgZ(9,"td",11),e._uU(10),e.ALo(11,"apply"),e.qZA()()),2&o){const t=e.oxw().$implicit,s=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,5,s.t.PROPERTIES.EXONERATION)),e.xp6(3),e.Oqu(e.lcZ(6,7,s.t.PROPERTIES.BASE)),e.xp6(4),e.ekj("border-bottom",!t.exoneration.forDependantChildren),e.xp6(1),e.hij(" ",e.Dn7(11,9,t.exoneration.base.data,t.exoneration.base.pipe,t.exoneration.base.args)," ")}}function B(o,n){if(1&o&&(e.TgZ(0,"tr")(1,"th",17),e._uU(2),e.ALo(3,"t9n"),e.qZA(),e.TgZ(4,"td",11),e._uU(5,"-"),e.qZA(),e.TgZ(6,"td",11),e._uU(7),e.ALo(8,"apply"),e.qZA()()),2&o){const t=e.oxw().$implicit,s=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,4,s.t.PROPERTIES.EXONERATION)),e.xp6(4),e.ekj("border-bottom",!t.exoneration.forDependantChildren),e.xp6(1),e.hij(" ",e.Dn7(8,6,t.exoneration.total.data,t.exoneration.total.pipe,t.exoneration.total.args),"")}}function X(o,n){if(1&o&&(e.TgZ(0,"tr"),e._UZ(1,"th",21),e.TgZ(2,"td",22),e._uU(3),e.ALo(4,"t9n"),e.qZA(),e.TgZ(5,"td",11),e._uU(6,"-"),e.qZA(),e.TgZ(7,"td",18),e._uU(8),e.ALo(9,"apply"),e.qZA()()),2&o){const t=e.oxw().$implicit,s=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,2,s.t.PROPERTIES.FOR_DEPENDENT_CHILDREN)),e.xp6(5),e.hij(" ",e.Dn7(9,4,t.exoneration.forDependantChildren.data,t.exoneration.forDependantChildren.pipe,t.exoneration.forDependantChildren.args)," ")}}function Y(o,n){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().index;e.xp6(1),e.hij(" (",t+1,")")}}function z(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"h6"),e._uU(2),e.ALo(3,"t9n"),e.ALo(4,"apply"),e.qZA(),e.TgZ(5,"table",13),e.YNc(6,Q,4,3,"caption",10),e.YNc(7,H,4,3,"caption",10),e.TgZ(8,"tbody")(9,"tr")(10,"th",14),e._uU(11),e.ALo(12,"t9n"),e.qZA(),e.TgZ(13,"td",11),e._uU(14),e.ALo(15,"apply"),e.qZA()(),e.YNc(16,G,12,13,"tr",15),e.YNc(17,B,9,10,"ng-template",null,16,e.W1O),e.YNc(19,X,10,8,"tr",10),e.TgZ(20,"tr")(21,"th",14),e._uU(22),e.ALo(23,"t9n"),e.qZA(),e.TgZ(24,"td",11),e._uU(25),e.ALo(26,"apply"),e.qZA()(),e.TgZ(27,"tr")(28,"th",17),e._uU(29),e.ALo(30,"t9n"),e.qZA(),e.TgZ(31,"td",11),e._uU(32,"x"),e.qZA(),e.TgZ(33,"td",18),e._uU(34),e.ALo(35,"apply"),e.qZA()(),e.TgZ(36,"tr")(37,"th",19),e._uU(38),e.ALo(39,"t9n"),e.YNc(40,Y,2,1,"span",10),e.qZA(),e.TgZ(41,"td",20),e._uU(42),e.ALo(43,"apply"),e.qZA()()()()()),2&o){const t=n.$implicit,s=e.MAs(18),i=e.oxw();e.xp6(2),e.AsE("",e.lcZ(3,16,i.t.PROPERTIES.SUM_FOR),' "',e.Dn7(4,18,t.nature.data,t.nature.pipe,t.nature.args),'"'),e.xp6(4),e.Q6J("ngIf",t.exoneration.forDependantChildren),e.xp6(1),e.Q6J("ngIf",t.nature.data===i.propertyNature.NotBuilt),e.xp6(4),e.Oqu(e.lcZ(12,22,i.t.PROPERTIES.SUM)),e.xp6(3),e.hij(" ",e.Dn7(15,24,t.sum.data,t.sum.pipe,t.sum.args),""),e.xp6(2),e.Q6J("ngIf",t.exoneration.base)("ngIfElse",s),e.xp6(3),e.Q6J("ngIf",t.exoneration.forDependantChildren),e.xp6(3),e.Oqu(e.lcZ(23,28,i.t.PROPERTIES.EXONERATED)),e.xp6(3),e.hij(" ",e.Dn7(26,30,t.exonerated.data,t.exonerated.pipe,t.exonerated.args),""),e.xp6(4),e.Oqu(e.lcZ(30,34,i.t.PROPERTIES.MULTIPLIER)),e.xp6(5),e.hij(" ",e.Dn7(35,36,t.multiplier.data,t.multiplier.pipe,t.multiplier.args),""),e.xp6(4),e.hij("",e.lcZ(39,40,i.t.PROPERTIES.TOTAL)," "),e.xp6(2),e.Q6J("ngIf",2===i.result.totalByNature.length),e.xp6(2),e.hij(" ",e.Dn7(43,42,t.total.data,t.total.pipe,t.total.args),"")}}function W(o,n){1&o&&(e.TgZ(0,"span"),e._uU(1," (1) + (2)"),e.qZA())}class T{constructor(){(0,r.Z)(this,"prefix",(0,e.f3M)(D.pv).getValue()),(0,r.Z)(this,"sort",m.qF),(0,r.Z)(this,"t",(0,e.f3M)(f.OS)),(0,r.Z)(this,"propertyNature",l.kJ),(0,r.Z)(this,"result",void 0)}}(0,r.Z)(T,"\u0275fac",function(n){return new(n||T)}),(0,r.Z)(T,"\u0275cmp",e.Xpm({type:T,selectors:[["app-properties-form-response"]],inputs:{result:"result"},standalone:!0,features:[e.jDz],decls:28,vars:21,consts:[[1,"table-responsive","mb-3"],[1,"table","table-sm","w-auto"],[1,"fa-solid","fa-circle-info"],["scope","col",1,"text-end","pe-4"],[4,"ngFor","ngForOf"],[1,"d-flex","flex-wrap","mb-3"],["class","table-responsive mb-3",4,"ngFor","ngForOf"],[1,"table","table-sm","table-borderless","w-auto"],[1,"result"],["scope","row",1,"pe-4"],[4,"ngIf"],[1,"text-end","px-4"],[1,"text-end","pe-4"],[1,"table","table-sm","table-borderless","w-auto","align-self-start","me-5","border","rounded"],["scope","row","colspan","3",1,"pe-4"],[4,"ngIf","ngIfElse"],["exonerationTotal",""],["scope","row","colspan","2",1,"pe-4"],[1,"text-end","px-4","border-bottom"],["scope","row","colspan","3"],[1,"text-end","fw-bold","px-4"],["scope","row"],[1,"text-nowrap"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"table",1)(2,"caption"),e._UZ(3,"i",2),e._uU(4),e.ALo(5,"t9n"),e.qZA(),e.TgZ(6,"thead")(7,"tr")(8,"th",3),e._uU(9),e.ALo(10,"t9n"),e.qZA(),e.YNc(11,J,5,8,"ng-container",4),e.ALo(12,"keyvalue"),e.qZA()(),e.TgZ(13,"tbody"),e.YNc(14,k,5,5,"tr",4),e.qZA()()(),e.TgZ(15,"div",5),e.YNc(16,z,44,46,"div",6),e.qZA(),e.TgZ(17,"div",0)(18,"table",7)(19,"tbody")(20,"tr",8)(21,"th",9),e._uU(22),e.ALo(23,"t9n"),e.YNc(24,W,2,0,"span",10),e.qZA(),e.TgZ(25,"td",11),e._uU(26),e.ALo(27,"apply"),e.qZA()()()()()),2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,8,t.t.PROPERTIES.CORRECTION_FACTOR_INFO),""),e.xp6(5),e.Oqu(e.lcZ(10,10,t.t.FORM.ROW_NUMBER)),e.xp6(2),e.Q6J("ngForOf",e.xi3(12,12,t.result.properties[0],t.sort)),e.xp6(3),e.Q6J("ngForOf",t.result.properties),e.xp6(2),e.Q6J("ngForOf",t.result.totalByNature),e.xp6(6),e.hij("",e.lcZ(23,15,t.t.PROPERTIES.TOTAL_INCOME)," "),e.xp6(2),e.Q6J("ngIf",2===t.result.totalByNature.length),e.xp6(2),e.hij(" ",e.Dn7(27,17,t.result.total.data,t.result.total.pipe,t.result.total.args),""))},dependencies:[h.ax,h.O5,f.Oj,h.Nd,d.bZ,d.JW],encapsulation:2,changeDetection:0})),(0,x.gn)([d.aH],T.prototype,"result",void 0);var $=c(2860);let V=(()=>{class o{constructor(){(0,r.Z)(this,"api",(0,e.f3M)($._y))}getResult(t){return this.api.post(this.api.endpoints.properties,t)}}return(0,r.Z)(o,"\u0275fac",function(t){return new(t||o)}),(0,r.Z)(o,"\u0275prov",e.Yz7({token:o,factory:o.\u0275fac})),o})();function K(o,n){1&o&&e._UZ(0,"app-properties-form-response",4),2&o&&e.Q6J("result",n.$implicit)}let ee=(()=>{class o{constructor(){(0,r.Z)(this,"injector",(0,e.f3M)(e.lqb)),(0,r.Z)(this,"formArray",void 0),(0,r.Z)(this,"form",function N(){const o=(0,e.f3M)(a.qu);return o.group({householdCategory:o.control(null,a.kI.required),beneficiaryGender:o.nonNullable.control(l.Y0.Female,a.kI.required),childrenCount:o.nonNullable.control("",a.kI.max(20)),items:o.nonNullable.array([])})}()),(0,r.Z)(this,"newItemFactory",()=>this.injector.runInContext(()=>function U(){const o=(0,e.f3M)(a.qu);return o.group({nature:o.control(null,a.kI.required),cadastralIncome:o.nonNullable.control("",a.kI.required),fractionOne:o.nonNullable.control("",{validators:[a.kI.required,g.Qk.properFraction],updateOn:"blur"}),ownershipOne:o.control(null,a.kI.required),ownerOne:o.control(null,a.kI.required),fractionTwo:o.nonNullable.control("",{validators:[g.Qk.properFraction],updateOn:"blur"}),ownershipTwo:o.control(null),ownerTwo:o.control(null)},{validators:[g.hv.exclusiveValue(["ownerOne","ownerTwo"],l.Ff.Common),g.hv.distinctPairValues([["ownerOne","ownershipOne"],["ownerTwo","ownershipTwo"]]),g.hv.conditionalFractionsSumMax(["fractionOne","fractionTwo"],1,S),g.hv.allFilledOrNone(["fractionTwo","ownershipTwo","ownerTwo"])]})}())),(0,r.Z)(this,"filterOwnerOption",void 0),(0,r.Z)(this,"PropertiesView",void 0)}ngOnInit(){this.formArray=this.form.controls.items,this.formArray.push(this.newItemFactory())}resetForm(){this.filterOwnerOption=null,this.formArray.clear(),this.formArray.push(this.newItemFactory())}}return(0,r.Z)(o,"\u0275fac",function(t){return new(t||o)}),(0,r.Z)(o,"\u0275cmp",e.Xpm({type:o,selectors:[["app-properties-container"]],standalone:!0,features:[e._Bn([],[(0,p.Po)(V),(0,p.N3)(P),(0,p.sj)(v),(0,p.nx)(I)]),e.jDz],decls:4,vars:5,consts:[[3,"formGroup","isReset"],[3,"filterOwnerOption","filterOwnerOptionChange"],[3,"newItemFactory","filterOwnerOption"],[3,"typeOf"],[3,"result"]],template:function(t,s){1&t&&(e.TgZ(0,"app-base-form-container",0),e.NdJ("isReset",function(){return s.resetForm()}),e.TgZ(1,"app-properties-form-inline",1),e.NdJ("filterOwnerOptionChange",function(_){return s.filterOwnerOption=_}),e.qZA(),e._UZ(2,"app-properties-form-array",2),e.YNc(3,K,1,1,"ng-template",3),e.qZA()),2&t&&(e.Q6J("formGroup",s.form),e.xp6(1),e.Q6J("filterOwnerOption",s.filterOwnerOption),e.xp6(1),e.Q6J("newItemFactory",s.newItemFactory)("filterOwnerOption",s.filterOwnerOption),e.xp6(1),e.Q6J("typeOf",s.PropertiesView))},dependencies:[a.UX,a.JL,a.sg,p.wM,w,O,d.Co,T],encapsulation:2,changeDetection:0})),o})(),te=(()=>{class o extends((0,l.Y2)()){}return(0,r.Z)(o,"\u0275fac",function(){let n;return function(s){return(n||(n=e.n5z(o)))(s||o)}}()),(0,r.Z)(o,"\u0275cmp",e.Xpm({type:o,selectors:[["page-properties"]],standalone:!0,features:[e.qOj,e.jDz],decls:1,vars:0,template:function(t,s){1&t&&e._UZ(0,"app-properties-container")},dependencies:[ee],encapsulation:2,changeDetection:0})),o})()}}]);