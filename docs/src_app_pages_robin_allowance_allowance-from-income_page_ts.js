"use strict";(self.webpackChunkrobin=self.webpackChunkrobin||[]).push([["src_app_pages_robin_allowance_allowance-from-income_page_ts"],{3062:(N,g,c)=>{c.r(g),c.d(g,{default:()=>L});var a=c(7691),r=c(4006),u=c(4045),m=c(6076),i=c(1117),o=c(4650),h=c(2778),s=c(9492),p=c(5079),d=c(7244),f=c(9377),C=c(5158);let y=(()=>{class e{constructor(){(0,a.Z)(this,"formGroupDirective",(0,o.f3M)(r.sg)),(0,a.Z)(this,"HouseholdCategory",s.XH),(0,a.Z)(this,"currencyMask",h.Pu),(0,a.Z)(this,"householdCategoryOptions",(0,d.s0)(s.XH)),(0,a.Z)(this,"medicalCategoryOptions",(0,d.s0)(s.UU)),(0,a.Z)(this,"monthMask",h.Cy),(0,a.Z)(this,"t",(0,o.f3M)(f.OS)),(0,a.Z)(this,"ctrls",void 0)}ngOnInit(){this.ctrls=this.formGroupDirective.form.controls}}return(0,a.Z)(e,"\u0275fac",function(t){return new(t||e)}),(0,a.Z)(e,"\u0275cmp",o.Xpm({type:e,selectors:[["app-allowance-from-income-form-inline"]],standalone:!0,features:[o._Bn([],[{provide:r.gN,useExisting:r.sg}]),o.jDz],decls:31,vars:44,consts:[["vwFormResetObserver","",1,"row","g-2"],[1,"col-lg-3","col-md-6","mb-5"],["labelClass","form-label",3,"label"],["appFormControlErrorsContainer","",1,"input-group"],["type","text",1,"form-control",3,"formControl","placeholder","inputMask","overriddenMessages"],[1,"input-group-text"],[1,"fa-regular","fa-calendar-check"],[1,"form-select",3,"formControl","placeholder","selectPlaceholder","options","selectedOption"],[1,"col-lg-3","col-md-6","mb-3"],[1,"form-select",3,"formControl","placeholder","options","texts","selectedOption","change"],[1,"mt-2",3,"vwVisibleIf"],["labelClass","form-check-label",1,"form-check",3,"label"],["type","checkbox",1,"form-check-input",3,"formControl"],["vwResetValueIfEmpty","","type","text",1,"form-control",3,"formControl","inputMask","placeholder"],[1,"fa-solid","fa-euro-sign"]],template:function(t,n){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"vw-form-field",2),o.ALo(3,"t9n"),o.TgZ(4,"div",3),o._UZ(5,"input",4),o.ALo(6,"t9n"),o.TgZ(7,"span",5),o._UZ(8,"i",6),o.qZA()()()(),o.TgZ(9,"div",1)(10,"vw-form-field",2),o.ALo(11,"t9n"),o._UZ(12,"select",7),o.ALo(13,"t9n"),o.qZA()(),o.TgZ(14,"div",8)(15,"vw-form-field",2),o.ALo(16,"t9n"),o.TgZ(17,"select",9),o.NdJ("change",function(){return n.ctrls.bothEntitled.reset()}),o.ALo(18,"t9n"),o.ALo(19,"map"),o.qZA()(),o.TgZ(20,"div",10)(21,"vw-form-field",11),o.ALo(22,"t9n"),o._UZ(23,"input",12),o.qZA()()(),o.TgZ(24,"div",1)(25,"vw-form-field",2),o.ALo(26,"t9n"),o.TgZ(27,"div",3),o._UZ(28,"input",13),o.TgZ(29,"span",5),o._UZ(30,"i",14),o.qZA()()()()()),2&t&&(o.xp6(2),o.s9C("label",o.lcZ(3,25,n.t.ALLOWANCE.month)),o.xp6(3),o.s9C("placeholder",o.lcZ(6,27,n.t.FORM.MONTH_FORMAT)),o.Q6J("formControl",n.ctrls.month)("inputMask",n.monthMask.options)("overriddenMessages",n.monthMask.errorMessage),o.xp6(5),o.s9C("label",o.lcZ(11,29,n.t.ALLOWANCE.medicalCategory)),o.xp6(2),o.s9C("placeholder",o.lcZ(13,31,n.t.FORM.CHOOSE)),o.Q6J("formControl",n.ctrls.medicalCategory)("selectPlaceholder",!1)("options",n.medicalCategoryOptions)("selectedOption",n.ctrls.medicalCategory.value),o.xp6(3),o.s9C("label",o.lcZ(16,33,n.t.ALLOWANCE.householdCategory)),o.xp6(2),o.s9C("placeholder",o.lcZ(18,35,n.t.FORM.CHOOSE)),o.Q6J("formControl",n.ctrls.householdCategory)("options",n.householdCategoryOptions)("texts",o.xi3(19,37,n.householdCategoryOptions,"t9nEnum"))("selectedOption",n.ctrls.householdCategory.value),o.xp6(3),o.Q6J("vwVisibleIf",n.ctrls.householdCategory.value===n.HouseholdCategory.Duo),o.xp6(1),o.s9C("label",o.lcZ(22,40,n.t.ALLOWANCE.bothEntitled)),o.xp6(2),o.Q6J("formControl",n.ctrls.bothEntitled),o.uIk("aria-checked",n.ctrls.bothEntitled.value),o.xp6(2),o.s9C("label",o.lcZ(26,42,n.t.ALLOWANCE.income)),o.xp6(3),o.s9C("placeholder",n.currencyMask.inputPlaceholder),o.Q6J("formControl",n.ctrls.income)("inputMask",n.currencyMask.options))},dependencies:[r.UX,r.Fj,r.Wl,r.EJ,r.JJ,r.oH,m.Zg,m.tS,p.hg,p.LW,p.vA,p.go,p.IQ,C.zz,C.J6,h.t4,m._c,i.zm,f.Oj,i.bP],encapsulation:2,changeDetection:0})),e})();var Z=c(3823),v=c(2860);let F=(()=>{class e{constructor(){(0,a.Z)(this,"api",(0,o.f3M)(v._y))}getResult(t){return this.api.post(this.api.endpoints.allowanceFromIncome,t)}}return(0,a.Z)(e,"\u0275fac",function(t){return new(t||e)}),(0,a.Z)(e,"\u0275prov",o.Yz7({token:e,factory:e.\u0275fac})),e})();var w=c(4111);const b=e=>({startDate:(0,d.Vn)(e.month),medicalCategory:(0,w.F)(e.medicalCategory),income:(0,d.W_)(e.income),householdCategory:e.householdCategory,...e.householdCategory===s.XH.Duo&&{duoThab:e.bothEntitled}}),I=e=>({form:{month:{data:e.month},medicalCategory:{data:e.medicalCategory},householdCategory:{data:e.householdCategory,pipe:"t9nEnum"},bothEntitled:{data:e.bothEntitled,class:e.householdCategory===s.XH.Mono?"d-none":"",pipe:"t9nEnum"},income:{data:(0,d.R3)(e.income,"\xa0\u20ac")}}}),O=({reduction:e,allowance:l})=>({reduction:{income:{data:e.income,pipe:"beNumber"},exoneration:{data:e.exoneration,pipe:"beNumber"},category:{data:e.category,pipe:"t9nEnum"},exonerated:{data:e.exonerated,pipe:"beNumber"},correctionFactor:{data:e.correctionFactor},reduction:{data:e.reduction,pipe:"beNumber"}},allowance:{category:{data:l.category,pipe:"t9nEnum"},maximum:{data:l.maximum,pipe:"beNumber"},yearly:{data:l.yearly,pipe:"beNumber"},majoration:{data:!!l.majoration},monthly:{data:l.monthly,pipe:"beNumber"}}});function E(e,l){if(1&e&&o._UZ(0,"app-reduction-response",2)(1,"app-allowance-response",3),2&e){const t=l.$implicit;o.Q6J("reduction",t.reduction),o.xp6(1),o.Q6J("reduction",t.reduction.reduction)("allowance",t.allowance)}}let M=(()=>{class e{constructor(){(0,a.Z)(this,"form",function A(){const e=(0,o.f3M)(r.qu);return e.group({month:e.nonNullable.control("",{validators:[r.kI.required,Z.D0.min(s.pw)],updateOn:"blur"}),medicalCategory:e.control(null,r.kI.required),householdCategory:e.control(null,r.kI.required),bothEntitled:e.nonNullable.control(!1),income:e.nonNullable.control("",r.kI.required)})}()),(0,a.Z)(this,"AllowanceFromIncomeView",void 0)}}return(0,a.Z)(e,"\u0275fac",function(t){return new(t||e)}),(0,a.Z)(e,"\u0275cmp",o.Xpm({type:e,selectors:[["app-allowance-from-income-container"]],standalone:!0,features:[o._Bn([],[(0,m.Po)(F),(0,m.N3)(I),(0,m.sj)(b),(0,m.nx)(O)]),o.jDz],decls:3,vars:2,consts:[[3,"formGroup"],[3,"typeOf"],[3,"reduction"],[3,"reduction","allowance"]],template:function(t,n){1&t&&(o.TgZ(0,"app-base-form-container",0),o._UZ(1,"app-allowance-from-income-form-inline"),o.YNc(2,E,2,3,"ng-template",1),o.qZA()),2&t&&(o.Q6J("formGroup",n.form),o.xp6(2),o.Q6J("typeOf",n.AllowanceFromIncomeView))},dependencies:[r.UX,r.JL,r.sg,m.wM,y,u.b,u.E,i.Co],encapsulation:2,changeDetection:0})),e})(),L=(()=>{class e{}return(0,a.Z)(e,"\u0275fac",function(t){return new(t||e)}),(0,a.Z)(e,"\u0275cmp",o.Xpm({type:e,selectors:[["page-allowance-from-income"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(t,n){1&t&&o._UZ(0,"app-allowance-from-income-container")},dependencies:[M],encapsulation:2,changeDetection:0})),e})()}}]);