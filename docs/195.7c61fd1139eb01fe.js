"use strict";(self.webpackChunkrobin=self.webpackChunkrobin||[]).push([[195],{9195:(re,R,l)=>{l.r(R),l.d(R,{default:()=>oe});var n=l(7691),p=l(1203),m=l(7244);const v=(o,r)=>o===p.Ff.Common?"COMMUNITY":o===r?"BENEFICIARY":"PARTNER",E=o=>({withPartner:o.householdCategory===p.XH.Duo,...o.childrenCount&&"0"!==o.childrenCount&&{dependantChildren:Number(o.childrenCount)},properties:o.items.map(r=>({nature:r.nature,cadastralIncome:(0,m.W_)(r.cadastralIncome),realRights:r.fractionTwo&&r.ownershipTwo&&r.ownerTwo?[{fraction:r.fractionOne,ownership:r.ownershipOne,owner:v(r.ownerOne,o.beneficiaryGender)},{fraction:r.fractionTwo,ownership:r.ownershipTwo,owner:v(r.ownerTwo,o.beneficiaryGender)}]:[{fraction:r.fractionOne,ownership:r.ownershipOne,owner:v(r.ownerOne,o.beneficiaryGender)}]}))}),b=o=>({form:{householdCategory:{data:o.householdCategory,pipe:"enum"},beneficiaryGender:{data:o.beneficiaryGender,class:o.householdCategory===p.XH.Duo?"":"d-none",pipe:"enum"},childrenCount:{data:o.childrenCount??"",class:o.childrenCount?"":"d-none"}},array:o.items.map(r=>({nature:{data:r.nature,pipe:"enum"},cadastralIncome:{data:(0,m.R3)(r.cadastralIncome,"\xa0\u20ac")},fractionOne:{data:r.fractionOne,class:"text-end pe-0"},ownershipOne:{data:r.ownershipOne,pipe:"enum",class:"text-end pe-0"},ownerOne:{data:r.ownerOne,class:"text-end pe-0"},fractionTwo:{data:r.fractionTwo,class:"text-end pe-0"},ownershipTwo:{data:r.ownershipTwo,pipe:"enum",class:"text-end pe-0"},ownerTwo:{data:r.ownerTwo}}))}),F=o=>({properties:o.properties.map(r=>({nature:{data:r.nature,pipe:"enum"},cadastralIncome:{data:r.cadastralIncome,pipe:"number",args:"0"},fractionsSum:{data:r.fractionsSum},correctionFactor:{data:r.correctionFactor},effectiveValue:{data:r.effectiveValue,pipe:"number",args:"4"}})),totalByNature:o.totalByNature.map(r=>({nature:{data:r.nature,pipe:"enum"},sum:{data:r.sum,pipe:"number",args:"4"},exoneration:{...r.exoneration.base&&{base:{data:r.exoneration.base,pipe:"number",args:"0"},forDependantChildren:{data:r.exoneration.forDependantChildren,pipe:"number",args:"0"}},total:{data:r.exoneration.total,pipe:"number",args:"0"}},exonerated:{data:r.exonerated,pipe:"number",args:"4"},multiplier:{data:r.multiplier,pipe:"number",args:"0"},total:{data:r.total,pipe:"number",args:"4"}})),total:{data:o.total,pipe:"currency"}});var e=l(4650),s=l(4006),c=l(9333),d=l(7174),x=l(7582),f=l(6895),O=l(2778),u=l(3597),T=l(7718),_=l(3416),A=l(5158);function U(o,r){if(1&o&&(e.TgZ(0,"tr",12)(1,"th",13),e._uU(2),e.qZA(),e.TgZ(3,"td",14)(4,"vw-form-field"),e._UZ(5,"select",15),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"td",14)(8,"vw-form-field")(9,"div",16),e._UZ(10,"input",17),e.TgZ(11,"span",18),e._UZ(12,"i",19),e.qZA()()()(),e.TgZ(13,"td",20)(14,"vw-form-field"),e._UZ(15,"input",21),e.qZA()(),e.TgZ(16,"td",22)(17,"vw-form-field"),e._UZ(18,"select",23),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"td",24)(21,"vw-form-field"),e._UZ(22,"select",23),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"td",20)(25,"vw-form-field"),e._UZ(26,"input",25),e.qZA()(),e.TgZ(27,"td",22)(28,"vw-form-field"),e._UZ(29,"select",26),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"td",24)(32,"vw-form-field"),e._UZ(33,"select",26),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"td",27),e._UZ(36,"app-form-array-remove-row",28),e.qZA()()),2&o){const t=r.$implicit,i=r.index,a=e.oxw();let C,P;e.s9C("formGroupName",i),e.xp6(2),e.Oqu(i+1),e.xp6(3),e.s9C("placeholder",e.lcZ(6,35,a.t.FORM.CHOOSE)),e.Q6J("formControl",t.controls.nature)("options",a.natureOptions)("selectedOption",t.value.nature),e.xp6(5),e.s9C("placeholder",a.integerMask.inputPlaceholder),e.Q6J("formControl",t.controls.cadastralIncome)("inputMask",a.integerMask.options),e.xp6(5),e.s9C("placeholder",a.fractionMask.inputPlaceholder),e.Q6J("formControl",t.controls.fractionOne)("inputMask",a.fractionMask.options)("overriddenMessages",a.fractionMask.errorMessage),e.xp6(3),e.s9C("placeholder",e.lcZ(19,37,a.t.FORM.CHOOSE)),e.Q6J("formControl",t.controls.ownershipOne)("options",a.ownershipOptions)("selectedOption",t.value.ownershipOne),e.xp6(4),e.s9C("placeholder",e.lcZ(23,39,a.t.FORM.CHOOSE)),e.Q6J("formControl",t.controls.ownerOne)("options",a.filteredOwnerOptions)("selectedOption",t.value.ownerOne),e.xp6(4),e.s9C("placeholder",a.fractionMask.inputPlaceholder),e.Q6J("formControl",t.controls.fractionTwo)("inputMask",a.fractionMask.options)("overriddenMessages",a.fractionMask.errorMessage),e.xp6(3),e.s9C("placeholder",e.lcZ(30,41,a.t.FORM.CHOOSE)),e.Q6J("formControl",t.controls.ownershipTwo)("options",a.ownershipOptions)("selectedOption",null!==(C=t.value.ownershipTwo)&&void 0!==C?C:null),e.xp6(4),e.s9C("placeholder",e.lcZ(34,43,a.t.FORM.CHOOSE)),e.Q6J("formControl",t.controls.ownerTwo)("options",a.filteredOwnerOptions)("selectedOption",null!==(P=t.value.ownerTwo)&&void 0!==P?P:null),e.xp6(3),e.Q6J("vwVisibleIf",a.arrayFormRows.length>1)("rowIndex",i)}}class h{constructor(){(0,n.Z)(this,"formGroupDirective",(0,e.f3M)(s.sg)),(0,n.Z)(this,"fractionMask",O.WS),(0,n.Z)(this,"integerMask",O.jH),(0,n.Z)(this,"natureOptions",(0,m._Y)((0,m.s0)(p.kJ),(0,m.s0)(p.kJ).map(r=>(0,T.pg)(r)))),(0,n.Z)(this,"overriddenMessages",{exlusiveValue:r=>({key:"EXCLUSIVE_COMMUNITY"}),distinctPairValues:r=>({key:"DISTINCT_OWNER_OWNERSHIP"})}),(0,n.Z)(this,"ownershipOptions",(0,m._Y)((0,m.s0)(p.nE),(0,m.s0)(p.nE).map(r=>(0,T.pg)(r)))),(0,n.Z)(this,"t",(0,e.f3M)(T.OS)),(0,n.Z)(this,"arrayFormRows",void 0),(0,n.Z)(this,"filteredOwnerOptions",(0,m._Y)((0,m.s0)(p.Ff))),(0,n.Z)(this,"newItemFactory",void 0)}set filterOwnerOption(r){this.filteredOwnerOptions=(0,m._Y)((0,m.s0)(r?(0,p.$X)(r):p.Ff)),r&&this.arrayFormRows.map(t=>{const i=t.controls;[i.ownerOne,i.ownerTwo].forEach(a=>{a.value&&r===a.value&&a.setValue(null)})})}ngOnInit(){this.arrayFormRows=this.formGroupDirective.form.controls.items.controls}}(0,n.Z)(h,"\u0275fac",function(r){return new(r||h)}),(0,n.Z)(h,"\u0275cmp",e.Xpm({type:h,selectors:[["app-properties-form-array"]],inputs:{newItemFactory:"newItemFactory",filterOwnerOption:"filterOwnerOption"},standalone:!0,features:[e._Bn([],[{provide:s.gN,useExisting:s.sg}]),e.jDz],decls:31,vars:21,consts:[["appFormArrayErrorsContainer","",1,"table-responsive","mb-3"],["formArrayName","items",1,"table",3,"overriddenMessages"],[1,"caption-top"],["scope","col"],[1,"none"],["id","nature",1,"required"],["id","cadastralIncome",1,"required"],["scope","colgroup","colspan","3"],["id","realRights_Share_1",1,"required"],["id","realRights_Share_2"],[3,"newItemFactory"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["scope","row",1,"mw-xs"],[1,"mw-lg"],["aria-labelledby","nature","vw-form-select-options","",1,"form-select",3,"formControl","placeholder","options","selectedOption"],["appFormControlErrorsContainer","",1,"input-group"],["vwResetValueIfEmpty","","type","text","aria-labelledby","cadastralIncome",1,"form-control",3,"formControl","inputMask","placeholder"],[1,"input-group-text"],[1,"fa-solid","fa-euro-sign"],[1,"pe-0","mw-sm"],["type","text","aria-labelledby","realRights_Share_1",1,"form-control",3,"formControl","inputMask","placeholder","overriddenMessages"],[1,"px-0","mw-md"],["aria-labelledby","realRights_Share_1","vw-form-select-options","",1,"form-select",3,"formControl","placeholder","options","selectedOption"],[1,"ps-0","mw-md"],["type","text","aria-labelledby","realRights_Share_2",1,"form-control",3,"formControl","inputMask","placeholder","overriddenMessages"],["aria-labelledby","realRights_Share_2","vw-form-select-options","",1,"form-select",3,"formControl","placeholder","options","selectedOption"],[1,"mw-xs"],[3,"vwVisibleIf","rowIndex"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"table",1)(2,"caption",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"thead")(6,"tr")(7,"th",3)(8,"label",4),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"th",3)(12,"label",5),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"th",3)(16,"label",6),e._uU(17),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"th",7)(20,"label",8),e._uU(21),e.ALo(22,"translate"),e.qZA()(),e.TgZ(23,"th",7)(24,"label",9),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"th",3),e._UZ(28,"app-form-array-add-row",10),e.qZA()()(),e.TgZ(29,"tbody"),e.YNc(30,U,37,45,"tr",11),e.qZA()()()),2&r&&(e.xp6(1),e.Q6J("overriddenMessages",t.overriddenMessages),e.xp6(2),e.Oqu(e.lcZ(4,9,t.t.DOMAIN.PROPERTIES)),e.xp6(6),e.Oqu(e.lcZ(10,11,t.t.FORM.ROW_NUMBER)),e.xp6(4),e.Oqu(e.lcZ(14,13,t.t.PROPERTIES.nature)),e.xp6(4),e.Oqu(e.lcZ(18,15,t.t.PROPERTIES.cadastralIncome)),e.xp6(4),e.hij("",e.lcZ(22,17,t.t.PROPERTIES.REALRIGHTS_SHARE)," 1"),e.xp6(4),e.hij("",e.lcZ(26,19,t.t.PROPERTIES.REALRIGHTS_SHARE)," 2"),e.xp6(3),e.Q6J("newItemFactory",t.newItemFactory),e.xp6(2),e.Q6J("ngForOf",t.arrayFormRows))},dependencies:[f.ax,s.UX,s.Fj,s.EJ,s.JJ,s.JL,s.oH,s.x0,s.CE,_.aw,_.X$,c.Zg,c.tS,c.wh,c.tJ,u.hg,u.LW,u.vA,u.IQ,A.zz,A.J6,u.Og,O.t4,c.$9,c.Uw,d.zm],encapsulation:2,changeDetection:0})),(0,x.gn)([d.aH],h.prototype,"newItemFactory",void 0),(0,x.gn)([d.aH],h.prototype,"filterOwnerOption",null);var Z=l(3823);const L=o=>{const r=o.controls;return(0,Z.$K)([r.ownershipOne.value,r.ownershipTwo.value],[p.nE.Usufruct,p.nE.BareOwnership])},S=o=>{const r=o.controls;return r.fractionOne.invalid||r.fractionTwo.invalid},D=o=>new Set([S,L].map(r=>r(o))).has(!0);class g{constructor(){(0,n.Z)(this,"formGroupDirective",(0,e.f3M)(s.sg)),(0,n.Z)(this,"genderOptions",p.uz),(0,n.Z)(this,"householdCategoryOptions",p.k0),(0,n.Z)(this,"integerMask",O.jH),(0,n.Z)(this,"maxChildren",String(20)),(0,n.Z)(this,"t",(0,e.f3M)(T.OS)),(0,n.Z)(this,"ctrls",void 0),(0,n.Z)(this,"filterOwnerOption",void 0),(0,n.Z)(this,"filterOwnerOptionChange",new e.vpe)}ngOnInit(){this.ctrls=this.formGroupDirective.form.controls}resetOwnerList(){this.filterOwnerOptionChange.emit(this.ctrls.householdCategory.value===p.XH.Mono?(0,p.pO)(this.ctrls.beneficiaryGender.value):null)}setBeneficiaryGender(r){this.ctrls.beneficiaryGender.setValue(r),this.ctrls.householdCategory.value===p.XH.Mono&&this.filterOwnerOptionChange.emit((0,p.pO)(r))}}(0,n.Z)(g,"\u0275fac",function(r){return new(r||g)}),(0,n.Z)(g,"\u0275cmp",e.Xpm({type:g,selectors:[["app-properties-form-inline"]],inputs:{filterOwnerOption:"filterOwnerOption"},outputs:{filterOwnerOptionChange:"filterOwnerOptionChange"},standalone:!0,features:[e._Bn([],[{provide:s.gN,useExisting:s.sg}]),e.jDz],decls:21,vars:30,consts:[["vwFormResetObserver","",1,"row","g-2"],[1,"col-lg-3","col-md-4","col-sm-6","mb-3"],["labelClass","form-label",3,"label"],["vw-form-select-options","",1,"form-select",3,"formControl","placeholder","options","selectedOption","change"],[1,"form-label","required"],[1,"d-block","btn-group"],["color","outline-primary",3,"ariaLabel","fixedWidthPx","options","values","selectedOption","selectOption"],["appFormControlErrorsContainer","",1,"input-group"],["vwResetValueIfEmpty","","type","text",1,"form-control","text-start",3,"formControl","inputMask","placeholder","maxLength"],[1,"input-group-text"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"vw-form-field",2),e.ALo(3,"translate"),e.TgZ(4,"select",3),e.NdJ("change",function(){return t.resetOwnerList()}),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",1)(7,"label",4),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",5)(11,"vw-button-group",6),e.NdJ("selectOption",function(a){return t.setBeneficiaryGender(a)}),e.ALo(12,"translate"),e.ALo(13,"mapDynamicPipe"),e.qZA()()(),e.TgZ(14,"div",1)(15,"vw-form-field",2),e.ALo(16,"translate"),e.TgZ(17,"div",7),e._UZ(18,"input",8),e.TgZ(19,"span",9),e._uU(20),e.qZA()()()()()),2&r&&(e.xp6(2),e.s9C("label",e.lcZ(3,17,t.t.PROPERTIES.householdCategory)),e.xp6(2),e.s9C("placeholder",e.lcZ(5,19,t.t.FORM.CHOOSE)),e.Q6J("formControl",t.ctrls.householdCategory)("options",t.householdCategoryOptions)("selectedOption",t.ctrls.householdCategory.value),e.xp6(4),e.hij(" ",e.lcZ(9,21,t.t.PROPERTIES.beneficiaryGender),""),e.xp6(3),e.s9C("ariaLabel",e.lcZ(12,23,t.t.PROPERTIES.beneficiaryGender)),e.Q6J("fixedWidthPx",39)("options",t.genderOptions)("values",e.xi3(13,25,t.genderOptions,"enum"))("selectedOption",t.ctrls.beneficiaryGender.value),e.xp6(4),e.s9C("label",e.lcZ(16,28,t.t.PROPERTIES.childrenCount)),e.xp6(3),e.s9C("placeholder",t.integerMask.inputPlaceholder),e.s9C("maxLength",t.maxChildren.length),e.Q6J("formControl",t.ctrls.childrenCount)("inputMask",t.integerMask.options),e.xp6(2),e.hij("\u2264 ",t.maxChildren,""))},dependencies:[s.UX,s.Fj,s.EJ,s.JJ,s.oH,_.aw,_.X$,c.Zg,c.tS,c._c,u.hg,u.LW,u.vA,u.IQ,A.zz,A.J6,u.Og,O.t4,u.Kb,d.ZY],encapsulation:2,changeDetection:0})),(0,x.gn)([d.aH],g.prototype,"filterOwnerOption",void 0);var J=l(663);function k(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"th",3),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"keyOf"),e.qZA(),e.BQk()),2&o){const t=r.$implicit,i=e.oxw();e.xp6(1),e.Tol(t.value.class),e.xp6(1),e.Oqu(e.lcZ(3,3,e.xi3(4,5,t.key,i.t[i.prefix])))}}function Q(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"td",12),e._uU(2),e.ALo(3,"dynamicPipe"),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Tol(t.value.class),e.xp6(1),e.hij(" ",e.Dn7(3,3,t.value.data,t.value.pipe,t.value.args),"")}}function j(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td",12),e._uU(2),e.qZA(),e.YNc(3,Q,4,7,"ng-container",4),e.ALo(4,"keyvalue"),e.qZA()),2&o){const t=r.$implicit,i=r.index,a=e.oxw();e.xp6(2),e.Oqu(i+1),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,t,a.sort))}}function H(o,r){if(1&o&&(e.TgZ(0,"caption"),e._UZ(1,"i",2),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,1,t.t.PROPERTIES.FOR_DEPENDENT_CHILDREN_INFO)," ")}}function G(o,r){if(1&o&&(e.TgZ(0,"caption"),e._UZ(1,"i",2),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,1,t.t.PROPERTIES.UNBUILT_EXONERATION_INFO)," ")}}function Y(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"th",9),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"td",11),e._uU(8,"-"),e.qZA(),e.TgZ(9,"td",11),e._uU(10),e.ALo(11,"dynamicPipe"),e.qZA()()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,5,i.t.PROPERTIES.EXONERATION)),e.xp6(3),e.Oqu(e.lcZ(6,7,i.t.PROPERTIES.BASE)),e.xp6(4),e.ekj("border-bottom",!t.exoneration.forDependantChildren),e.xp6(1),e.hij(" ",e.Dn7(11,9,t.exoneration.base.data,t.exoneration.base.pipe,t.exoneration.base.args)," ")}}function B(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"th",17),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td",11),e._uU(5,"-"),e.qZA(),e.TgZ(6,"td",11),e._uU(7),e.ALo(8,"dynamicPipe"),e.qZA()()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,4,i.t.PROPERTIES.EXONERATION)),e.xp6(4),e.ekj("border-bottom",!t.exoneration.forDependantChildren),e.xp6(1),e.hij(" ",e.Dn7(8,6,t.exoneration.total.data,t.exoneration.total.pipe,t.exoneration.total.args),"")}}function X(o,r){if(1&o&&(e.TgZ(0,"tr"),e._UZ(1,"th",21),e.TgZ(2,"td",22),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"td",11),e._uU(6,"-"),e.qZA(),e.TgZ(7,"td",18),e._uU(8),e.ALo(9,"dynamicPipe"),e.qZA()()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,2,i.t.PROPERTIES.FOR_DEPENDENT_CHILDREN)),e.xp6(5),e.hij(" ",e.Dn7(9,4,t.exoneration.forDependantChildren.data,t.exoneration.forDependantChildren.pipe,t.exoneration.forDependantChildren.args)," ")}}function $(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().index;e.xp6(1),e.hij(" (",t+1,")")}}function z(o,r){if(1&o&&(e.TgZ(0,"div",0)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"dynamicPipe"),e.qZA(),e.TgZ(5,"table",13),e.YNc(6,H,4,3,"caption",10),e.YNc(7,G,4,3,"caption",10),e.TgZ(8,"tbody")(9,"tr")(10,"th",14),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"td",11),e._uU(14),e.ALo(15,"dynamicPipe"),e.qZA()(),e.YNc(16,Y,12,13,"tr",15),e.YNc(17,B,9,10,"ng-template",null,16,e.W1O),e.YNc(19,X,10,8,"tr",10),e.TgZ(20,"tr")(21,"th",14),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"td",11),e._uU(25),e.ALo(26,"dynamicPipe"),e.qZA()(),e.TgZ(27,"tr")(28,"th",17),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"td",11),e._uU(32,"x"),e.qZA(),e.TgZ(33,"td",18),e._uU(34),e.ALo(35,"dynamicPipe"),e.qZA()(),e.TgZ(36,"tr")(37,"th",19),e._uU(38),e.ALo(39,"translate"),e.YNc(40,$,2,1,"span",10),e.qZA(),e.TgZ(41,"td",20),e._uU(42),e.ALo(43,"dynamicPipe"),e.qZA()()()()()),2&o){const t=r.$implicit,i=e.MAs(18),a=e.oxw();e.xp6(2),e.AsE("",e.lcZ(3,16,a.t.PROPERTIES.SUM_FOR),' "',e.Dn7(4,18,t.nature.data,t.nature.pipe,t.nature.args),'"'),e.xp6(4),e.Q6J("ngIf",t.exoneration.forDependantChildren),e.xp6(1),e.Q6J("ngIf",t.nature.data===a.propertyNature.NotBuilt),e.xp6(4),e.Oqu(e.lcZ(12,22,a.t.PROPERTIES.SUM)),e.xp6(3),e.hij(" ",e.Dn7(15,24,t.sum.data,t.sum.pipe,t.sum.args),""),e.xp6(2),e.Q6J("ngIf",t.exoneration.base)("ngIfElse",i),e.xp6(3),e.Q6J("ngIf",t.exoneration.forDependantChildren),e.xp6(3),e.Oqu(e.lcZ(23,28,a.t.PROPERTIES.EXONERATED)),e.xp6(3),e.hij(" ",e.Dn7(26,30,t.exonerated.data,t.exonerated.pipe,t.exonerated.args),""),e.xp6(4),e.Oqu(e.lcZ(30,34,a.t.PROPERTIES.MULTIPLIER)),e.xp6(5),e.hij(" ",e.Dn7(35,36,t.multiplier.data,t.multiplier.pipe,t.multiplier.args),""),e.xp6(4),e.hij("",e.lcZ(39,40,a.t.PROPERTIES.TOTAL)," "),e.xp6(2),e.Q6J("ngIf",2===a.result.totalByNature.length),e.xp6(2),e.hij(" ",e.Dn7(43,42,t.total.data,t.total.pipe,t.total.args),"")}}function W(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," (1) + (2)"),e.qZA())}class w{constructor(){(0,n.Z)(this,"prefix",(0,e.f3M)(J.pv).getValue()),(0,n.Z)(this,"sort",m.qF),(0,n.Z)(this,"t",(0,e.f3M)(T.OS)),(0,n.Z)(this,"propertyNature",p.kJ),(0,n.Z)(this,"result",void 0)}}(0,n.Z)(w,"\u0275fac",function(r){return new(r||w)}),(0,n.Z)(w,"\u0275cmp",e.Xpm({type:w,selectors:[["app-properties-form-response"]],inputs:{result:"result"},standalone:!0,features:[e.jDz],decls:28,vars:21,consts:[[1,"table-responsive","mb-3"],[1,"table","table-sm","w-auto"],[1,"fa-solid","fa-circle-info"],["scope","col",1,"text-end","pe-4"],[4,"ngFor","ngForOf"],[1,"d-flex","flex-wrap","mb-3"],["class","table-responsive mb-3",4,"ngFor","ngForOf"],[1,"table","table-sm","table-borderless","w-auto"],[1,"result"],["scope","row",1,"pe-4"],[4,"ngIf"],[1,"text-end","px-4"],[1,"text-end","pe-4"],[1,"table","table-sm","table-borderless","w-auto","align-self-start","me-5","border","rounded"],["scope","row","colspan","3",1,"pe-4"],[4,"ngIf","ngIfElse"],["exonerationTotal",""],["scope","row","colspan","2",1,"pe-4"],[1,"text-end","px-4","border-bottom"],["scope","row","colspan","3"],[1,"text-end","fw-bold","px-4"],["scope","row"],[1,"text-nowrap"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"table",1)(2,"caption"),e._UZ(3,"i",2),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"thead")(7,"tr")(8,"th",3),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,k,5,8,"ng-container",4),e.ALo(12,"keyvalue"),e.qZA()(),e.TgZ(13,"tbody"),e.YNc(14,j,5,5,"tr",4),e.qZA()()(),e.TgZ(15,"div",5),e.YNc(16,z,44,46,"div",6),e.qZA(),e.TgZ(17,"div",0)(18,"table",7)(19,"tbody")(20,"tr",8)(21,"th",9),e._uU(22),e.ALo(23,"translate"),e.YNc(24,W,2,0,"span",10),e.qZA(),e.TgZ(25,"td",11),e._uU(26),e.ALo(27,"dynamicPipe"),e.qZA()()()()()),2&r&&(e.xp6(4),e.hij(" ",e.lcZ(5,8,t.t.PROPERTIES.CORRECTION_FACTOR_INFO),""),e.xp6(5),e.Oqu(e.lcZ(10,10,t.t.FORM.ROW_NUMBER)),e.xp6(2),e.Q6J("ngForOf",e.xi3(12,12,t.result.properties[0],t.sort)),e.xp6(3),e.Q6J("ngForOf",t.result.properties),e.xp6(2),e.Q6J("ngForOf",t.result.totalByNature),e.xp6(6),e.hij("",e.lcZ(23,15,t.t.PROPERTIES.TOTAL_INCOME)," "),e.xp6(2),e.Q6J("ngIf",2===t.result.totalByNature.length),e.xp6(2),e.hij(" ",e.Dn7(27,17,t.result.total.data,t.result.total.pipe,t.result.total.args),""))},dependencies:[f.ax,f.O5,_.aw,_.X$,f.Nd,d.e8,d.Qg],encapsulation:2,changeDetection:0})),(0,x.gn)([d.aH],w.prototype,"result",void 0);var V=l(5359);let K=(()=>{class o{constructor(){(0,n.Z)(this,"api",(0,e.f3M)(V._y))}getResult(t){return this.api.post(this.api.endpoints.properties,t)}}return(0,n.Z)(o,"\u0275fac",function(t){return new(t||o)}),(0,n.Z)(o,"\u0275prov",e.Yz7({token:o,factory:o.\u0275fac})),o})();function ee(o,r){1&o&&e._UZ(0,"app-properties-form-response",4),2&o&&e.Q6J("result",r.$implicit)}let te=(()=>{class o{constructor(){(0,n.Z)(this,"injector",(0,e.f3M)(e.lqb)),(0,n.Z)(this,"formArray",void 0),(0,n.Z)(this,"form",function q(){const o=(0,e.f3M)(s.qu);return o.group({householdCategory:o.control(null,s.kI.required),beneficiaryGender:o.nonNullable.control(p.Y0.Female,s.kI.required),childrenCount:o.nonNullable.control("",s.kI.max(20)),items:o.nonNullable.array([])})}()),(0,n.Z)(this,"newItemFactory",()=>this.injector.runInContext(()=>function N(){const o=(0,e.f3M)(s.qu);return o.group({nature:o.control(null,s.kI.required),cadastralIncome:o.nonNullable.control("",s.kI.required),fractionOne:o.nonNullable.control("",{validators:[s.kI.required,Z.Qk.properFraction],updateOn:"blur"}),ownershipOne:o.control(null,s.kI.required),ownerOne:o.control(null,s.kI.required),fractionTwo:o.nonNullable.control("",{validators:[Z.Qk.properFraction],updateOn:"blur"}),ownershipTwo:o.control(null),ownerTwo:o.control(null)},{validators:[Z.hv.exclusiveValue(["ownerOne","ownerTwo"],p.Ff.Common),Z.hv.distinctPairValues([["ownerOne","ownershipOne"],["ownerTwo","ownershipTwo"]]),Z.hv.conditionalFractionsSumMax(["fractionOne","fractionTwo"],1,D),Z.hv.allFilledOrNone(["fractionTwo","ownershipTwo","ownerTwo"])]})}())),(0,n.Z)(this,"filterOwnerOption",void 0),(0,n.Z)(this,"PropertiesView",void 0)}ngOnInit(){this.formArray=this.form.controls.items,this.formArray.push(this.newItemFactory())}resetForm(){this.filterOwnerOption=null,this.formArray.clear(),this.formArray.push(this.newItemFactory())}}return(0,n.Z)(o,"\u0275fac",function(t){return new(t||o)}),(0,n.Z)(o,"\u0275cmp",e.Xpm({type:o,selectors:[["app-properties-container"]],standalone:!0,features:[e._Bn([],[(0,c.Po)(K),(0,c.N3)(b),(0,c.sj)(E),(0,c.nx)(F)]),e.jDz],decls:4,vars:5,consts:[[3,"formGroup","isReset"],[3,"filterOwnerOption","filterOwnerOptionChange"],[3,"newItemFactory","filterOwnerOption"],[3,"typeOf"],[3,"result"]],template:function(t,i){1&t&&(e.TgZ(0,"app-base-form-container",0),e.NdJ("isReset",function(){return i.resetForm()}),e.TgZ(1,"app-properties-form-inline",1),e.NdJ("filterOwnerOptionChange",function(C){return i.filterOwnerOption=C}),e.qZA(),e._UZ(2,"app-properties-form-array",2),e.YNc(3,ee,1,1,"ng-template",3),e.qZA()),2&t&&(e.Q6J("formGroup",i.form),e.xp6(1),e.Q6J("filterOwnerOption",i.filterOwnerOption),e.xp6(1),e.Q6J("newItemFactory",i.newItemFactory)("filterOwnerOption",i.filterOwnerOption),e.xp6(1),e.Q6J("typeOf",i.PropertiesView))},dependencies:[s.UX,s.JL,s.sg,c.wM,g,h,d.Co,w],encapsulation:2,changeDetection:0})),o})(),oe=(()=>{class o extends((0,p.Y2)()){}return(0,n.Z)(o,"\u0275fac",function(){let r;return function(i){return(r||(r=e.n5z(o)))(i||o)}}()),(0,n.Z)(o,"\u0275cmp",e.Xpm({type:o,selectors:[["page-properties"]],standalone:!0,features:[e.qOj,e.jDz],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"app-properties-container")},dependencies:[te],encapsulation:2,changeDetection:0})),o})()}}]);