"use strict";(self.webpackChunkrobin=self.webpackChunkrobin||[]).push([[333],{9333:(b,y,s)=>{s.d(y,{Mp:()=>Se,wM:()=>U,$9:()=>G,tJ:()=>ce,wh:()=>re,Uw:()=>J,tS:()=>le,Zg:()=>oe,WX:()=>R,_c:()=>de,n9:()=>u,Po:()=>v.Po,N3:()=>v.N3,sj:()=>v.sj,nx:()=>v.nx});var o=s(7691),p=s(7582),c=s(6895),e=s(4650),m=s(4006),C=s(9646),A=s(1884),Z=s(8505),Q=s(4004),H=s(8746),X=s(8502),M=s(262),E=s(1203),f=s(7174),g=s(3597),_=s(7718),O=s(7244),x=s(663),D=s(3416);function S(t,n){if(1&t&&(e.TgZ(0,"tr")(1,"th",5),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"keyOf"),e.qZA(),e.TgZ(5,"td",6),e._uU(6),e.ALo(7,"dynamicPipe"),e.qZA()()),2&t){const r=n.$implicit,l=e.oxw(2);e.Tol(null==r.value?null:r.value.class),e.xp6(2),e.hij(" ",e.lcZ(3,5,e.xi3(4,7,r.key,l.t[l.prefix])),""),e.xp6(4),e.hij(" ",e.Dn7(7,10,null==r.value?null:r.value.data,null==r.value?null:r.value.pipe,null==r.value?null:r.value.args),"")}}function Y(t,n){if(1&t&&(e.TgZ(0,"div",2)(1,"table",3)(2,"tbody"),e.YNc(3,S,8,14,"tr",4),e.ALo(4,"keyvalue"),e.qZA()()()),2&t){const r=n.ngIf,l=e.oxw();e.xp6(3),e.Q6J("ngForOf",e.xi3(4,1,r,l.sort))}}function w(t,n){if(1&t&&(e.ynx(0),e.TgZ(1,"th",10),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"keyOf"),e.qZA(),e.BQk()),2&t){const r=n.$implicit,l=e.oxw(2);e.xp6(1),e.Gre("text-end pe-4 ",null==r.value?null:r.value.class,""),e.xp6(1),e.hij(" ",e.lcZ(3,4,e.xi3(4,6,r.key,l.t[l.prefix])),"")}}function K(t,n){if(1&t&&(e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.ALo(3,"dynamicPipe"),e.qZA(),e.BQk()),2&t){const r=n.$implicit;e.xp6(1),e.Gre("text-end pe-4 ",null==r.value?null:r.value.class,""),e.xp6(1),e.hij(" ",e.Dn7(3,4,null==r.value?null:r.value.data,null==r.value?null:r.value.pipe,null==r.value?null:r.value.args),"")}}function z(t,n){if(1&t&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.YNc(3,K,4,8,"ng-container",9),e.ALo(4,"keyvalue"),e.qZA()),2&t){const r=n.$implicit,l=n.index,h=e.oxw(2);e.xp6(2),e.Oqu(l+1),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,r,h.sort))}}function W(t,n){if(1&t&&(e.TgZ(0,"div",2)(1,"table",3)(2,"caption",7),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"thead")(6,"tr")(7,"th",8),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,w,5,9,"ng-container",9),e.ALo(11,"keyvalue"),e.qZA()(),e.TgZ(12,"tbody"),e.YNc(13,z,5,5,"tr",9),e.qZA()()()),2&t){const r=n.ngIf,l=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,4,l.t.DOMAIN[l.prefix])),e.xp6(5),e.Oqu(e.lcZ(9,6,l.t.FORM.ROW_NUMBER)),e.xp6(2),e.Q6J("ngForOf",e.xi3(11,8,r[0],l.sort)),e.xp6(3),e.Q6J("ngForOf",r)}}class d{constructor(){(0,o.Z)(this,"prefix",(0,e.f3M)(x.pv).getValue()),(0,o.Z)(this,"sort",O.qF),(0,o.Z)(this,"t",(0,e.f3M)(_.OS)),(0,o.Z)(this,"formDataView",void 0)}}(0,o.Z)(d,"\u0275fac",function(n){return new(n||d)}),(0,o.Z)(d,"\u0275cmp",e.Xpm({type:d,selectors:[["app-form-data"]],inputs:{formDataView:"formDataView"},standalone:!0,features:[e.jDz],decls:4,vars:5,consts:[[3,"header"],["class","table-responsive mb-3",4,"ngIf"],[1,"table-responsive","mb-3"],[1,"table","table-sm","w-auto"],[3,"class",4,"ngFor","ngForOf"],["scope","row",1,"pe-4"],[1,"text-end","pe-4"],[1,"caption-top"],["scope","col",1,"pe-4"],[4,"ngFor","ngForOf"],["scope","col"]],template:function(n,r){1&n&&(e.TgZ(0,"vw-card",0),e.ALo(1,"translate"),e.YNc(2,Y,5,4,"div",1),e.YNc(3,W,14,11,"div",1),e.qZA()),2&n&&(e.s9C("header",e.lcZ(1,3,r.t.FORM.DATA)),e.xp6(2),e.Q6J("ngIf",r.formDataView.form),e.xp6(1),e.Q6J("ngIf",r.formDataView.array))},dependencies:[c.O5,c.ax,c.Nd,D.aw,D.X$,g.Ak,f.e8,f.Qg],encapsulation:2,changeDetection:0})),(0,p.gn)([f.aH],d.prototype,"formDataView",void 0);const N=[[["","slotSubmit",""]],[["","slotCancel",""]]],I=["[slotSubmit]","[slotCancel]"];let R=(()=>{class t{constructor(){(0,o.Z)(this,"disableCancel",!1),(0,o.Z)(this,"disableSubmit",!1),(0,o.Z)(this,"clickCancel",new e.vpe)}}return(0,o.Z)(t,"\u0275fac",function(r){return new(r||t)}),(0,o.Z)(t,"\u0275cmp",e.Xpm({type:t,selectors:[["vw-form-footer"]],inputs:{disableCancel:"disableCancel",disableSubmit:"disableSubmit"},outputs:{clickCancel:"clickCancel"},standalone:!0,features:[e.jDz],ngContentSelectors:I,decls:6,vars:4,consts:[[1,"float-end"],["type","submit",1,"btn","btn-primary","me-3",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],[1,"clearfix"]],template:function(r,l){1&r&&(e.F$t(N),e.TgZ(0,"div",0)(1,"button",1),e.Hsn(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return l.clickCancel.emit()}),e.Hsn(4,1),e.qZA()(),e._UZ(5,"div",3)),2&r&&(e.xp6(1),e.Q6J("disabled",l.disableSubmit),e.uIk("aria-disabled",l.disableSubmit),e.xp6(2),e.Q6J("disabled",l.disableCancel),e.uIk("aria-disabled",l.disableCancel))},encapsulation:2,changeDetection:0})),t})();var te=s(7579);let k=(()=>{class t{constructor(){(0,o.Z)(this,"_emitter$",new te.x),(0,o.Z)(this,"emitter$",this._emitter$.asObservable())}emit(){this._emitter$.next()}}return(0,o.Z)(t,"\u0275fac",function(r){return new(r||t)}),(0,o.Z)(t,"\u0275prov",e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})),t})();function se(t,n){if(1&t&&(e.TgZ(0,"span",6),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Oqu(e.xi3(2,1,r.description,r.descriptionParam))}}function ie(t,n){if(1&t&&(e.TgZ(0,"pre",6),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Oqu(r.rawError)}}function ae(t,n){if(1&t&&(e._UZ(0,"span",7),e.ALo(1,"translate")),2&t){const r=e.oxw(2);e.s9C("innerHTML",e.xi3(1,1,r.t.ALERT_KO.CONTACT_SUPPORT,r.emailParam),e.oJD)}}function i(t,n){if(1&t&&(e.TgZ(0,"vw-alert",2)(1,"span",3),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,se,3,4,"span",4),e.YNc(5,ie,2,1,"pre",4),e.YNc(6,ae,2,4,"span",5),e.qZA()),2&t){const r=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,4,r.t.ALERT_KO[r.key])),e.xp6(2),e.Q6J("ngIf",r.description),e.xp6(1),e.Q6J("ngIf",r.rawError),e.xp6(1),e.Q6J("ngIf",r.hasSupport)}}class u{constructor(){(0,o.Z)(this,"emailMsg",""),(0,o.Z)(this,"t",(0,e.f3M)(_.OS)),(0,o.Z)(this,"description",""),(0,o.Z)(this,"descriptionParam",void 0),(0,o.Z)(this,"emailParam",{email:""}),(0,o.Z)(this,"hasSupport",!1),(0,o.Z)(this,"key",void 0),(0,o.Z)(this,"rawError","")}set error(n){n&&(this.key=n.error,this.key===E.jK.UNPROCESSABLE_ENTITY?this.setUnprocessableEntityError(n):this.key===E.jK.JSON_VALIDATION_ERROR?this.setJsonValidationError(n):this.setGenericServerSideError(n))}setGenericServerSideError(n){this.hasSupport=!0,this.emailMsg="string"==typeof n.message?n.message:JSON.stringify(n.message),this.emailParam={email:`${E.yC}?subject=[ROBIN] ${this.key}&body=${(new Date).toLocaleString()}: ${this.emailMsg}`}}setJsonValidationError(n){this.rawError="string"==typeof n.message?n.message:n.message.message}setUnprocessableEntityError(n){const r=n.message,{name:l,property:h,param:ne}=r.constraint;this.description=`${E.jK.UNPROCESSABLE_ENTITY}.${l}.${h}`,this.descriptionParam=ne}}(0,o.Z)(u,"\u0275fac",function(n){return new(n||u)}),(0,o.Z)(u,"\u0275cmp",e.Xpm({type:u,selectors:[["app-form-response-error"]],inputs:{error:"error"},standalone:!0,features:[e.jDz],decls:2,vars:1,consts:[[1,"clearfix"],["level","danger",4,"ngIf"],["level","danger"],[1,"me-2","fw-bold"],["class","mt-1 mb-0",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"mt-1","mb-0"],[3,"innerHTML"]],template:function(n,r){1&n&&(e._UZ(0,"div",0),e.YNc(1,i,7,6,"vw-alert",1)),2&n&&(e.xp6(1),e.Q6J("ngIf",r.key))},dependencies:[c.O5,D.aw,D.X$,g.wx],encapsulation:2,changeDetection:0})),(0,p.gn)([f.aH],u.prototype,"error",null);var v=s(4522),P=s(3714),ee=s(7060);function pe(t,n){1&t&&e.GkF(0)}function ve(t,n){if(1&t&&(e.TgZ(0,"div",13),e._uU(1),e.ALo(2,"json"),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,r.formGroup.value))}}function he(t,n){1&t&&e._UZ(0,"app-form-response-error",14),2&t&&e.Q6J("error",n.ngIf)}function _e(t,n){if(1&t&&e._UZ(0,"app-form-data",15),2&t){const r=e.oxw();e.Q6J("formDataView",r.formDataView)}}function ye(t,n){1&t&&e.GkF(0)}function ge(t,n){if(1&t&&e._UZ(0,"span",20),2&t){const r=e.oxw(2);e.MGl("throwClientError","'TypeOfDirective' is required on 'ContentChild' of ",r.constructor.name,"")}}const Ce=function(t){return{$implicit:t}};function Ae(t,n){if(1&t&&(e.TgZ(0,"vw-card",16),e.ALo(1,"translate"),e.ynx(2),e.YNc(3,ye,1,0,"ng-container",17),e.YNc(4,ge,1,1,"ng-template",null,18,e.W1O),e.BQk(),e.TgZ(6,"vw-print-button",19),e._uU(7),e.ALo(8,"translate"),e.qZA()()),2&t){const r=n.ngIf,l=e.MAs(5),h=e.oxw();e.s9C("header",e.lcZ(1,4,h.t.FORM.RESULT)),e.xp6(3),e.Q6J("ngTemplateOutlet",h.templateRef||l)("ngTemplateOutletContext",e.VKq(8,Ce,r)),e.xp6(4),e.Oqu(e.lcZ(8,6,h.t.FORM.PRINT))}}class U{constructor(){(0,o.Z)(this,"calculationService",(0,v.zZ)()),(0,o.Z)(this,"formDataViewAdapter",(0,v.jS)()),(0,o.Z)(this,"formReset",(0,e.f3M)(k)),(0,o.Z)(this,"requestAdapter",(0,P.b)()),(0,o.Z)(this,"responseViewAdapter",(0,ee.X)()),(0,o.Z)(this,"debug",!1),(0,o.Z)(this,"t",(0,e.f3M)(_.OS)),(0,o.Z)(this,"error$",(0,C.of)()),(0,o.Z)(this,"formDataView",null),(0,o.Z)(this,"formStatusChanges$",void 0),(0,o.Z)(this,"response$",(0,C.of)()),(0,o.Z)(this,"templateRef",void 0),(0,o.Z)(this,"formGroup",void 0),(0,o.Z)(this,"isReset",new e.vpe)}ngOnInit(){this.formStatusChanges$=this.formGroup.statusChanges.pipe((0,A.x)())}resetForm(){this.formGroup.reset(),this.isReset.emit(),this.formReset.emit(),this.formGroup.disabled&&this.formGroup.enable(E.rA),this.clearResultView()}submitForm(n){this.formGroup.valid&&(this.clearResultView(),this.formGroup.disable(E.rA),this.response$=this.calculationService.getResult(this.requestAdapter(n)).pipe((0,Z.b)(()=>this.formDataView=this.formDataViewAdapter(n)),(0,Q.U)(r=>this.responseViewAdapter(r)),(0,H.x)(()=>this.formGroup.enable(E.rA))),this.error$=this.response$.pipe((0,X.l)(),(0,M.K)(r=>(0,C.of)(r))))}clearResultView(){this.formDataView=null,this.response$=this.error$=(0,C.of)()}}(0,o.Z)(U,"\u0275fac",function(n){return new(n||U)}),(0,o.Z)(U,"\u0275cmp",e.Xpm({type:U,selectors:[["app-base-form-container"]],contentQueries:function(n,r,l){if(1&n&&e.Suo(l,f.Co,5,e.Rgc),2&n){let h;e.iGM(h=e.CRH())&&(r.templateRef=h.first)}},inputs:{formGroup:"formGroup"},outputs:{isReset:"isReset"},standalone:!0,features:[e.jDz],ngContentSelectors:["*"],decls:22,vars:20,consts:[[4,"vwSubscribe"],["vwNoPrint",""],["slotCardTitle",""],["aria-label","form",3,"formGroup","ngSubmit"],[3,"disableSubmit","clickCancel"],["slotSubmit",""],[1,"fa-solid","fa-calculator","me-2"],["slotCancel",""],[1,"fa-solid","fa-eraser","me-2"],["class","spy mb-3",4,"ngIf"],[3,"error",4,"ngIf"],["vwOnlyPrint","",3,"formDataView",4,"ngIf"],[3,"header",4,"ngIf"],[1,"spy","mb-3"],[3,"error"],["vwOnlyPrint","",3,"formDataView"],[3,"header"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["emptyRef",""],["vwNoPrint","",1,"float-end"],[3,"throwClientError"]],template:function(n,r){1&n&&(e.F$t(),e.YNc(0,pe,1,0,"ng-container",0),e.TgZ(1,"vw-card",1),e.ynx(2,2),e._uU(3),e.ALo(4,"translate"),e.BQk(),e.TgZ(5,"form",3),e.NdJ("ngSubmit",function(){return r.submitForm(r.formGroup.value)}),e.Hsn(6),e.TgZ(7,"vw-form-footer",4),e.NdJ("clickCancel",function(){return r.resetForm()}),e.ynx(8,5),e._UZ(9,"i",6),e._uU(10),e.ALo(11,"translate"),e.BQk(),e.ynx(12,7),e._UZ(13,"i",8),e._uU(14),e.ALo(15,"translate"),e.BQk(),e.qZA()(),e.YNc(16,ve,3,3,"div",9),e.qZA(),e.YNc(17,he,1,1,"app-form-response-error",10),e.ALo(18,"async"),e.YNc(19,_e,1,1,"app-form-data",11),e.YNc(20,Ae,9,10,"vw-card",12),e.ALo(21,"async")),2&n&&(e.Q6J("vwSubscribe",r.formStatusChanges$),e.xp6(3),e.Oqu(e.lcZ(4,10,r.t.FORM.ENTER_DATA)),e.xp6(2),e.Q6J("formGroup",r.formGroup),e.xp6(2),e.Q6J("disableSubmit",!r.formGroup.valid),e.xp6(3),e.hij("",e.lcZ(11,12,r.t.FORM.SUBMIT)," "),e.xp6(4),e.Oqu(e.lcZ(15,14,r.t.FORM.RESET)),e.xp6(2),e.Q6J("ngIf",r.debug),e.xp6(1),e.Q6J("ngIf",e.lcZ(18,16,r.error$)),e.xp6(2),e.Q6J("ngIf",r.formDataView),e.xp6(1),e.Q6J("ngIf",e.lcZ(21,18,r.response$)))},dependencies:[m.UX,m._Y,m.JL,m.sg,c.tP,c.O5,c.Ov,c.Ts,D.aw,D.X$,R,d,u,g.Ak,g.Lz,f.cu,f.Hr,f.KX,f.Sn],encapsulation:2,changeDetection:0})),(0,p.gn)([f.aH],U.prototype,"formGroup",void 0);var L=s(2856);const Ee=new e.OlP("FORM_ERRORS_MESSAGES",{factory:()=>({invalid:t=>({key:"DEFAULT_ERROR"}),required:t=>({key:"REQUIRED_FIELD"}),max:({max:t})=>({key:"VALUE_LESS_THAN",interpolateParams:{max:t}}),min:({min:t})=>({key:"VALUE_GREATER_THAN",interpolateParams:{min:t}}),invalidInss:({wrongBirthDate:n})=>({key:n?"INVALID_INSS_BIRTH_DATE":"INVALID_INSS_CHECK_DIGIT"}),invalidJson:({})=>({key:"INVALID_JSON"}),differFrom:({errorMessage:t})=>({key:t||"DIFFER_FROM"}),invalidFractionSumMax:({max:t})=>({key:"INVALID_FRACTION_SUM_MAX",interpolateParams:{max:t}}),date:({min:n,max:r})=>n&&n instanceof Date?{key:"DATE_AFTER",interpolateParams:{minDate:(0,O.UW)(n)}}:r&&r instanceof Date?{key:"DATE_BEFORE",interpolateParams:{maxDate:(0,O.UW)(r)}}:{key:"INVALID_DATE"},allFilledOrNone:({number:t})=>({key:"ALL_FILLED_OR_NONE",interpolateParams:{number:t}})})});var V;let B=((0,o.Z)(V=class{constructor(){(0,o.Z)(this,"cdRef",(0,e.f3M)(e.sBO)),(0,o.Z)(this,"formErrorsMessages",(0,e.f3M)(Ee)),(0,o.Z)(this,"t",(0,e.f3M)(_.OS)),(0,o.Z)(this,"t9nService",(0,e.f3M)(_.$z)),(0,o.Z)(this,"translation",void 0)}transform(n,r){if(!n)return"";const l=Object.keys(n).shift();if(!l)return"";const h=(0,O.wl)("inputMask",n)?"inputMask":l,ne={...this.formErrorsMessages,...r},we=ne[h]??ne.invalid,{key:Ne,interpolateParams:ke}=we(n[h]);return this.t9nService.translation$(this.t.VALIDATION_ERROR[Ne],ke).pipe((0,A.x)(),(0,Z.b)(Pe=>{this.translation=Pe,this.cdRef.markForCheck()}),(0,L.t)(this)).subscribe(),this.translation}},"\u0275fac",function(n){return new(n||V)}),(0,o.Z)(V,"\u0275pipe",e.Yjl({name:"translateFormErrors",type:V,pure:!1,standalone:!0})),V);function Oe(t,n){if(1&t&&(e.TgZ(0,"small",1),e._UZ(1,"i",2),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"translateFormErrors"),e.qZA()),2&t){const r=n.$implicit,l=n.index,h=e.oxw();e.xp6(2),e.lnq(" ",e.lcZ(3,3,h.t.VALIDATION_ERROR.INVALID_GENERIC)," #",l+1," : ",e.xi3(4,5,r,h.overriddenMessages)," ")}}B=(0,p.gn)([(0,L.c)()],B);class T{constructor(){(0,o.Z)(this,"cdRef",(0,e.f3M)(e.sBO)),(0,o.Z)(this,"_errors",void 0),(0,o.Z)(this,"t",(0,e.f3M)(_.OS)),(0,o.Z)(this,"errorClass",""),(0,o.Z)(this,"overriddenMessages",void 0)}set errors(n){this._errors=n,this.cdRef.markForCheck()}get errors(){return this._errors}}function Re(t,n){if(1&t&&(e.TgZ(0,"div")(1,"small",1),e._uU(2),e.ALo(3,"translateFormErrors"),e.qZA()()),2&t){const r=e.oxw();e.xp6(1),e.Tol(r.errorClass),e.MGl("id","",r.id,"-errormessage"),e.xp6(1),e.hij(" ",e.xi3(3,5,r.errors,r.overriddenMessages)," ")}}(0,o.Z)(T,"\u0275fac",function(n){return new(n||T)}),(0,o.Z)(T,"\u0275cmp",e.Xpm({type:T,selectors:[["ng-component"]],inputs:{errorClass:"errorClass",overriddenMessages:"overriddenMessages",errors:"errors"},standalone:!0,features:[e.jDz],decls:2,vars:4,consts:[["role","alert","class","d-block",4,"ngFor","ngForOf"],["role","alert",1,"d-block"],[1,"fa-regular","fa-circle-xmark"]],template:function(n,r){1&n&&(e.TgZ(0,"div"),e.YNc(1,Oe,5,8,"small",0),e.qZA()),2&n&&(e.Gre("text-end mb-3 ",r.errorClass,""),e.xp6(1),e.Q6J("ngForOf",r.errors))},dependencies:[c.ax,D.aw,D.X$,B],encapsulation:2,changeDetection:0})),(0,p.gn)([f.aH],T.prototype,"errors",null);class F{constructor(){(0,o.Z)(this,"cdRef",(0,e.f3M)(e.sBO)),(0,o.Z)(this,"_errors",void 0),(0,o.Z)(this,"errorClass",""),(0,o.Z)(this,"overriddenMessages",void 0),(0,o.Z)(this,"id",void 0)}set errors(n){this._errors=n,this.cdRef.markForCheck()}get errors(){return this._errors}}(0,o.Z)(F,"\u0275fac",function(n){return new(n||F)}),(0,o.Z)(F,"\u0275cmp",e.Xpm({type:F,selectors:[["ng-component"]],inputs:{errorClass:"errorClass",overriddenMessages:"overriddenMessages",id:"id",errors:"errors"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[[4,"ngIf"],["aria-live","assertive",3,"id"]],template:function(n,r){1&n&&e.YNc(0,Re,4,8,"div",0),2&n&&e.Q6J("ngIf",r.errors)},dependencies:[c.O5,B],encapsulation:2,changeDetection:0})),(0,p.gn)([f.aH],F.prototype,"id",void 0),(0,p.gn)([f.aH],F.prototype,"errors",null);let ce=(()=>{class t{constructor(){(0,o.Z)(this,"vcr",(0,e.f3M)(e.s_b))}}return(0,o.Z)(t,"\u0275fac",function(r){return new(r||t)}),(0,o.Z)(t,"\u0275dir",e.lG2({type:t,selectors:[["","appFormArrayErrorsContainer",""]],standalone:!0})),t})();var $;let re=((0,o.Z)($=class{constructor(){(0,o.Z)(this,"container",(0,e.f3M)(ce,{optional:!0})?.vcr??(0,e.f3M)(e.s_b)),(0,o.Z)(this,"formArrayDirective",(0,e.f3M)(m.CE)),(0,o.Z)(this,"component",void 0),(0,o.Z)(this,"formArray",void 0),(0,o.Z)(this,"overriddenMessages",void 0)}ngOnDestroy(){this.component&&this.component.destroy()}ngOnInit(){this.formArray=this.formArrayDirective.control,this.formArray.valueChanges.pipe((0,A.x)(),(0,Z.b)(()=>this.setArrayError(this.formArray,this.overriddenMessages)),(0,L.t)(this)).subscribe()}setArrayError(n,r){this.component||(this.component=this.container.createComponent(T),this.component.setInput("errorClass","text-error")),this.component.setInput("errors",n.controls.map(l=>l.errors).filter(O.K0)),r&&this.component.setInput("overriddenMessages",r)}},"\u0275fac",function(n){return new(n||$)}),(0,o.Z)($,"\u0275dir",e.lG2({type:$,selectors:[["","formArrayName",""]],inputs:{overriddenMessages:"overriddenMessages"},standalone:!0})),$);re=(0,p.gn)([(0,L.c)()],re);let le=(()=>{class t{constructor(){(0,o.Z)(this,"vcr",(0,e.f3M)(e.s_b))}}return(0,o.Z)(t,"\u0275fac",function(r){return new(r||t)}),(0,o.Z)(t,"\u0275dir",e.lG2({type:t,selectors:[["","appFormControlErrorsContainer",""]],standalone:!0})),t})();var j,Te=s(6451);const fe="overriddenMessages";let oe=((0,o.Z)(j=class{constructor(){(0,o.Z)(this,"cdr",(0,e.f3M)(e.sBO)),(0,o.Z)(this,"container",(0,e.f3M)(le,{optional:!0})?.vcr??(0,e.f3M)(e.s_b)),(0,o.Z)(this,"formControlDirective",(0,e.f3M)(m.oH)),(0,o.Z)(this,"component",void 0),(0,o.Z)(this,"formControl",void 0),(0,o.Z)(this,"overriddenMessages",void 0)}ngOnDestroy(){this.component&&this.component.destroy()}ngOnInit(){this.formControl=this.formControlDirective.control,(0,Te.T)(this.formControl.valueChanges).pipe((0,Z.b)(()=>{this.formControl.pristine&&this.removeError(),this.formControl.dirty&&this.formControl.errors?this.setError(this.formControl,this.overriddenMessages):this.removeError()}),(0,L.t)(this)).subscribe()}removeError(){this.component&&(this.component.setInput("id",null),this.component.setInput("errors",null),this.component.setInput(fe,void 0),this.cdr.markForCheck())}setError(n,r){this.component||(this.component=this.container.createComponent(F),this.component.setInput("errorClass","text-error")),this.component.setInput("id",(0,O.yS)(this.formControlDirective.control)),this.component.setInput("errors",n.errors),r&&this.component.setInput(fe,r)}},"\u0275fac",function(n){return new(n||j)}),(0,o.Z)(j,"\u0275dir",e.lG2({type:j,selectors:[["","formControl",""]],inputs:{overriddenMessages:"overriddenMessages"},standalone:!0})),j);oe=(0,p.gn)([(0,L.c)()],oe);const xe=[F,oe,le,T,re,ce];let de=(()=>{class t{constructor(){(0,o.Z)(this,"cdr",(0,e.f3M)(e.sBO)),(0,o.Z)(this,"isReset$",(0,e.f3M)(k).emitter$),(0,o.Z)(this,"subscription",void 0)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}ngOnInit(){this.subscription&&this.subscription.unsubscribe(),this.subscription=this.isReset$.subscribe(()=>{this.cdr.markForCheck()})}}return(0,o.Z)(t,"\u0275fac",function(r){return new(r||t)}),(0,o.Z)(t,"\u0275dir",e.lG2({type:t,selectors:[["","vwFormResetObserver",""]],standalone:!0})),t})();const Se=[m.UX,..._.by,...xe,de];class G{constructor(){(0,o.Z)(this,"arrayDirective",(0,e.f3M)(m.CE,{host:!0})),(0,o.Z)(this,"parentArray",void 0),(0,o.Z)(this,"newItemFactory",void 0)}ngOnInit(){this.parentArray=this.arrayDirective.control}addRow(){this.parentArray.push(this.newItemFactory())}}(0,o.Z)(G,"\u0275fac",function(n){return new(n||G)}),(0,o.Z)(G,"\u0275cmp",e.Xpm({type:G,selectors:[["app-form-array-add-row"]],inputs:{newItemFactory:"newItemFactory"},standalone:!0,features:[e.jDz],decls:2,vars:2,consts:[["type","button",1,"btn","btn-sm","btn-outline-primary",3,"disabled","click"],[1,"fa-solid","fa-plus"]],template:function(n,r){1&n&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return r.addRow()}),e._UZ(1,"i",1),e.qZA()),2&n&&(e.Q6J("disabled",r.parentArray.disabled),e.uIk("aria-disabled",r.parentArray.disabled))},encapsulation:2,changeDetection:0})),(0,p.gn)([f.aH],G.prototype,"newItemFactory",void 0);class J{constructor(){(0,o.Z)(this,"arrayDirective",(0,e.f3M)(m.CE,{host:!0})),(0,o.Z)(this,"parentArray",void 0),(0,o.Z)(this,"rowIndex",void 0)}ngOnInit(){this.parentArray=this.arrayDirective.control}removeRow(){this.parentArray.removeAt(this.rowIndex)}}(0,o.Z)(J,"\u0275fac",function(n){return new(n||J)}),(0,o.Z)(J,"\u0275cmp",e.Xpm({type:J,selectors:[["app-form-array-remove-row"]],inputs:{rowIndex:"rowIndex"},standalone:!0,features:[e.jDz],decls:2,vars:2,consts:[["type","button",1,"btn","btn-outline-danger","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-xmark"]],template:function(n,r){1&n&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return r.removeRow()}),e._UZ(1,"i",1),e.qZA()),2&n&&(e.Q6J("disabled",r.parentArray.disabled),e.uIk("aria-disabled",r.parentArray.disabled))},encapsulation:2,changeDetection:0})),(0,p.gn)([f.aH],J.prototype,"rowIndex",void 0),s(2778)},2778:(b,y,s)=>{s.d(y,{dU:()=>C,t4:()=>m,Ox:()=>z,Pu:()=>K,X8:()=>W,WS:()=>Y,kn:()=>S,jH:()=>w,Cy:()=>q});var o=s(5158),p=s(7691),c=s(4650),e=s(4006);let m=(()=>{class d{constructor(){(0,p.Z)(this,"elRef",(0,c.f3M)(c.SBq,{self:!0})),(0,p.Z)(this,"formControlDirective",(0,c.f3M)(e.oH,{self:!0}))}onBlur(){""!==this.formControlDirective.control.value&&""===this.elRef.nativeElement.value&&this.formControlDirective.control.setValue("")}}return(0,p.Z)(d,"\u0275fac",function(I){return new(I||d)}),(0,p.Z)(d,"\u0275dir",c.lG2({type:d,selectors:[["input","formControl","","vwResetValueIfEmpty",""]],hostBindings:function(I,R){1&I&&c.NdJ("blur",function(){return R.onBlur()})},standalone:!0})),d})();const C=[o.zz,m],A={showMaskOnFocus:!1,showMaskOnHover:!1,undoOnEscape:!1},Z={groupSeparator:" ",allowMinus:!1,shortcuts:{k:"",m:""}},Q=(0,o.Xf)({...A,mask:"99.99.99-999.99"}),H=(0,o.Xf)({...A,regex:"^[1-9]\\d*/[1-9]\\d*$"}),X=(0,o.Xf)({...A,alias:"integer",...Z}),M=(0,o.Xf)({...A,alias:"currency",...Z,radixPoint:","}),E=(0,o.Xf)({...M,digits:4}),f=(0,o.Xf)({...A,inputmode:"text",alias:"datetime",inputFormat:"dd/mm/yyyy",placeholder:"_"}),g=(0,o.Xf)({...f,inputFormat:"mm/yyyy"}),_={inputMask:d=>({key:"INVALID_MONTH_FORMAT",interpolateParams:{requiredMask:g.inputFormat?.toUpperCase()}})},O={inputMask:d=>({key:"INVALID_DATE_FORMAT",interpolateParams:{requiredMask:f.inputFormat?.toUpperCase()}})},S={options:Q,inputPlaceholder:"00.00.00-000.00",errorMessage:{inputMask:d=>({key:"INVALID_FORMAT",interpolateParams:{requiredMask:"00.00.00-000.00"}})}},Y={options:H,inputPlaceholder:"1/1",errorMessage:{inputMask:d=>({key:"INVALID_FRACTION"})}},w={options:X,inputPlaceholder:"0"},K={options:M,inputPlaceholder:"0,00"},z={options:E,inputPlaceholder:"0,0000"},W={options:f,errorMessage:O},q={options:g,errorMessage:_}},3383:(b,y,s)=>{s.d(y,{N:()=>c,j:()=>e});var o=s(4650);const p=new o.OlP("FormDataView adapter");function c(m){return{provide:p,useValue:m}}function e(){return(0,o.f3M)(p,{host:!0})}},4522:(b,y,s)=>{s.d(y,{zZ:()=>e,jS:()=>m.j,Po:()=>c,N3:()=>m.N,sj:()=>C.s,nx:()=>A.n});var o=s(4650);const p=new o.OlP("CalculationService");function c(Z){return{provide:p,useClass:Z}}function e(){return(0,o.f3M)(p,{host:!0})}var m=s(3383),C=s(3714),A=s(7060)},3714:(b,y,s)=>{s.d(y,{b:()=>e,s:()=>c});var o=s(4650);const p=new o.OlP("Request adapter");function c(m){return{provide:p,useValue:m}}function e(){return(0,o.f3M)(p,{host:!0})}},7060:(b,y,s)=>{s.d(y,{X:()=>e,n:()=>c});var o=s(4650);const p=new o.OlP("ResponseView adapter");function c(m){return{provide:p,useValue:m}}function e(){return(0,o.f3M)(p,{host:!0})}},8502:(b,y,s)=>{s.d(y,{l:()=>e});var o=s(4482),p=s(5403),c=s(5032);function e(){return(0,o.e)((m,C)=>{m.subscribe((0,p.x)(C,c.Z))})}},2856:(b,y,s)=>{s.d(y,{c:()=>W,t:()=>ie});var o=s(7579),p=s(727),c=s(2076),e=s(515),m=s(4650),C=s(5577),A=s(4482),Z=s(5403),Q=s(8421),H=s(5032);const M=m.GuJ,f=Symbol("__destroy"),g=Symbol("__decoratorApplied");function _(i){return"string"==typeof i?Symbol(`__destroy__${i}`):f}function x(i,a){i[a]||(i[a]=new o.x)}function D(i,a){i[a]&&(i[a].next(),i[a].complete(),i[a]=null)}function S(i){i instanceof p.w0&&i.unsubscribe()}function w(i,a){return function(){if(i&&i.call(this),D(this,_()),a.arrayName&&function Y(i){Array.isArray(i)&&i.forEach(S)}(this[a.arrayName]),a.checkProperties)for(const u in this)a.blackList?.includes(u)||S(this[u])}}function W(i={}){return a=>{!function E(i){return!!i[M]}(a)?function K(i,a){i.prototype.ngOnDestroy=w(i.prototype.ngOnDestroy,a)}(a,i):function z(i,a){const u=i.\u0275pipe;u.onDestroy=w(u.onDestroy,a)}(a,i),function O(i){i.prototype[g]=!0}(a)}}const q=7,d=Symbol("CheckerHasBeenSet");function R(i){const a=m.dqk.Zone;return a&&"function"==typeof a.root?.run?a.root.run(i):i()}const k=!1;function ie(i,a){return u=>{const v=_(a);"string"==typeof a?function se(i,a,u){const v=i[a];if(k&&"function"!=typeof v)throw new Error(`${i.constructor.name} is using untilDestroyed but doesn't implement ${a}`);x(i,u),i[a]=function(){v.apply(this,arguments),D(this,u),i[a]=v}}(i,a,v):(k&&function ae(i){const a=Object.getPrototypeOf(i);if(!(g in a))throw new Error("untilDestroyed operator cannot be used inside directives or components or providers that are not decorated with UntilDestroy decorator")}(i),x(i,v));const P=i[v];return k&&function N(i,a){i[d]||function I(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha||typeof process<"u"&&"[object process]"===Object.prototype.toString.call(process)}()||(R(()=>(0,c.D)(Promise.resolve()).pipe((0,C.z)(()=>{let u;try{u=(0,m.EEQ)(i)}catch{u=null}const v=u?.lView;if(null==v)return e.E;const P=v[q]||(v[q]=[]),ee=new o.x;return P.push(function(){R(()=>{ee.next(),ee.complete()})}),ee}),(0,C.z)(()=>Promise.resolve())).subscribe(()=>{(a.observed??a.observers.length>0)&&console.warn(function te(i){return`\n  The ${i.constructor.name} still has subscriptions that haven't been unsubscribed.\n  This may happen if the class extends another class decorated with @UntilDestroy().\n  The child class implements its own ngOnDestroy() method but doesn't call super.ngOnDestroy().\n  Let's look at the following example:\n  @UntilDestroy()\n  @Directive()\n  export abstract class BaseDirective {}\n  @Component({ template: '' })\n  export class ConcreteComponent extends BaseDirective implements OnDestroy {\n    constructor() {\n      super();\n      someObservable$.pipe(untilDestroyed(this)).subscribe();\n    }\n    ngOnDestroy(): void {\n      // Some logic here...\n    }\n  }\n  The BaseDirective.ngOnDestroy() will not be called since Angular will call ngOnDestroy()\n  on the ConcreteComponent, but not on the BaseDirective.\n  One of the solutions is to declare an empty ngOnDestroy method on the BaseDirective:\n  @UntilDestroy()\n  @Directive()\n  export abstract class BaseDirective {\n    ngOnDestroy(): void {}\n  }\n  @Component({ template: '' })\n  export class ConcreteComponent extends BaseDirective implements OnDestroy {\n    constructor() {\n      super();\n      someObservable$.pipe(untilDestroyed(this)).subscribe();\n    }\n    ngOnDestroy(): void {\n      // Some logic here...\n      super.ngOnDestroy();\n    }\n  }\n  `}(i))})),i[d]=!0)}(i,P),u.pipe(function X(i){return(0,A.e)((a,u)=>{(0,Q.Xf)(i).subscribe((0,Z.x)(u,()=>u.complete(),H.Z)),!u.closed&&a.subscribe(u)})}(P))}}}}]);