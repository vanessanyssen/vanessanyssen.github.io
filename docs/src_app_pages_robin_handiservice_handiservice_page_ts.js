(self.webpackChunkrobin=self.webpackChunkrobin||[]).push([["src_app_pages_robin_handiservice_handiservice_page_ts"],{5260:(W,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>ct});var t=s(7691),n=s(6895),e=s(4650),m=s(4006),b=s(6076),i=s(9492),f=s(1117),a=s(5079),c=s(7244),_=s(9377);let R=(()=>{class w{constructor(){(0,t.Z)(this,"formGroupDirective",(0,e.f3M)(m.sg)),(0,t.Z)(this,"t",(0,e.f3M)(_.OS)),(0,t.Z)(this,"ctrls",void 0),(0,t.Z)(this,"disableFormat",!1),(0,t.Z)(this,"clickFormat",new e.vpe)}ngOnInit(){this.ctrls=this.formGroupDirective.form.controls}onClickFormat(){this.clickFormat.emit()}}return(0,t.Z)(w,"\u0275fac",function(U){return new(U||w)}),(0,t.Z)(w,"\u0275cmp",e.Xpm({type:w,selectors:[["app-handiservice-form-inline"]],inputs:{disableFormat:"disableFormat"},outputs:{clickFormat:"clickFormat"},standalone:!0,features:[e._Bn([],[{provide:m.gN,useExisting:m.sg}]),e.jDz],decls:10,vars:12,consts:[[1,"row"],[1,"col-12","mb-3"],["labelClass","form-label",3,"label"],["type","button",1,"btn","btn-sm","btn-outline-primary","float-end","mb-1",3,"disabled","click"],[1,"fa-solid","fa-bars-staggered","me-2"],["placeholder","schema handiservice-v3",1,"form-control","rows-10",3,"formControl","title"]],template:function(U,X){1&U&&(e.TgZ(0,"div",0)(1,"div",1)(2,"vw-form-field",2),e.ALo(3,"t9n"),e.TgZ(4,"button",3),e.NdJ("click",function(){return X.onClickFormat()}),e._UZ(5,"i",4),e._uU(6),e.ALo(7,"t9n"),e.qZA(),e._UZ(8,"textarea",5),e.ALo(9,"t9n"),e.qZA()()()),2&U&&(e.xp6(2),e.s9C("label",e.lcZ(3,6,X.t.JSON.INPUT)),e.xp6(2),e.Q6J("disabled",X.disableFormat),e.uIk("aria-disabled",X.disableFormat||null),e.xp6(2),e.hij("",e.lcZ(7,8,X.t.JSON.FORMAT)," "),e.xp6(2),e.s9C("title",e.lcZ(9,10,X.t.VALIDATION_ERROR.REQUIRED_FIELD)),e.Q6J("formControl",X.ctrls.json))},dependencies:[m.UX,m.Fj,m.JJ,m.oH,b.Zg,a.hg,a.LW,a.vA,a.IQ,_.Oj],encapsulation:2,changeDetection:0})),w})();var T=s(7698),D=s(7582),d=s(663),l=(()=>{return(w=l||(l={}))[w.NO_REQUEST=0]="NO_REQUEST",w[w.CHILD_OLD_SUPPLEMENT=1]="CHILD_OLD_SUPPLEMENT",w[w.CHILD_NEW_SUPPLEMENT=2]="CHILD_NEW_SUPPLEMENT",w[w.INCOME_REPLACEMENT=3]="INCOME_REPLACEMENT",w[w.ELDERLY_ASSISTANCE=4]="ELDERLY_ASSISTANCE",w[w.OLD_ALLOWANCE=5]="OLD_ALLOWANCE",w[w.PARKING_CARD=6]="PARKING_CARD",l;var w})(),P=(()=>{return(w=P||(P={}))[w.INCOME_REPLACEMENT=3]="INCOME_REPLACEMENT",w[w.ELDERLY_ASSISTANCE=4]="ELDERLY_ASSISTANCE",w[w.OLD_ALLOWANCE=10]="OLD_ALLOWANCE",P;var w})();const h=w=>w&&{requestDate:{data:w.requestDate},legislation:{data:l[w.legislation],pipe:"t9nEnum"},administrativeExamination:{data:w.administrativePendingRequest,pipe:"t9nEnum"},medicalExamination:{data:w.handicapRecognitionPending,pipe:"t9nEnum"},completionDate:{data:w.fileCompletionDate},appeal:{data:w.appeal,pipe:"t9nEnum"}},g=(0,c.us)("decisionDate",!1),v=w=>w&&{fullName:{data:$(w)},addressFr:{data:w.address&&F(w.address,"FR")},addressNl:{data:w.address&&F(w.address,"NL")}},$=w=>w.lastName+(0,c.Ce)(", ",w.firstName),F=(w,J)=>(0,c.aK)([z(w,J),H(w),(0,c.Ce)(" / ",B(w)),",",ae(w),te(w,J),(0,c.Np)(ue(w,J))]),z=(w,J)=>(w.streetNames&&he(w.streetNames,J))??"",H=w=>w.houseNumber??"",B=w=>w.boxNumber??"",ae=w=>w.postalCode??"",te=(w,J)=>(w.cityNames&&he(w.cityNames,J))??"",ue=(w,J)=>{const U=(w.countryNames&&he(w.countryNames,J))??"";return U.startsWith("Belgi")?"":U},he=(w,J)=>w?.filter(U=>U.language===J)?.[0]?.value??"",Ce=w=>w?.map(J=>ce(J)).sort(G),ce=w=>({startDate:{data:w?.openPeriod?.beginDate},endDate:{data:w?.openPeriod?.endDate},allowance:{data:Oe(w),pipe:"t9nEnum"},decision:{data:w.decisionStatus,pipe:"t9nEnum"},amount:{data:w.totalMonthAmount,class:"text-end pe-4",pipe:"beNumber"}}),Oe=w=>0===w.totalMonthAmount||j(w.legislation)?P[w.legislation]:w.totalMonthAmount===w.monthAmount?"INTEGRATION_RIGHT":0===w.monthAmount?"INCOME_REPLACEMENT_RIGHT":"INCOME_REPLACEMENT_INTEGRATION_RIGHT",G=(0,c.us)("startDate",!1),j=w=>w!==P.INCOME_REPLACEMENT;function O(w,J){if(1&w&&(e.TgZ(0,"tr")(1,"th",18),e._uU(2),e.ALo(3,"t9n"),e.ALo(4,"get"),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"apply"),e.qZA()()),2&w){const U=J.$implicit,X=e.oxw(4);e.xp6(2),e.Oqu(e.lcZ(3,2,e.xi3(4,4,X.t.HANDISERVICE,U.key))),e.xp6(4),e.Oqu(e.Dn7(7,7,U.value.data,U.value.pipe,U.value.args))}}function o(w,J){if(1&w&&(e.TgZ(0,"div",15)(1,"table",16)(2,"tbody"),e.YNc(3,O,8,11,"tr",17),e.ALo(4,"keyvalue"),e.qZA()()()),2&w){const U=J.ngIf,X=e.oxw(3);e.xp6(3),e.Q6J("ngForOf",e.xi3(4,1,U,X.sort))}}function p(w,J){if(1&w&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"t9n"),e.qZA()),2&w){const U=e.oxw(3);e.xp6(1),e.Oqu(e.lcZ(2,1,U.t.HANDISERVICE.noPersonData))}}function M(w,J){if(1&w&&(e.ynx(0),e.TgZ(1,"th",23),e._uU(2),e.ALo(3,"t9n"),e.ALo(4,"get"),e.qZA(),e.BQk()),2&w){const U=J.$implicit,X=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,1,e.xi3(4,3,X.t.HANDISERVICE,U.key)))}}function Y(w,J){if(1&w&&(e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.ALo(3,"apply"),e.qZA(),e.BQk()),2&w){const U=J.$implicit;e.xp6(2),e.Oqu(e.Dn7(3,1,U.value.data,U.value.pipe,U.value.args))}}function x(w,J){if(1&w&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.YNc(3,Y,4,5,"ng-container",17),e.ALo(4,"keyvalue"),e.qZA()),2&w){const U=J.$implicit,X=J.index,Me=e.oxw(5);e.xp6(2),e.Oqu(X+1),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,U,Me.sort))}}function re(w,J){if(1&w&&(e.TgZ(0,"table",21)(1,"thead")(2,"tr")(3,"th",22),e._uU(4),e.ALo(5,"t9n"),e.qZA(),e.YNc(6,M,5,6,"ng-container",17),e.ALo(7,"keyvalue"),e.qZA()(),e.TgZ(8,"tbody"),e.YNc(9,x,5,5,"tr",17),e.qZA()()),2&w){const U=J.ngIf,X=e.oxw(4);e.xp6(4),e.Oqu(e.lcZ(5,3,X.t.FORM.ROW_NUMBER)),e.xp6(2),e.Q6J("ngForOf",e.xi3(7,5,U[0],X.sort)),e.xp6(3),e.Q6J("ngForOf",U)}}function Ee(w,J){if(1&w&&(e.TgZ(0,"div",15),e.YNc(1,re,10,8,"table",20),e.qZA()),2&w){const U=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",U.handicapRecognitions)}}function Ne(w,J){if(1&w&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"t9n"),e.qZA()),2&w){const U=e.oxw(3);e.xp6(1),e.Oqu(e.lcZ(2,1,U.t.HANDISERVICE.noHandicapRecognitions))}}function I(w,J){if(1&w&&(e.TgZ(0,"tr")(1,"th",18),e._uU(2),e.ALo(3,"t9n"),e.ALo(4,"get"),e.qZA(),e.TgZ(5,"td",25),e._uU(6),e.ALo(7,"apply"),e.qZA()()),2&w){const U=J.$implicit,X=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,e.xi3(4,4,X.t.HANDISERVICE,U.key))),e.xp6(4),e.Oqu(e.Dn7(7,7,U.value.data,U.value.pipe,U.value.args))}}function k(w,J){if(1&w&&(e.TgZ(0,"table",16)(1,"tbody"),e.YNc(2,I,8,11,"tr",17),e.ALo(3,"keyvalue"),e.qZA()()),2&w){const U=J.ngIf,X=e.oxw(4);e.xp6(2),e.Q6J("ngForOf",e.xi3(3,1,U,X.sort))}}function Z(w,J){if(1&w&&(e.TgZ(0,"div",15),e.YNc(1,k,4,4,"table",24),e.qZA()),2&w){const U=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",U.evolutionOfRequest)}}function Q(w,J){if(1&w&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"t9n"),e.qZA()),2&w){const U=e.oxw(3);e.xp6(1),e.Oqu(e.lcZ(2,1,U.t.HANDISERVICE.noRequestInProgress))}}function K(w,J){if(1&w&&(e.ynx(0),e.TgZ(1,"th",23),e._uU(2),e.ALo(3,"t9n"),e.ALo(4,"get"),e.qZA(),e.BQk()),2&w){const U=J.$implicit,X=e.oxw(5);e.xp6(1),e.MT6("",U.value.pipe," ",U.value.class,""),e.xp6(1),e.hij(" ",e.lcZ(3,5,e.xi3(4,7,X.t.HANDISERVICE,U.key)),"")}}function ee(w,J){if(1&w&&(e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.ALo(3,"apply"),e.qZA(),e.BQk()),2&w){const U=J.$implicit;e.xp6(1),e.MT6("",U.value.pipe," ",U.value.class,""),e.xp6(1),e.hij(" ",e.Dn7(3,5,U.value.data,U.value.pipe,U.value.args),"")}}function pe(w,J){if(1&w&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.YNc(3,ee,4,9,"ng-container",17),e.ALo(4,"keyvalue"),e.qZA()),2&w){const U=J.$implicit,X=J.index,Me=e.oxw(5);e.xp6(2),e.Oqu(X+1),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,U,Me.sort))}}function Ae(w,J){if(1&w&&(e.TgZ(0,"table",21)(1,"thead")(2,"tr")(3,"th",22),e._uU(4),e.ALo(5,"t9n"),e.qZA(),e.YNc(6,K,5,10,"ng-container",17),e.ALo(7,"keyvalue"),e.qZA()(),e.TgZ(8,"tbody"),e.YNc(9,pe,5,5,"tr",17),e.qZA()()),2&w){const U=J.ngIf,X=e.oxw(4);e.xp6(4),e.Oqu(e.lcZ(5,3,X.t.FORM.ROW_NUMBER)),e.xp6(2),e.Q6J("ngForOf",e.xi3(7,5,U[0],X.sort)),e.xp6(3),e.Q6J("ngForOf",U)}}function ye(w,J){if(1&w&&(e.TgZ(0,"div",15),e.YNc(1,Ae,10,8,"table",20),e.qZA()),2&w){const U=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",U.rights)}}function fe(w,J){if(1&w&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"t9n"),e.qZA()),2&w){const U=e.oxw(3);e.xp6(1),e.Oqu(e.lcZ(2,1,U.t.HANDISERVICE.noRights))}}function _e(w,J){if(1&w&&(e.TgZ(0,"div",5)(1,"div",6)(2,"vw-card"),e.ynx(3,7),e._uU(4),e.ALo(5,"t9n"),e.BQk(),e.YNc(6,o,5,4,"div",8),e.YNc(7,p,3,3,"ng-template",null,9,e.W1O),e.qZA()(),e.TgZ(9,"div",6)(10,"vw-card"),e.ynx(11,7),e._uU(12),e.ALo(13,"t9n"),e.BQk(),e.YNc(14,Ee,2,1,"div",8),e.YNc(15,Ne,3,3,"ng-template",null,10,e.W1O),e.qZA()(),e.TgZ(17,"div",11)(18,"vw-card"),e.ynx(19,7),e._uU(20),e.ALo(21,"t9n"),e.BQk(),e.YNc(22,Z,2,1,"div",8),e.YNc(23,Q,3,3,"ng-template",null,12,e.W1O),e.qZA()(),e.TgZ(25,"div",13)(26,"vw-card"),e.ynx(27,7),e._uU(28),e.ALo(29,"t9n"),e.BQk(),e.YNc(30,ye,2,1,"div",8),e.YNc(31,fe,3,3,"ng-template",null,14,e.W1O),e.qZA()()()),2&w){const U=e.MAs(8),X=e.MAs(16),Me=e.MAs(24),S=e.MAs(32),u=e.oxw().$implicit,N=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,12,N.t.HANDISERVICE.personData)),e.xp6(2),e.Q6J("ngIf",u.personData)("ngIfElse",U),e.xp6(6),e.Oqu(e.lcZ(13,14,N.t.HANDISERVICE.handicapRecognitions)),e.xp6(2),e.Q6J("ngIf",null==u.handicapRecognitions?null:u.handicapRecognitions.length)("ngIfElse",X),e.xp6(6),e.Oqu(e.lcZ(21,16,N.t.HANDISERVICE.evolutionOfRequest)),e.xp6(2),e.Q6J("ngIf",null==u.evolutionOfRequest||null==u.evolutionOfRequest.requestDate?null:u.evolutionOfRequest.requestDate.data)("ngIfElse",Me),e.xp6(6),e.Oqu(e.lcZ(29,18,N.t.HANDISERVICE.rights)),e.xp6(2),e.Q6J("ngIf",null==u.rights?null:u.rights.length)("ngIfElse",S)}}function Ve(w,J){if(1&w&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"t9n"),e.qZA()),2&w){const U=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,U.t.HANDISERVICE.noDataFound))}}function Pe(w,J){if(1&w&&(e.TgZ(0,"vw-alert",26),e._uU(1),e.ALo(2,"t9n"),e.qZA()),2&w){const U=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,U.t.HANDISERVICE.technicalError))}}function Ge(w,J){if(1&w&&(e.TgZ(0,"vw-card",1),e.YNc(1,_e,33,20,"div",2),e.YNc(2,Ve,3,3,"vw-alert",3),e.YNc(3,Pe,3,3,"vw-alert",4),e.qZA()),2&w){const U=J.$implicit;e.s9C("header",U.source),e.xp6(1),e.Q6J("ngIf","DATA_FOUND"===U.status),e.xp6(1),e.Q6J("ngIf","NO_DATA_FOUND"===U.status),e.xp6(1),e.Q6J("ngIf","TECHNICAL_ERROR"===U.status)}}const Qe=["DGPH","VSB","IRISCARE","NICCIN"];class be{constructor(){(0,t.Z)(this,"prefix",(0,e.f3M)(d.pv).getValue()),(0,t.Z)(this,"sort",c.qF),(0,t.Z)(this,"t",(0,e.f3M)(_.OS)),(0,t.Z)(this,"results",void 0)}set result(J){this.results=Qe.map(U=>{const X=this.getFileResultBySource(J,U);return{source:U,...X&&{status:X.sourceStatus},...X?.file?.handicapRecognitions&&{handicapRecognitions:(w=X.file.handicapRecognitions,w?.map(J=>(w=>({status:{data:w.decisionStatus,pipe:"t9nEnum"},legislation:{data:w.legislation?l[w.legislation]:"NO_REQUEST",pipe:"t9nEnum"},decisionDate:{data:w.recognitionStatus?.dateOfDecision},startDate:{data:w.recognitionStatus?.startDateRecognition},endDate:{data:w.recognitionStatus?.endDateRecognition},totalPoints:{data:w.resultRecognitionAdult?.diminutionIndependence?.totalPoints}}))(J))?.sort(g))},...X?.file?.evolutionOfRequest&&{evolutionOfRequest:h(X.file.evolutionOfRequest)},...X?.file?.rights&&{rights:Ce(X.file.rights)},...X?.file?.personData&&{personData:v(X.file.personData)}};var w})}getFileResultBySource(J,U){return J?.fileResults?.find(X=>X.source===U)}}(0,t.Z)(be,"\u0275fac",function(J){return new(J||be)}),(0,t.Z)(be,"\u0275cmp",e.Xpm({type:be,selectors:[["app-handiservice-result"]],inputs:{result:"result"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[[3,"header",4,"ngFor","ngForOf"],[3,"header"],["class","row",4,"ngIf"],["level","warning",4,"ngIf"],["level","danger",4,"ngIf"],[1,"row"],[1,"col-12"],["slotCardSubtitle",""],["class","table-responsive",4,"ngIf","ngIfElse"],["noPersonData",""],["noHandicapRecognitions",""],[1,"col-6","col-xl-4"],["noRequestInProgress",""],[1,"col-12","col-xl-8"],["noRights",""],[1,"table-responsive"],[1,"table","table-sm"],[4,"ngFor","ngForOf"],["scope","row"],["level","warning"],["class","table table-sm col-12",4,"ngIf"],[1,"table","table-sm","col-12"],["scope","col",1,"pe-4"],["scope","col"],["class","table table-sm",4,"ngIf"],[1,"text-end","pe-4"],["level","danger"]],template:function(J,U){1&J&&e.YNc(0,Ge,4,4,"vw-card",0),2&J&&e.Q6J("ngForOf",U.results)},dependencies:[n.ax,n.O5,n.Nd,_.Oj,a.Ak,a.wx,f.bZ,f.JW],encapsulation:2,changeDetection:0})),(0,D.gn)([f.aH],be.prototype,"result",null);var Ye=s(4411),Be=s.n(Ye);const Le=new e.OlP("The AJV Class"),ot=new e.OlP("The AJV Class config"),ht=new e.OlP("The AJV Class Instance");function gt(w,J){return new w(J)}let xe=(()=>{class w{}return(0,t.Z)(w,"\u0275fac",function(U){return new(U||w)}),(0,t.Z)(w,"\u0275mod",e.oAB({type:w})),(0,t.Z)(w,"\u0275inj",e.cJS({providers:[{provide:Le,useValue:Be()},{provide:ot,useValue:{allErrors:!0,strictTypes:!0}},{provide:ht,useFactory:gt,deps:[Le,ot]}]})),w})();var Ze,Ie=s(2856),$t=s(6474),_t=s.n($t),Et=s(590),St=s(2860);let it=((0,t.Z)(Ze=class{constructor(){(0,t.Z)(this,"ajv",void 0),(0,t.Z)(this,"directHttpClient",(0,e.f3M)(St.NS)),this.ajv=(0,e.f3M)(e.zs3).get(ht),_t()(this.ajv),this.ajv.addFormat("custom-date",function(J){return/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/.test(J)})}loadSchema(J,U){!this.ajv.getSchema(J)&&this.directHttpClient.get(U).pipe((0,Et.P)(),(0,Ie.t)(this)).subscribe({next:X=>{X&&this.ajv.addSchema(X,J).compile(X)},error:X=>console.error(X)})}validate(J,U){return this.isValidSchema(J,U)?U:this.ajv.errorsText()}isValidSchema(J,U){return this.ajv.validate(J,U)}},"\u0275fac",function(J){return new(J||Ze)}),(0,t.Z)(Ze,"\u0275prov",e.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:xe})),Ze);function Ke(w,J){if(1&w&&e._UZ(0,"app-form-response-error",12),2&w){const U=e.oxw();e.Q6J("error",U.error)}}function wt(w,J){if(1&w&&(e.TgZ(0,"div")(1,"vw-alert",13),e._uU(2),e.ALo(3,"t9n"),e.qZA(),e.TgZ(4,"vw-card",14),e.ALo(5,"t9n"),e._UZ(6,"app-handiservice-result",15),e.TgZ(7,"vw-print-button",16),e._uU(8),e.ALo(9,"t9n"),e.qZA()(),e.TgZ(10,"vw-expandable",17),e.ALo(11,"t9n"),e._UZ(12,"vw-display-json",18),e.qZA()()),2&w){const U=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,U.t.ALERT_OK.VALID_JSON)),e.xp6(2),e.s9C("ariaLabel",e.lcZ(5,8,U.t.FORM.RESULT)),e.xp6(2),e.Q6J("result",U.response),e.xp6(2),e.Oqu(e.lcZ(9,10,U.t.FORM.PRINT)),e.xp6(2),e.s9C("header",e.lcZ(11,12,U.t.JSON.INPUT)),e.xp6(2),e.Q6J("data",U.response)}}it=(0,D.gn)([(0,Ie.c)()],it);let Nt=(()=>{class w{constructor(){(0,t.Z)(this,"schema",(0,e.f3M)(it)),(0,t.Z)(this,"validationResult",null),(0,t.Z)(this,"t",(0,e.f3M)(_.OS)),(0,t.Z)(this,"error",null),(0,t.Z)(this,"form",function C(){const w=(0,e.f3M)(m.qu);return w.group({json:w.nonNullable.control("",{validators:[m.kI.required,T.Q.json]})})}()),(0,t.Z)(this,"jsonCtrl",void 0),(0,t.Z)(this,"response",null),(0,t.Z)(this,"validateSchema",!1)}ngOnInit(){this.schema.loadSchema("handiservice","/assets/json-schema/handiservice-v3.json"),this.jsonCtrl=this.form.controls.json}formatJSON(U){U&&this.jsonCtrl.setValue((0,c.pP)(U))}resetForm(){this.form.reset(),this.form.enable(i.rA),this.clearResult()}submitForm(U){if(this.form.valid&&(this.clearResult(),this.form.disable(i.rA),U)){const X=JSON.parse(U);this.validationResult=this.schema.validate("handiservice",X),"string"==typeof this.validationResult?this.setError(this.validationResult):this.setResponse(this.validationResult)}}clearResult(){this.validationResult=this.error=this.response=null,this.validateSchema=!1}setError(U){this.form.enable(i.rA),this.error=(0,i.CX)({error:"JSON_VALIDATION_ERROR",message:U.replace(", ","\n")})}setResponse(U){this.validateSchema=!0,this.response=U}}return(0,t.Z)(w,"\u0275fac",function(U){return new(U||w)}),(0,t.Z)(w,"\u0275cmp",e.Xpm({type:w,selectors:[["app-handiservice-container"]],standalone:!0,features:[e.jDz],decls:20,vars:19,consts:[["vwNoPrint",""],["slotCardTitle",""],[3,"formGroup","ngSubmit"],[3,"disableFormat","clickFormat"],[3,"disableSubmit","clickCancel"],["slotSubmit",""],[1,"fa-regular","fa-circle-check","me-2"],["slotCancel",""],[1,"fa-solid","fa-eraser","me-2"],[1,"spy","mb-3"],[3,"error",4,"ngIf"],[4,"ngIf"],[3,"error"],["vwNoPrint","","level","success"],[3,"ariaLabel"],[3,"result"],["vwNoPrint","",1,"float-end"],["vwNoPrint","",3,"header"],[3,"data"]],template:function(U,X){1&U&&(e.TgZ(0,"vw-card",0),e.ynx(1,1),e._uU(2),e.ALo(3,"t9n"),e.BQk(),e.TgZ(4,"form",2),e.NdJ("ngSubmit",function(){return X.submitForm(X.jsonCtrl.value)}),e.TgZ(5,"app-handiservice-form-inline",3),e.NdJ("clickFormat",function(){return X.formatJSON(X.jsonCtrl.value)}),e.qZA(),e.TgZ(6,"vw-form-footer",4),e.NdJ("clickCancel",function(){return X.resetForm()}),e.ynx(7,5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"t9n"),e.BQk(),e.ynx(11,7),e._UZ(12,"i",8),e._uU(13),e.ALo(14,"t9n"),e.BQk(),e.qZA()(),e.TgZ(15,"div",9),e._uU(16),e.ALo(17,"json"),e.qZA()(),e.YNc(18,Ke,1,1,"app-form-response-error",10),e.YNc(19,wt,13,14,"div",11)),2&U&&(e.xp6(2),e.Oqu(e.lcZ(3,11,X.t.FORM.ENTER_DATA)),e.xp6(2),e.Q6J("formGroup",X.form),e.xp6(1),e.Q6J("disableFormat",!X.jsonCtrl.valid||X.validateSchema),e.xp6(1),e.Q6J("disableSubmit",!X.form.valid||X.validateSchema),e.xp6(3),e.hij("",e.lcZ(10,13,X.t.JSON.VALIDATE_JSON)," "),e.xp6(4),e.hij("",e.lcZ(14,15,X.t.FORM.RESET)," "),e.xp6(2),e.ekj("d-none",!0),e.xp6(1),e.Oqu(e.lcZ(17,17,X.form.value)),e.xp6(2),e.Q6J("ngIf",X.error),e.xp6(1),e.Q6J("ngIf",X.response))},dependencies:[m.UX,m._Y,m.JL,m.sg,n.O5,n.Ts,_.Oj,a.Ak,f.Hr,b.WX,a.Lz,b.n9,R,be,a.xB,a.IV,xe,a.wx],encapsulation:2,changeDetection:0})),w})(),ct=(()=>{class w extends((0,i.Y2)()){}return(0,t.Z)(w,"\u0275fac",function(){let J;return function(X){return(J||(J=e.n5z(w)))(X||w)}}()),(0,t.Z)(w,"\u0275cmp",e.Xpm({type:w,selectors:[["page-handiservice"]],standalone:!0,features:[e.qOj,e.jDz],decls:1,vars:0,template:function(U,X){1&U&&e._UZ(0,"app-handiservice-container")},dependencies:[Nt],encapsulation:2,changeDetection:0})),w})()},5180:(W,r)=>{"use strict";function s($,F){return{validate:$,compare:F}}Object.defineProperty(r,"__esModule",{value:!0}),r.formatNames=r.fastFormats=r.fullFormats=void 0,r.fullFormats={date:s(m,b),time:s(f,a),"date-time":s(function _($){const F=$.split(c);return 2===F.length&&m(F[0])&&f(F[1],!0)},E),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function C($){return R.test($)&&T.test($)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function v($){if(g.test($))return!1;try{return new RegExp($),!0}catch{return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function d($){return D.lastIndex=0,D.test($)},int32:{type:"number",validate:function h($){return Number.isInteger($)&&$<=P&&$>=l}},int64:{type:"number",validate:function y($){return Number.isInteger($)}},float:{type:"number",validate:A},double:{type:"number",validate:A},password:!0,binary:!0},r.fastFormats={...r.fullFormats,date:s(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,b),time:s(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,a),"date-time":s(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,E),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},r.formatNames=Object.keys(r.fullFormats);const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,e=[0,31,28,31,30,31,30,31,31,30,31,30,31];function m($){const F=n.exec($);if(!F)return!1;const H=+F[2],B=+F[3];return H>=1&&H<=12&&B>=1&&B<=(2===H&&function t($){return $%4==0&&($%100!=0||$%400==0)}(+F[1])?29:e[H])}function b($,F){if($&&F)return $>F?1:$<F?-1:0}const i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function f($,F){const z=i.exec($);if(!z)return!1;const H=+z[1],B=+z[2],ae=+z[3];return(H<=23&&B<=59&&ae<=59||23===H&&59===B&&60===ae)&&(!F||""!==z[5])}function a($,F){if(!$||!F)return;const z=i.exec($),H=i.exec(F);return z&&H?($=z[1]+z[2]+z[3]+(z[4]||""))>(F=H[1]+H[2]+H[3]+(H[4]||""))?1:$<F?-1:0:void 0}const c=/t|\s/i;function E($,F){if(!$||!F)return;const[z,H]=$.split(c),[B,ae]=F.split(c),te=b(z,B);return void 0!==te?te||a(H,ae):void 0}const R=/\/|:/,T=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,D=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,l=-(2**31),P=2**31-1;function A(){return!0}const g=/[^\\]\\Z/},6474:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(5180),n=s(5413),e=s(6382),m=new e.Name("fullFormats"),b=new e.Name("fastFormats"),i=(a,c={keywords:!0})=>{if(Array.isArray(c))return f(a,c,t.fullFormats,m),a;const[_,E]="fast"===c.mode?[t.fastFormats,b]:[t.fullFormats,m];return f(a,c.formats||t.formatNames,_,E),c.keywords&&n.default(a),a};function f(a,c,_,E){var R,T;null!==(R=(T=a.opts.code).formats)&&void 0!==R||(T.formats=e._`require("ajv-formats/dist/formats").${E}`);for(const C of c)a.addFormat(C,_[C])}i.get=(a,c="full")=>{const E=("fast"===c?t.fastFormats:t.fullFormats)[a];if(!E)throw new Error(`Unknown format "${a}"`);return E},W.exports=r=i,Object.defineProperty(r,"__esModule",{value:!0}),r.default=i},5413:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.formatLimitDefinition=void 0;const t=s(4411),n=s(6382),e=n.operators,m={formatMaximum:{okStr:"<=",ok:e.LTE,fail:e.GT},formatMinimum:{okStr:">=",ok:e.GTE,fail:e.LT},formatExclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},formatExclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},b={message:({keyword:f,schemaCode:a})=>n.str`should be ${m[f].okStr} ${a}`,params:({keyword:f,schemaCode:a})=>n._`{comparison: ${m[f].okStr}, limit: ${a}}`};r.formatLimitDefinition={keyword:Object.keys(m),type:"string",schemaType:"string",$data:!0,error:b,code(f){const{gen:a,data:c,schemaCode:_,keyword:E,it:R}=f,{opts:T,self:C}=R;if(!T.validateFormats)return;const D=new t.KeywordCxt(R,C.RULES.all.format.definition,"format");function P(h){return n._`${h}.compare(${c}, ${_}) ${m[E].fail} 0`}D.$data?function d(){const h=a.scopeValue("formats",{ref:C.formats,code:T.code.formats}),y=a.const("fmt",n._`${h}[${D.schemaCode}]`);f.fail$data(n.or(n._`typeof ${y} != "object"`,n._`${y} instanceof RegExp`,n._`typeof ${y}.compare != "function"`,P(y)))}():function l(){const h=D.schema,y=C.formats[h];if(!y||!0===y)return;if("object"!=typeof y||y instanceof RegExp||"function"!=typeof y.compare)throw new Error(`"${E}": format "${h}" does not define "compare" function`);const A=a.scopeValue("formats",{key:h,ref:y,code:T.code.formats?n._`${T.code.formats}${n.getProperty(h)}`:void 0});f.fail$data(P(A))}()},dependencies:["format"]},r.default=f=>(f.addKeyword(r.formatLimitDefinition),f)},4411:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;const t=s(5910),n=s(7032),e=s(1849),m=s(98),b=["/properties"],i="http://json-schema.org/draft-07/schema";class f extends t.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(T=>this.addVocabulary(T)),this.opts.discriminator&&this.addKeyword(e.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const T=this.opts.$data?this.$dataMetaSchema(m,b):m;this.addMetaSchema(T,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}W.exports=r=f,Object.defineProperty(r,"__esModule",{value:!0}),r.default=f;var a=s(6764);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return a.KeywordCxt}});var c=s(6382);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var _=s(496);Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return _.default}});var E=s(140);Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return E.default}})},6295:(W,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.regexpCode=r.getEsmExportName=r.getProperty=r.safeStringify=r.stringify=r.strConcat=r.addCodeArg=r.str=r._=r.nil=r._Code=r.Name=r.IDENTIFIER=r._CodeOrName=void 0;class s{}r._CodeOrName=s,r.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class t extends s{constructor(l){if(super(),!r.IDENTIFIER.test(l))throw new Error("CodeGen: name must be a valid identifier");this.str=l}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}r.Name=t;class n extends s{constructor(l){super(),this._items="string"==typeof l?[l]:l}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const l=this._items[0];return""===l||'""'===l}get str(){var l;return null!==(l=this._str)&&void 0!==l?l:this._str=this._items.reduce((P,h)=>`${P}${h}`,"")}get names(){var l;return null!==(l=this._names)&&void 0!==l?l:this._names=this._items.reduce((P,h)=>(h instanceof t&&(P[h.str]=(P[h.str]||0)+1),P),{})}}function e(d,...l){const P=[d[0]];let h=0;for(;h<l.length;)i(P,l[h]),P.push(d[++h]);return new n(P)}r._Code=n,r.nil=new n(""),r._=e;const m=new n("+");function b(d,...l){const P=[R(d[0])];let h=0;for(;h<l.length;)P.push(m),i(P,l[h]),P.push(m,R(d[++h]));return function f(d){let l=1;for(;l<d.length-1;){if(d[l]===m){const P=a(d[l-1],d[l+1]);if(void 0!==P){d.splice(l-1,3,P);continue}d[l++]="+"}l++}}(P),new n(P)}function i(d,l){l instanceof n?d.push(...l._items):d.push(l instanceof t?l:function _(d){return"number"==typeof d||"boolean"==typeof d||null===d?d:R(Array.isArray(d)?d.join(","):d)}(l))}function a(d,l){return'""'===l?d:'""'===d?l:"string"==typeof d?l instanceof t||'"'!==d[d.length-1]?void 0:"string"!=typeof l?`${d.slice(0,-1)}${l}"`:'"'===l[0]?d.slice(0,-1)+l.slice(1):void 0:"string"!=typeof l||'"'!==l[0]||d instanceof t?void 0:`"${d}${l.slice(1)}`}function R(d){return JSON.stringify(d).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}r.str=b,r.addCodeArg=i,r.strConcat=function c(d,l){return l.emptyStr()?d:d.emptyStr()?l:b`${d}${l}`},r.stringify=function E(d){return new n(R(d))},r.safeStringify=R,r.getProperty=function T(d){return"string"==typeof d&&r.IDENTIFIER.test(d)?new n(`.${d}`):e`[${d}]`},r.getEsmExportName=function C(d){if("string"==typeof d&&r.IDENTIFIER.test(d))return new n(`${d}`);throw new Error(`CodeGen: invalid export name: ${d}, use explicit $id name mapping`)},r.regexpCode=function D(d){return new n(d.toString())}},6382:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.or=r.and=r.not=r.CodeGen=r.operators=r.varKinds=r.ValueScopeName=r.ValueScope=r.Scope=r.Name=r.regexpCode=r.stringify=r.getProperty=r.nil=r.strConcat=r.str=r._=void 0;const t=s(6295),n=s(1917);var e=s(6295);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return e._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return e.str}}),Object.defineProperty(r,"strConcat",{enumerable:!0,get:function(){return e.strConcat}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return e.nil}}),Object.defineProperty(r,"getProperty",{enumerable:!0,get:function(){return e.getProperty}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return e.stringify}}),Object.defineProperty(r,"regexpCode",{enumerable:!0,get:function(){return e.regexpCode}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return e.Name}});var m=s(1917);Object.defineProperty(r,"Scope",{enumerable:!0,get:function(){return m.Scope}}),Object.defineProperty(r,"ValueScope",{enumerable:!0,get:function(){return m.ValueScope}}),Object.defineProperty(r,"ValueScopeName",{enumerable:!0,get:function(){return m.ValueScopeName}}),Object.defineProperty(r,"varKinds",{enumerable:!0,get:function(){return m.varKinds}}),r.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class b{optimizeNodes(){return this}optimizeNames(o,p){return this}}class i extends b{constructor(o,p,M){super(),this.varKind=o,this.name=p,this.rhs=M}render({es5:o,_n:p}){return`${o?n.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+p}optimizeNames(o,p){if(o[this.name.str])return this.rhs&&(this.rhs=te(this.rhs,o,p)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class f extends b{constructor(o,p,M){super(),this.lhs=o,this.rhs=p,this.sideEffects=M}render({_n:o}){return`${this.lhs} = ${this.rhs};`+o}optimizeNames(o,p){if(!(this.lhs instanceof t.Name)||o[this.lhs.str]||this.sideEffects)return this.rhs=te(this.rhs,o,p),this}get names(){return ae(this.lhs instanceof t.Name?{}:{...this.lhs.names},this.rhs)}}class a extends f{constructor(o,p,M,Y){super(o,M,Y),this.op=p}render({_n:o}){return`${this.lhs} ${this.op}= ${this.rhs};`+o}}class c extends b{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`${this.label}:`+o}}class _ extends b{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`break${this.label?` ${this.label}`:""};`+o}}class E extends b{constructor(o){super(),this.error=o}render({_n:o}){return`throw ${this.error};`+o}get names(){return this.error.names}}class R extends b{constructor(o){super(),this.code=o}render({_n:o}){return`${this.code};`+o}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(o,p){return this.code=te(this.code,o,p),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class T extends b{constructor(o=[]){super(),this.nodes=o}render(o){return this.nodes.reduce((p,M)=>p+M.render(o),"")}optimizeNodes(){const{nodes:o}=this;let p=o.length;for(;p--;){const M=o[p].optimizeNodes();Array.isArray(M)?o.splice(p,1,...M):M?o[p]=M:o.splice(p,1)}return o.length>0?this:void 0}optimizeNames(o,p){const{nodes:M}=this;let Y=M.length;for(;Y--;){const x=M[Y];x.optimizeNames(o,p)||(ue(o,x.names),M.splice(Y,1))}return M.length>0?this:void 0}get names(){return this.nodes.reduce((o,p)=>B(o,p.names),{})}}class C extends T{render(o){return"{"+o._n+super.render(o)+"}"+o._n}}class D extends T{}let d=(()=>{class O extends C{}return O.kind="else",O})(),l=(()=>{class O extends C{constructor(p,M){super(M),this.condition=p}render(p){let M=`if(${this.condition})`+super.render(p);return this.else&&(M+="else "+this.else.render(p)),M}optimizeNodes(){super.optimizeNodes();const p=this.condition;if(!0===p)return this.nodes;let M=this.else;if(M){const Y=M.optimizeNodes();M=this.else=Array.isArray(Y)?new d(Y):Y}return M?!1===p?M instanceof O?M:M.nodes:this.nodes.length?this:new O(he(p),M instanceof O?[M]:M.nodes):!1!==p&&this.nodes.length?this:void 0}optimizeNames(p,M){var Y;if(this.else=null===(Y=this.else)||void 0===Y?void 0:Y.optimizeNames(p,M),super.optimizeNames(p,M)||this.else)return this.condition=te(this.condition,p,M),this}get names(){const p=super.names;return ae(p,this.condition),this.else&&B(p,this.else.names),p}}return O.kind="if",O})(),P=(()=>{class O extends C{}return O.kind="for",O})();class h extends P{constructor(o){super(),this.iteration=o}render(o){return`for(${this.iteration})`+super.render(o)}optimizeNames(o,p){if(super.optimizeNames(o,p))return this.iteration=te(this.iteration,o,p),this}get names(){return B(super.names,this.iteration.names)}}class y extends P{constructor(o,p,M,Y){super(),this.varKind=o,this.name=p,this.from=M,this.to=Y}render(o){const p=o.es5?n.varKinds.var:this.varKind,{name:M,from:Y,to:x}=this;return`for(${p} ${M}=${Y}; ${M}<${x}; ${M}++)`+super.render(o)}get names(){const o=ae(super.names,this.from);return ae(o,this.to)}}class A extends P{constructor(o,p,M,Y){super(),this.loop=o,this.varKind=p,this.name=M,this.iterable=Y}render(o){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(o)}optimizeNames(o,p){if(super.optimizeNames(o,p))return this.iterable=te(this.iterable,o,p),this}get names(){return B(super.names,this.iterable.names)}}let g=(()=>{class O extends C{constructor(p,M,Y){super(),this.name=p,this.args=M,this.async=Y}render(p){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(p)}}return O.kind="func",O})(),v=(()=>{class O extends T{render(p){return"return "+super.render(p)}}return O.kind="return",O})();class $ extends C{render(o){let p="try"+super.render(o);return this.catch&&(p+=this.catch.render(o)),this.finally&&(p+=this.finally.render(o)),p}optimizeNodes(){var o,p;return super.optimizeNodes(),null===(o=this.catch)||void 0===o||o.optimizeNodes(),null===(p=this.finally)||void 0===p||p.optimizeNodes(),this}optimizeNames(o,p){var M,Y;return super.optimizeNames(o,p),null===(M=this.catch)||void 0===M||M.optimizeNames(o,p),null===(Y=this.finally)||void 0===Y||Y.optimizeNames(o,p),this}get names(){const o=super.names;return this.catch&&B(o,this.catch.names),this.finally&&B(o,this.finally.names),o}}let F=(()=>{class O extends C{constructor(p){super(),this.error=p}render(p){return`catch(${this.error})`+super.render(p)}}return O.kind="catch",O})(),z=(()=>{class O extends C{render(p){return"finally"+super.render(p)}}return O.kind="finally",O})();function B(O,o){for(const p in o)O[p]=(O[p]||0)+(o[p]||0);return O}function ae(O,o){return o instanceof t._CodeOrName?B(O,o.names):O}function te(O,o,p){return O instanceof t.Name?M(O):function Y(x){return x instanceof t._Code&&x._items.some(re=>re instanceof t.Name&&1===o[re.str]&&void 0!==p[re.str])}(O)?new t._Code(O._items.reduce((x,re)=>(re instanceof t.Name&&(re=M(re)),re instanceof t._Code?x.push(...re._items):x.push(re),x),[])):O;function M(x){const re=p[x.str];return void 0===re||1!==o[x.str]?x:(delete o[x.str],re)}}function ue(O,o){for(const p in o)O[p]=(O[p]||0)-(o[p]||0)}function he(O){return"boolean"==typeof O||"number"==typeof O||null===O?!O:t._`!${j(O)}`}r.CodeGen=class H{constructor(o,p={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...p,_n:p.lines?"\n":""},this._extScope=o,this._scope=new n.Scope({parent:o}),this._nodes=[new D]}toString(){return this._root.render(this.opts)}name(o){return this._scope.name(o)}scopeName(o){return this._extScope.name(o)}scopeValue(o,p){const M=this._extScope.value(o,p);return(this._values[M.prefix]||(this._values[M.prefix]=new Set)).add(M),M}getScopeValue(o,p){return this._extScope.getValue(o,p)}scopeRefs(o){return this._extScope.scopeRefs(o,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(o,p,M,Y){const x=this._scope.toName(p);return void 0!==M&&Y&&(this._constants[x.str]=M),this._leafNode(new i(o,x,M)),x}const(o,p,M){return this._def(n.varKinds.const,o,p,M)}let(o,p,M){return this._def(n.varKinds.let,o,p,M)}var(o,p,M){return this._def(n.varKinds.var,o,p,M)}assign(o,p,M){return this._leafNode(new f(o,p,M))}add(o,p){return this._leafNode(new a(o,r.operators.ADD,p))}code(o){return"function"==typeof o?o():o!==t.nil&&this._leafNode(new R(o)),this}object(...o){const p=["{"];for(const[M,Y]of o)p.length>1&&p.push(","),p.push(M),(M!==Y||this.opts.es5)&&(p.push(":"),(0,t.addCodeArg)(p,Y));return p.push("}"),new t._Code(p)}if(o,p,M){if(this._blockNode(new l(o)),p&&M)this.code(p).else().code(M).endIf();else if(p)this.code(p).endIf();else if(M)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(o){return this._elseNode(new l(o))}else(){return this._elseNode(new d)}endIf(){return this._endBlockNode(l,d)}_for(o,p){return this._blockNode(o),p&&this.code(p).endFor(),this}for(o,p){return this._for(new h(o),p)}forRange(o,p,M,Y,x=(this.opts.es5?n.varKinds.var:n.varKinds.let)){const re=this._scope.toName(o);return this._for(new y(x,re,p,M),()=>Y(re))}forOf(o,p,M,Y=n.varKinds.const){const x=this._scope.toName(o);if(this.opts.es5){const re=p instanceof t.Name?p:this.var("_arr",p);return this.forRange("_i",0,t._`${re}.length`,Ee=>{this.var(x,t._`${re}[${Ee}]`),M(x)})}return this._for(new A("of",Y,x,p),()=>M(x))}forIn(o,p,M,Y=(this.opts.es5?n.varKinds.var:n.varKinds.const)){if(this.opts.ownProperties)return this.forOf(o,t._`Object.keys(${p})`,M);const x=this._scope.toName(o);return this._for(new A("in",Y,x,p),()=>M(x))}endFor(){return this._endBlockNode(P)}label(o){return this._leafNode(new c(o))}break(o){return this._leafNode(new _(o))}return(o){const p=new v;if(this._blockNode(p),this.code(o),1!==p.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(v)}try(o,p,M){if(!p&&!M)throw new Error('CodeGen: "try" without "catch" and "finally"');const Y=new $;if(this._blockNode(Y),this.code(o),p){const x=this.name("e");this._currNode=Y.catch=new F(x),p(x)}return M&&(this._currNode=Y.finally=new z,this.code(M)),this._endBlockNode(F,z)}throw(o){return this._leafNode(new E(o))}block(o,p){return this._blockStarts.push(this._nodes.length),o&&this.code(o).endBlock(p),this}endBlock(o){const p=this._blockStarts.pop();if(void 0===p)throw new Error("CodeGen: not in self-balancing block");const M=this._nodes.length-p;if(M<0||void 0!==o&&M!==o)throw new Error(`CodeGen: wrong number of nodes: ${M} vs ${o} expected`);return this._nodes.length=p,this}func(o,p=t.nil,M,Y){return this._blockNode(new g(o,p,M)),Y&&this.code(Y).endFunc(),this}endFunc(){return this._endBlockNode(g)}optimize(o=1){for(;o-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(o){return this._currNode.nodes.push(o),this}_blockNode(o){this._currNode.nodes.push(o),this._nodes.push(o)}_endBlockNode(o,p){const M=this._currNode;if(M instanceof o||p&&M instanceof p)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${p?`${o.kind}/${p.kind}`:o.kind}"`)}_elseNode(o){const p=this._currNode;if(!(p instanceof l))throw new Error('CodeGen: "else" without "if"');return this._currNode=p.else=o,this}get _root(){return this._nodes[0]}get _currNode(){const o=this._nodes;return o[o.length-1]}set _currNode(o){const p=this._nodes;p[p.length-1]=o}},r.not=he;const Te=G(r.operators.AND);r.and=function Ce(...O){return O.reduce(Te)};const ce=G(r.operators.OR);function G(O){return(o,p)=>o===t.nil?p:p===t.nil?o:t._`${j(o)} ${O} ${j(p)}`}function j(O){return O instanceof t.Name?O:t._`(${O})`}r.or=function Oe(...O){return O.reduce(ce)}},1917:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ValueScope=r.ValueScopeName=r.Scope=r.varKinds=r.UsedValueState=void 0;const t=s(6295);class n extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var e,a;(a=e=r.UsedValueState||(r.UsedValueState={}))[a.Started=0]="Started",a[a.Completed=1]="Completed",r.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class m{constructor({prefixes:c,parent:_}={}){this._names={},this._prefixes=c,this._parent=_}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){return`${c}${(this._names[c]||this._nameGroup(c)).index++}`}_nameGroup(c){var _,E;if(null!==(E=null===(_=this._parent)||void 0===_?void 0:_._prefixes)&&void 0!==E&&E.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}r.Scope=m;class b extends t.Name{constructor(c,_){super(_),this.prefix=c}setValue(c,{property:_,itemIndex:E}){this.value=c,this.scopePath=t._`.${new t.Name(_)}[${E}]`}}r.ValueScopeName=b;const i=t._`\n`;r.ValueScope=class f extends m{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?i:t.nil}}get(){return this._scope}name(c){return new b(c,this._newName(c))}value(c,_){var E;if(void 0===_.ref)throw new Error("CodeGen: ref must be passed in value");const R=this.toName(c),{prefix:T}=R,C=null!==(E=_.key)&&void 0!==E?E:_.ref;let D=this._values[T];if(D){const P=D.get(C);if(P)return P}else D=this._values[T]=new Map;D.set(C,R);const d=this._scope[T]||(this._scope[T]=[]),l=d.length;return d[l]=_.ref,R.setValue(_,{property:T,itemIndex:l}),R}getValue(c,_){const E=this._values[c];if(E)return E.get(_)}scopeRefs(c,_=this._values){return this._reduceValues(_,E=>{if(void 0===E.scopePath)throw new Error(`CodeGen: name "${E}" has no value`);return t._`${c}${E.scopePath}`})}scopeCode(c=this._values,_,E){return this._reduceValues(c,R=>{if(void 0===R.value)throw new Error(`CodeGen: name "${R}" has no value`);return R.value.code},_,E)}_reduceValues(c,_,E={},R){let T=t.nil;for(const C in c){const D=c[C];if(!D)continue;const d=E[C]=E[C]||new Map;D.forEach(l=>{if(d.has(l))return;d.set(l,e.Started);let P=_(l);if(P)T=t._`${T}${this.opts.es5?r.varKinds.var:r.varKinds.const} ${l} = ${P};${this.opts._n}`;else{if(!(P=R?.(l)))throw new n(l);T=t._`${T}${P}${this.opts._n}`}d.set(l,e.Completed)})}return T}}},5091:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extendErrors=r.resetErrorsCount=r.reportExtraError=r.reportError=r.keyword$DataError=r.keywordError=void 0;const t=s(6382),n=s(7990),e=s(5976);function a(d,l){const P=d.const("err",l);d.if(t._`${e.default.vErrors} === null`,()=>d.assign(e.default.vErrors,t._`[${P}]`),t._`${e.default.vErrors}.push(${P})`),d.code(t._`${e.default.errors}++`)}function c(d,l){const{gen:P,validateName:h,schemaEnv:y}=d;y.$async?P.throw(t._`new ${d.ValidationError}(${l})`):(P.assign(t._`${h}.errors`,l),P.return(!1))}r.keywordError={message:({keyword:d})=>t.str`must pass "${d}" keyword validation`},r.keyword$DataError={message:({keyword:d,schemaType:l})=>l?t.str`"${d}" keyword must be ${l} ($data)`:t.str`"${d}" keyword is invalid ($data)`},r.reportError=function m(d,l=r.keywordError,P,h){const{it:y}=d,{gen:A,compositeRule:g,allErrors:v}=y,$=E(d,l,P);h??(g||v)?a(A,$):c(y,t._`[${$}]`)},r.reportExtraError=function b(d,l=r.keywordError,P){const{it:h}=d,{gen:y,compositeRule:A,allErrors:g}=h;a(y,E(d,l,P)),A||g||c(h,e.default.vErrors)},r.resetErrorsCount=function i(d,l){d.assign(e.default.errors,l),d.if(t._`${e.default.vErrors} !== null`,()=>d.if(l,()=>d.assign(t._`${e.default.vErrors}.length`,l),()=>d.assign(e.default.vErrors,null)))},r.extendErrors=function f({gen:d,keyword:l,schemaValue:P,data:h,errsCount:y,it:A}){if(void 0===y)throw new Error("ajv implementation error");const g=d.name("err");d.forRange("i",y,e.default.errors,v=>{d.const(g,t._`${e.default.vErrors}[${v}]`),d.if(t._`${g}.instancePath === undefined`,()=>d.assign(t._`${g}.instancePath`,(0,t.strConcat)(e.default.instancePath,A.errorPath))),d.assign(t._`${g}.schemaPath`,t.str`${A.errSchemaPath}/${l}`),A.opts.verbose&&(d.assign(t._`${g}.schema`,P),d.assign(t._`${g}.data`,h))})};const _={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function E(d,l,P){const{createErrors:h}=d.it;return!1===h?t._`{}`:function R(d,l,P={}){const{gen:h,it:y}=d,A=[T(y,P),C(d,P)];return function D(d,{params:l,message:P},h){const{keyword:y,data:A,schemaValue:g,it:v}=d,{opts:$,propertyName:F,topSchemaRef:z,schemaPath:H}=v;h.push([_.keyword,y],[_.params,"function"==typeof l?l(d):l||t._`{}`]),$.messages&&h.push([_.message,"function"==typeof P?P(d):P]),$.verbose&&h.push([_.schema,g],[_.parentSchema,t._`${z}${H}`],[e.default.data,A]),F&&h.push([_.propertyName,F])}(d,l,A),h.object(...A)}(d,l,P)}function T({errorPath:d},{instancePath:l}){const P=l?t.str`${d}${(0,n.getErrorPath)(l,n.Type.Str)}`:d;return[e.default.instancePath,(0,t.strConcat)(e.default.instancePath,P)]}function C({keyword:d,it:{errSchemaPath:l}},{schemaPath:P,parentSchema:h}){let y=h?l:t.str`${l}/${d}`;return P&&(y=t.str`${y}${(0,n.getErrorPath)(P,n.Type.Str)}`),[_.schemaPath,y]}},7140:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.resolveSchema=r.getCompilingSchema=r.resolveRef=r.compileSchema=r.SchemaEnv=void 0;const t=s(6382),n=s(496),e=s(5976),m=s(1880),b=s(7990),i=s(6764);class f{constructor(P){var h;let y;this.refs={},this.dynamicAnchors={},"object"==typeof P.schema&&(y=P.schema),this.schema=P.schema,this.schemaId=P.schemaId,this.root=P.root||this,this.baseId=null!==(h=P.baseId)&&void 0!==h?h:(0,m.normalizeId)(y?.[P.schemaId||"$id"]),this.schemaPath=P.schemaPath,this.localRefs=P.localRefs,this.meta=P.meta,this.$async=y?.$async,this.refs={}}}function a(l){const P=E.call(this,l);if(P)return P;const h=(0,m.getFullPath)(this.opts.uriResolver,l.root.baseId),{es5:y,lines:A}=this.opts.code,{ownProperties:g}=this.opts,v=new t.CodeGen(this.scope,{es5:y,lines:A,ownProperties:g});let $;l.$async&&($=v.scopeValue("Error",{ref:n.default,code:t._`require("ajv/dist/runtime/validation_error").default`}));const F=v.scopeName("validate");l.validateName=F;const z={gen:v,allErrors:this.opts.allErrors,data:e.default.data,parentData:e.default.parentData,parentDataProperty:e.default.parentDataProperty,dataNames:[e.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:v.scopeValue("schema",!0===this.opts.code.source?{ref:l.schema,code:(0,t.stringify)(l.schema)}:{ref:l.schema}),validateName:F,ValidationError:$,schema:l.schema,schemaEnv:l,rootId:h,baseId:l.baseId||h,schemaPath:t.nil,errSchemaPath:l.schemaPath||(this.opts.jtd?"":"#"),errorPath:t._`""`,opts:this.opts,self:this};let H;try{this._compilations.add(l),(0,i.validateFunctionCode)(z),v.optimize(this.opts.code.optimize);const B=v.toString();H=`${v.scopeRefs(e.default.scope)}return ${B}`,this.opts.code.process&&(H=this.opts.code.process(H,l));const te=new Function(`${e.default.self}`,`${e.default.scope}`,H)(this,this.scope.get());if(this.scope.value(F,{ref:te}),te.errors=null,te.schema=l.schema,te.schemaEnv=l,l.$async&&(te.$async=!0),!0===this.opts.code.source&&(te.source={validateName:F,validateCode:B,scopeValues:v._values}),this.opts.unevaluated){const{props:ue,items:he}=z;te.evaluated={props:ue instanceof t.Name?void 0:ue,items:he instanceof t.Name?void 0:he,dynamicProps:ue instanceof t.Name,dynamicItems:he instanceof t.Name},te.source&&(te.source.evaluated=(0,t.stringify)(te.evaluated))}return l.validate=te,l}catch(B){throw delete l.validate,delete l.validateName,H&&this.logger.error("Error compiling schema, function code:",H),B}finally{this._compilations.delete(l)}}function _(l){return(0,m.inlineRef)(l.schema,this.opts.inlineRefs)?l.schema:l.validate?l:a.call(this,l)}function E(l){for(const P of this._compilations)if(R(P,l))return P}function R(l,P){return l.schema===P.schema&&l.root===P.root&&l.baseId===P.baseId}function T(l,P){let h;for(;"string"==typeof(h=this.refs[P]);)P=h;return h||this.schemas[P]||C.call(this,l,P)}function C(l,P){const h=this.opts.uriResolver.parse(P),y=(0,m._getFullPath)(this.opts.uriResolver,h);let A=(0,m.getFullPath)(this.opts.uriResolver,l.baseId,void 0);if(Object.keys(l.schema).length>0&&y===A)return d.call(this,h,l);const g=(0,m.normalizeId)(y),v=this.refs[g]||this.schemas[g];if("string"==typeof v){const $=C.call(this,l,v);return"object"!=typeof $?.schema?void 0:d.call(this,h,$)}if("object"==typeof v?.schema){if(v.validate||a.call(this,v),g===(0,m.normalizeId)(P)){const{schema:$}=v,{schemaId:F}=this.opts,z=$[F];return z&&(A=(0,m.resolveUrl)(this.opts.uriResolver,A,z)),new f({schema:$,schemaId:F,root:l,baseId:A})}return d.call(this,h,v)}}r.SchemaEnv=f,r.compileSchema=a,r.resolveRef=function c(l,P,h){var y;h=(0,m.resolveUrl)(this.opts.uriResolver,P,h);const A=l.refs[h];if(A)return A;let g=T.call(this,l,h);if(void 0===g){const v=null===(y=l.localRefs)||void 0===y?void 0:y[h],{schemaId:$}=this.opts;v&&(g=new f({schema:v,schemaId:$,root:l,baseId:P}))}return void 0!==g?l.refs[h]=_.call(this,g):void 0},r.getCompilingSchema=E,r.resolveSchema=C;const D=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function d(l,{baseId:P,schema:h,root:y}){var A;if("/"!==(null===(A=l.fragment)||void 0===A?void 0:A[0]))return;for(const $ of l.fragment.slice(1).split("/")){if("boolean"==typeof h)return;const F=h[(0,b.unescapeFragment)($)];if(void 0===F)return;const z="object"==typeof(h=F)&&h[this.opts.schemaId];!D.has($)&&z&&(P=(0,m.resolveUrl)(this.opts.uriResolver,P,z))}let g;if("boolean"!=typeof h&&h.$ref&&!(0,b.schemaHasRulesButRef)(h,this.RULES)){const $=(0,m.resolveUrl)(this.opts.uriResolver,P,h.$ref);g=C.call(this,y,$)}const{schemaId:v}=this.opts;return g=g||new f({schema:h,schemaId:v,root:y,baseId:P}),g.schema!==g.root.schema?g:void 0}},5976:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};r.default=n},140:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(1880);class n extends Error{constructor(m,b,i,f){super(f||`can't resolve reference ${i} from id ${b}`),this.missingRef=(0,t.resolveUrl)(m,b,i),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(m,this.missingRef))}}r.default=n},1880:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSchemaRefs=r.resolveUrl=r.normalizeId=r._getFullPath=r.getFullPath=r.inlineRef=void 0;const t=s(7990),n=s(2559),e=s(3366),m=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);r.inlineRef=function b(d,l=!0){return"boolean"==typeof d||(!0===l?!f(d):!!l&&a(d)<=l)};const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function f(d){for(const l in d){if(i.has(l))return!0;const P=d[l];if(Array.isArray(P)&&P.some(f)||"object"==typeof P&&f(P))return!0}return!1}function a(d){let l=0;for(const P in d){if("$ref"===P)return 1/0;if(l++,!m.has(P)&&("object"==typeof d[P]&&(0,t.eachItem)(d[P],h=>l+=a(h)),l===1/0))return 1/0}return l}function c(d,l="",P){!1!==P&&(l=R(l));const h=d.parse(l);return _(d,h)}function _(d,l){return d.serialize(l).split("#")[0]+"#"}r.getFullPath=c,r._getFullPath=_;const E=/#\/?$/;function R(d){return d?d.replace(E,""):""}r.normalizeId=R,r.resolveUrl=function T(d,l,P){return P=R(P),d.resolve(l,P)};const C=/^[a-z_][-a-z0-9._]*$/i;r.getSchemaRefs=function D(d,l){if("boolean"==typeof d)return{};const{schemaId:P,uriResolver:h}=this.opts,y=R(d[P]||l),A={"":y},g=c(h,y,!1),v={},$=new Set;return e(d,{allKeys:!0},(H,B,ae,te)=>{if(void 0===te)return;const ue=g+B;let he=A[te];function Te(ce){if(ce=R(he?(0,this.opts.uriResolver.resolve)(he,ce):ce),$.has(ce))throw z(ce);$.add(ce);let G=this.refs[ce];return"string"==typeof G&&(G=this.refs[G]),"object"==typeof G?F(H,G.schema,ce):ce!==R(ue)&&("#"===ce[0]?(F(H,v[ce],ce),v[ce]=H):this.refs[ce]=ue),ce}function Ce(ce){if("string"==typeof ce){if(!C.test(ce))throw new Error(`invalid anchor "${ce}"`);Te.call(this,`#${ce}`)}}"string"==typeof H[P]&&(he=Te.call(this,H[P])),Ce.call(this,H.$anchor),Ce.call(this,H.$dynamicAnchor),A[B]=he}),v;function F(H,B,ae){if(void 0!==B&&!n(H,B))throw z(ae)}function z(H){return new Error(`reference "${H}" resolves to more than one schema`)}}},2848:(W,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getRules=r.isJSONType=void 0;const t=new Set(["string","number","integer","boolean","null","object","array"]);r.isJSONType=function n(m){return"string"==typeof m&&t.has(m)},r.getRules=function e(){const m={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...m,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},m.number,m.string,m.array,m.object],post:{rules:[]},all:{},keywords:{}}}},7990:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.checkStrictMode=r.getErrorPath=r.Type=r.useFunc=r.setEvaluated=r.evaluatedPropsToName=r.mergeEvaluated=r.eachItem=r.unescapeJsonPointer=r.escapeJsonPointer=r.escapeFragment=r.unescapeFragment=r.schemaRefOrVal=r.schemaHasRulesButRef=r.schemaHasRules=r.checkUnknownRules=r.alwaysValidSchema=r.toHash=void 0;const t=s(6382),n=s(6295);function b(g,v=g.schema){const{opts:$,self:F}=g;if(!$.strictSchema||"boolean"==typeof v)return;const z=F.RULES.keywords;for(const H in v)z[H]||A(g,`unknown keyword: "${H}"`)}function i(g,v){if("boolean"==typeof g)return!g;for(const $ in g)if(v[$])return!0;return!1}function E(g){return"number"==typeof g?`${g}`:g.replace(/~/g,"~0").replace(/\//g,"~1")}function R(g){return g.replace(/~1/g,"/").replace(/~0/g,"~")}function C({mergeNames:g,mergeToName:v,mergeValues:$,resultToName:F}){return(z,H,B,ae)=>{const te=void 0===B?H:B instanceof t.Name?(H instanceof t.Name?g(z,H,B):v(z,H,B),B):H instanceof t.Name?(v(z,B,H),H):$(H,B);return ae!==t.Name||te instanceof t.Name?te:F(z,te)}}function D(g,v){if(!0===v)return g.var("props",!0);const $=g.var("props",t._`{}`);return void 0!==v&&d(g,$,v),$}function d(g,v,$){Object.keys($).forEach(F=>g.assign(t._`${v}${(0,t.getProperty)(F)}`,!0))}r.toHash=function e(g){const v={};for(const $ of g)v[$]=!0;return v},r.alwaysValidSchema=function m(g,v){return"boolean"==typeof v?v:0===Object.keys(v).length||(b(g,v),!i(v,g.self.RULES.all))},r.checkUnknownRules=b,r.schemaHasRules=i,r.schemaHasRulesButRef=function f(g,v){if("boolean"==typeof g)return!g;for(const $ in g)if("$ref"!==$&&v.all[$])return!0;return!1},r.schemaRefOrVal=function a({topSchemaRef:g,schemaPath:v},$,F,z){if(!z){if("number"==typeof $||"boolean"==typeof $)return $;if("string"==typeof $)return t._`${$}`}return t._`${g}${v}${(0,t.getProperty)(F)}`},r.unescapeFragment=function c(g){return R(decodeURIComponent(g))},r.escapeFragment=function _(g){return encodeURIComponent(E(g))},r.escapeJsonPointer=E,r.unescapeJsonPointer=R,r.eachItem=function T(g,v){if(Array.isArray(g))for(const $ of g)v($);else v(g)},r.mergeEvaluated={props:C({mergeNames:(g,v,$)=>g.if(t._`${$} !== true && ${v} !== undefined`,()=>{g.if(t._`${v} === true`,()=>g.assign($,!0),()=>g.assign($,t._`${$} || {}`).code(t._`Object.assign(${$}, ${v})`))}),mergeToName:(g,v,$)=>g.if(t._`${$} !== true`,()=>{!0===v?g.assign($,!0):(g.assign($,t._`${$} || {}`),d(g,$,v))}),mergeValues:(g,v)=>!0===g||{...g,...v},resultToName:D}),items:C({mergeNames:(g,v,$)=>g.if(t._`${$} !== true && ${v} !== undefined`,()=>g.assign($,t._`${v} === true ? true : ${$} > ${v} ? ${$} : ${v}`)),mergeToName:(g,v,$)=>g.if(t._`${$} !== true`,()=>g.assign($,!0===v||t._`${$} > ${v} ? ${$} : ${v}`)),mergeValues:(g,v)=>!0===g||Math.max(g,v),resultToName:(g,v)=>g.var("items",v)})},r.evaluatedPropsToName=D,r.setEvaluated=d;const l={};var h,g;function A(g,v,$=g.opts.strictSchema){if($){if(v=`strict mode: ${v}`,!0===$)throw new Error(v);g.self.logger.warn(v)}}r.useFunc=function P(g,v){return g.scopeValue("func",{ref:v,code:l[v.code]||(l[v.code]=new n._Code(v.code))})},(g=h=r.Type||(r.Type={}))[g.Num=0]="Num",g[g.Str=1]="Str",r.getErrorPath=function y(g,v,$){if(g instanceof t.Name){const F=v===h.Num;return $?F?t._`"[" + ${g} + "]"`:t._`"['" + ${g} + "']"`:F?t._`"/" + ${g}`:t._`"/" + ${g}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return $?(0,t.getProperty)(g).toString():"/"+E(g)},r.checkStrictMode=A},368:(W,r)=>{"use strict";function t(e,m){return m.rules.some(b=>n(e,b))}function n(e,m){var b;return void 0!==e[m.keyword]||(null===(b=m.definition.implements)||void 0===b?void 0:b.some(i=>void 0!==e[i]))}Object.defineProperty(r,"__esModule",{value:!0}),r.shouldUseRule=r.shouldUseGroup=r.schemaHasRulesForType=void 0,r.schemaHasRulesForType=function s({schema:e,self:m},b){const i=m.RULES.types[b];return i&&!0!==i&&t(e,i)},r.shouldUseGroup=t,r.shouldUseRule=n},8007:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.boolOrEmptySchema=r.topBoolOrEmptySchema=void 0;const t=s(5091),n=s(6382),e=s(5976),m={message:"boolean schema is false"};function f(a,c){const{gen:_,data:E}=a;(0,t.reportError)({gen:_,keyword:"false schema",data:E,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a},m,void 0,c)}r.topBoolOrEmptySchema=function b(a){const{gen:c,schema:_,validateName:E}=a;!1===_?f(a,!1):"object"==typeof _&&!0===_.$async?c.return(e.default.data):(c.assign(n._`${E}.errors`,null),c.return(!0))},r.boolOrEmptySchema=function i(a,c){const{gen:_,schema:E}=a;!1===E?(_.var(c,!1),f(a)):_.var(c,!0)}},9078:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.reportTypeError=r.checkDataTypes=r.checkDataType=r.coerceAndCheckDataType=r.getJSONTypes=r.getSchemaTypes=r.DataType=void 0;const t=s(2848),n=s(368),e=s(5091),m=s(6382),b=s(7990);var i,h;function a(h){const y=Array.isArray(h)?h:h?[h]:[];if(y.every(t.isJSONType))return y;throw new Error("type must be JSONType or JSONType[]: "+y.join(","))}(h=i=r.DataType||(r.DataType={}))[h.Correct=0]="Correct",h[h.Wrong=1]="Wrong",r.getSchemaTypes=function f(h){const y=a(h.type);if(y.includes("null")){if(!1===h.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!y.length&&void 0!==h.nullable)throw new Error('"nullable" cannot be used without "type"');!0===h.nullable&&y.push("null")}return y},r.getJSONTypes=a,r.coerceAndCheckDataType=function c(h,y){const{gen:A,data:g,opts:v}=h,$=function E(h,y){return y?h.filter(A=>_.has(A)||"array"===y&&"array"===A):[]}(y,v.coerceTypes),F=y.length>0&&!(0===$.length&&1===y.length&&(0,n.schemaHasRulesForType)(h,y[0]));if(F){const z=D(y,g,v.strictNumbers,i.Wrong);A.if(z,()=>{$.length?function R(h,y,A){const{gen:g,data:v,opts:$}=h,F=g.let("dataType",m._`typeof ${v}`),z=g.let("coerced",m._`undefined`);"array"===$.coerceTypes&&g.if(m._`${F} == 'object' && Array.isArray(${v}) && ${v}.length == 1`,()=>g.assign(v,m._`${v}[0]`).assign(F,m._`typeof ${v}`).if(D(y,v,$.strictNumbers),()=>g.assign(z,v))),g.if(m._`${z} !== undefined`);for(const B of A)(_.has(B)||"array"===B&&"array"===$.coerceTypes)&&H(B);function H(B){switch(B){case"string":return void g.elseIf(m._`${F} == "number" || ${F} == "boolean"`).assign(z,m._`"" + ${v}`).elseIf(m._`${v} === null`).assign(z,m._`""`);case"number":return void g.elseIf(m._`${F} == "boolean" || ${v} === null
              || (${F} == "string" && ${v} && ${v} == +${v})`).assign(z,m._`+${v}`);case"integer":return void g.elseIf(m._`${F} === "boolean" || ${v} === null
              || (${F} === "string" && ${v} && ${v} == +${v} && !(${v} % 1))`).assign(z,m._`+${v}`);case"boolean":return void g.elseIf(m._`${v} === "false" || ${v} === 0 || ${v} === null`).assign(z,!1).elseIf(m._`${v} === "true" || ${v} === 1`).assign(z,!0);case"null":return g.elseIf(m._`${v} === "" || ${v} === 0 || ${v} === false`),void g.assign(z,null);case"array":g.elseIf(m._`${F} === "string" || ${F} === "number"
              || ${F} === "boolean" || ${v} === null`).assign(z,m._`[${v}]`)}}g.else(),l(h),g.endIf(),g.if(m._`${z} !== undefined`,()=>{g.assign(v,z),function T({gen:h,parentData:y,parentDataProperty:A},g){h.if(m._`${y} !== undefined`,()=>h.assign(m._`${y}[${A}]`,g))}(h,z)})}(h,y,$):l(h)})}return F};const _=new Set(["string","number","integer","boolean","null"]);function C(h,y,A,g=i.Correct){const v=g===i.Correct?m.operators.EQ:m.operators.NEQ;let $;switch(h){case"null":return m._`${y} ${v} null`;case"array":$=m._`Array.isArray(${y})`;break;case"object":$=m._`${y} && typeof ${y} == "object" && !Array.isArray(${y})`;break;case"integer":$=F(m._`!(${y} % 1) && !isNaN(${y})`);break;case"number":$=F();break;default:return m._`typeof ${y} ${v} ${h}`}return g===i.Correct?$:(0,m.not)($);function F(z=m.nil){return(0,m.and)(m._`typeof ${y} == "number"`,z,A?m._`isFinite(${y})`:m.nil)}}function D(h,y,A,g){if(1===h.length)return C(h[0],y,A,g);let v;const $=(0,b.toHash)(h);if($.array&&$.object){const F=m._`typeof ${y} != "object"`;v=$.null?F:m._`!${y} || ${F}`,delete $.null,delete $.array,delete $.object}else v=m.nil;$.number&&delete $.integer;for(const F in $)v=(0,m.and)(v,C(F,y,A,g));return v}r.checkDataType=C,r.checkDataTypes=D;const d={message:({schema:h})=>`must be ${h}`,params:({schema:h,schemaValue:y})=>"string"==typeof h?m._`{type: ${h}}`:m._`{type: ${y}}`};function l(h){const y=function P(h){const{gen:y,data:A,schema:g}=h,v=(0,b.schemaRefOrVal)(h,g,"type");return{gen:y,keyword:"type",data:A,schema:g.type,schemaCode:v,schemaValue:v,parentSchema:g,params:{},it:h}}(h);(0,e.reportError)(y,d)}r.reportTypeError=l},7866:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.assignDefaults=void 0;const t=s(6382),n=s(7990);function m(b,i,f){const{gen:a,compositeRule:c,data:_,opts:E}=b;if(void 0===f)return;const R=t._`${_}${(0,t.getProperty)(i)}`;if(c)return void(0,n.checkStrictMode)(b,`default is ignored for: ${R}`);let T=t._`${R} === undefined`;"empty"===E.useDefaults&&(T=t._`${T} || ${R} === null || ${R} === ""`),a.if(T,t._`${R} = ${(0,t.stringify)(f)}`)}r.assignDefaults=function e(b,i){const{properties:f,items:a}=b.schema;if("object"===i&&f)for(const c in f)m(b,c,f[c].default);else"array"===i&&Array.isArray(a)&&a.forEach((c,_)=>m(b,_,c.default))}},6764:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getData=r.KeywordCxt=r.validateFunctionCode=void 0;const t=s(8007),n=s(9078),e=s(368),m=s(9078),b=s(7866),i=s(2707),f=s(2639),a=s(6382),c=s(5976),_=s(1880),E=s(7990),R=s(5091);function C({gen:I,validateName:k,schema:Z,schemaEnv:Q,opts:K},ee){K.code.es5?I.func(k,a._`${c.default.data}, ${c.default.valCxt}`,Q.$async,()=>{I.code(a._`"use strict"; ${h(Z,K)}`),function d(I,k){I.if(c.default.valCxt,()=>{I.var(c.default.instancePath,a._`${c.default.valCxt}.${c.default.instancePath}`),I.var(c.default.parentData,a._`${c.default.valCxt}.${c.default.parentData}`),I.var(c.default.parentDataProperty,a._`${c.default.valCxt}.${c.default.parentDataProperty}`),I.var(c.default.rootData,a._`${c.default.valCxt}.${c.default.rootData}`),k.dynamicRef&&I.var(c.default.dynamicAnchors,a._`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{I.var(c.default.instancePath,a._`""`),I.var(c.default.parentData,a._`undefined`),I.var(c.default.parentDataProperty,a._`undefined`),I.var(c.default.rootData,c.default.data),k.dynamicRef&&I.var(c.default.dynamicAnchors,a._`{}`)})}(I,K),I.code(ee)}):I.func(k,a._`${c.default.data}, ${function D(I){return a._`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${I.dynamicRef?a._`, ${c.default.dynamicAnchors}={}`:a.nil}}={}`}(K)}`,Q.$async,()=>I.code(h(Z,K)).code(ee))}function h(I,k){const Z="object"==typeof I&&I[k.schemaId];return Z&&(k.code.source||k.code.process)?a._`/*# sourceURL=${Z} */`:a.nil}function A({schema:I,self:k}){if("boolean"==typeof I)return!I;for(const Z in I)if(k.RULES.all[Z])return!0;return!1}function g(I){return"boolean"!=typeof I.schema}function $(I){(0,E.checkUnknownRules)(I),function z(I){const{schema:k,errSchemaPath:Z,opts:Q,self:K}=I;k.$ref&&Q.ignoreKeywordsWithRef&&(0,E.schemaHasRulesButRef)(k,K.RULES)&&K.logger.warn(`$ref: keywords ignored in schema at path "${Z}"`)}(I)}function F(I,k){if(I.opts.jtd)return Te(I,[],!1,k);const Z=(0,n.getSchemaTypes)(I.schema);Te(I,Z,!(0,n.coerceAndCheckDataType)(I,Z),k)}function te({gen:I,schemaEnv:k,schema:Z,errSchemaPath:Q,opts:K}){const ee=Z.$comment;if(!0===K.$comment)I.code(a._`${c.default.self}.logger.log(${ee})`);else if("function"==typeof K.$comment){const pe=a.str`${Q}/$comment`,Ae=I.scopeValue("root",{ref:k.root});I.code(a._`${c.default.self}.opts.$comment(${ee}, ${pe}, ${Ae}.schema)`)}}function Te(I,k,Z,Q){const{gen:K,schema:ee,data:pe,allErrors:Ae,opts:ye,self:fe}=I,{RULES:_e}=fe;function Ve(Pe){(0,e.shouldUseGroup)(ee,Pe)&&(Pe.type?(K.if((0,m.checkDataType)(Pe.type,pe,ye.strictNumbers)),Ce(I,Pe),1===k.length&&k[0]===Pe.type&&Z&&(K.else(),(0,m.reportTypeError)(I)),K.endIf()):Ce(I,Pe),Ae||K.if(a._`${c.default.errors} === ${Q||0}`))}!ee.$ref||!ye.ignoreKeywordsWithRef&&(0,E.schemaHasRulesButRef)(ee,_e)?(ye.jtd||function ce(I,k){I.schemaEnv.meta||!I.opts.strictTypes||(function Oe(I,k){if(k.length){if(!I.dataTypes.length)return void(I.dataTypes=k);k.forEach(Z=>{o(I.dataTypes,Z)||M(I,`type "${Z}" not allowed by context "${I.dataTypes.join(",")}"`)}),function p(I,k){const Z=[];for(const Q of I.dataTypes)o(k,Q)?Z.push(Q):k.includes("integer")&&"number"===Q&&Z.push("integer");I.dataTypes=Z}(I,k)}}(I,k),I.opts.allowUnionTypes||function G(I,k){k.length>1&&(2!==k.length||!k.includes("null"))&&M(I,"use allowUnionTypes to allow union type keyword")}(I,k),function j(I,k){const Z=I.self.RULES.all;for(const Q in Z){const K=Z[Q];if("object"==typeof K&&(0,e.shouldUseRule)(I.schema,K)){const{type:ee}=K.definition;ee.length&&!ee.some(pe=>O(k,pe))&&M(I,`missing type "${ee.join(",")}" for keyword "${Q}"`)}}}(I,I.dataTypes))}(I,k),K.block(()=>{for(const Pe of _e.rules)Ve(Pe);Ve(_e.post)})):K.block(()=>x(I,"$ref",_e.all.$ref.definition))}function Ce(I,k){const{gen:Z,schema:Q,opts:{useDefaults:K}}=I;K&&(0,b.assignDefaults)(I,k.type),Z.block(()=>{for(const ee of k.rules)(0,e.shouldUseRule)(Q,ee)&&x(I,ee.keyword,ee.definition,k.type)})}function O(I,k){return I.includes(k)||"number"===k&&I.includes("integer")}function o(I,k){return I.includes(k)||"integer"===k&&I.includes("number")}function M(I,k){(0,E.checkStrictMode)(I,k+=` at "${I.schemaEnv.baseId+I.errSchemaPath}" (strictTypes)`,I.opts.strictTypes)}r.validateFunctionCode=function T(I){g(I)&&($(I),A(I))?function l(I){const{schema:k,opts:Z,gen:Q}=I;C(I,()=>{Z.$comment&&k.$comment&&te(I),function H(I){const{schema:k,opts:Z}=I;void 0!==k.default&&Z.useDefaults&&Z.strictSchema&&(0,E.checkStrictMode)(I,"default is ignored in the schema root")}(I),Q.let(c.default.vErrors,null),Q.let(c.default.errors,0),Z.unevaluated&&function P(I){const{gen:k,validateName:Z}=I;I.evaluated=k.const("evaluated",a._`${Z}.evaluated`),k.if(a._`${I.evaluated}.dynamicProps`,()=>k.assign(a._`${I.evaluated}.props`,a._`undefined`)),k.if(a._`${I.evaluated}.dynamicItems`,()=>k.assign(a._`${I.evaluated}.items`,a._`undefined`))}(I),F(I),function ue(I){const{gen:k,schemaEnv:Z,validateName:Q,ValidationError:K,opts:ee}=I;Z.$async?k.if(a._`${c.default.errors} === 0`,()=>k.return(c.default.data),()=>k.throw(a._`new ${K}(${c.default.vErrors})`)):(k.assign(a._`${Q}.errors`,c.default.vErrors),ee.unevaluated&&function he({gen:I,evaluated:k,props:Z,items:Q}){Z instanceof a.Name&&I.assign(a._`${k}.props`,Z),Q instanceof a.Name&&I.assign(a._`${k}.items`,Q)}(I),k.return(a._`${c.default.errors} === 0`))}(I)})}(I):C(I,()=>(0,t.topBoolOrEmptySchema)(I))};class Y{constructor(k,Z,Q){if((0,i.validateKeywordUsage)(k,Z,Q),this.gen=k.gen,this.allErrors=k.allErrors,this.keyword=Q,this.data=k.data,this.schema=k.schema[Q],this.$data=Z.$data&&k.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,E.schemaRefOrVal)(k,this.schema,Q,this.$data),this.schemaType=Z.schemaType,this.parentSchema=k.schema,this.params={},this.it=k,this.def=Z,this.$data)this.schemaCode=k.gen.const("vSchema",Ne(this.$data,k));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,Z.schemaType,Z.allowUndefined))throw new Error(`${Q} value must be ${JSON.stringify(Z.schemaType)}`);("code"in Z?Z.trackErrors:!1!==Z.errors)&&(this.errsCount=k.gen.const("_errs",c.default.errors))}result(k,Z,Q){this.failResult((0,a.not)(k),Z,Q)}failResult(k,Z,Q){this.gen.if(k),Q?Q():this.error(),Z?(this.gen.else(),Z(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(k,Z){this.failResult((0,a.not)(k),void 0,Z)}fail(k){if(void 0===k)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(k),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(k){if(!this.$data)return this.fail(k);const{schemaCode:Z}=this;this.fail(a._`${Z} !== undefined && (${(0,a.or)(this.invalid$data(),k)})`)}error(k,Z,Q){if(Z)return this.setParams(Z),this._error(k,Q),void this.setParams({});this._error(k,Q)}_error(k,Z){(k?R.reportExtraError:R.reportError)(this,this.def.error,Z)}$dataError(){(0,R.reportError)(this,this.def.$dataError||R.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,R.resetErrorsCount)(this.gen,this.errsCount)}ok(k){this.allErrors||this.gen.if(k)}setParams(k,Z){Z?Object.assign(this.params,k):this.params=k}block$data(k,Z,Q=a.nil){this.gen.block(()=>{this.check$data(k,Q),Z()})}check$data(k=a.nil,Z=a.nil){if(!this.$data)return;const{gen:Q,schemaCode:K,schemaType:ee,def:pe}=this;Q.if((0,a.or)(a._`${K} === undefined`,Z)),k!==a.nil&&Q.assign(k,!0),(ee.length||pe.validateSchema)&&(Q.elseIf(this.invalid$data()),this.$dataError(),k!==a.nil&&Q.assign(k,!1)),Q.else()}invalid$data(){const{gen:k,schemaCode:Z,schemaType:Q,def:K,it:ee}=this;return(0,a.or)(function pe(){if(Q.length){if(!(Z instanceof a.Name))throw new Error("ajv implementation error");const ye=Array.isArray(Q)?Q:[Q];return a._`${(0,m.checkDataTypes)(ye,Z,ee.opts.strictNumbers,m.DataType.Wrong)}`}return a.nil}(),function Ae(){if(K.validateSchema){const ye=k.scopeValue("validate$data",{ref:K.validateSchema});return a._`!${ye}(${Z})`}return a.nil}())}subschema(k,Z){const Q=(0,f.getSubschema)(this.it,k);(0,f.extendSubschemaData)(Q,this.it,k),(0,f.extendSubschemaMode)(Q,k);const K={...this.it,...Q,items:void 0,props:void 0};return function y(I,k){g(I)&&($(I),A(I))?function v(I,k){const{schema:Z,gen:Q,opts:K}=I;K.$comment&&Z.$comment&&te(I),function B(I){const k=I.schema[I.opts.schemaId];k&&(I.baseId=(0,_.resolveUrl)(I.opts.uriResolver,I.baseId,k))}(I),function ae(I){if(I.schema.$async&&!I.schemaEnv.$async)throw new Error("async schema in sync schema")}(I);const ee=Q.const("_errs",c.default.errors);F(I,ee),Q.var(k,a._`${ee} === ${c.default.errors}`)}(I,k):(0,t.boolOrEmptySchema)(I,k)}(K,Z),K}mergeEvaluated(k,Z){const{it:Q,gen:K}=this;Q.opts.unevaluated&&(!0!==Q.props&&void 0!==k.props&&(Q.props=E.mergeEvaluated.props(K,k.props,Q.props,Z)),!0!==Q.items&&void 0!==k.items&&(Q.items=E.mergeEvaluated.items(K,k.items,Q.items,Z)))}mergeValidEvaluated(k,Z){const{it:Q,gen:K}=this;if(Q.opts.unevaluated&&(!0!==Q.props||!0!==Q.items))return K.if(Z,()=>this.mergeEvaluated(k,a.Name)),!0}}function x(I,k,Z,Q){const K=new Y(I,Z,k);"code"in Z?Z.code(K,Q):K.$data&&Z.validate?(0,i.funcKeywordCode)(K,Z):"macro"in Z?(0,i.macroKeywordCode)(K,Z):(Z.compile||Z.validate)&&(0,i.funcKeywordCode)(K,Z)}r.KeywordCxt=Y;const re=/^\/(?:[^~]|~0|~1)*$/,Ee=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ne(I,{dataLevel:k,dataNames:Z,dataPathArr:Q}){let K,ee;if(""===I)return c.default.rootData;if("/"===I[0]){if(!re.test(I))throw new Error(`Invalid JSON-pointer: ${I}`);K=I,ee=c.default.rootData}else{const fe=Ee.exec(I);if(!fe)throw new Error(`Invalid JSON-pointer: ${I}`);const _e=+fe[1];if(K=fe[2],"#"===K){if(_e>=k)throw new Error(ye("property/index",_e));return Q[k-_e]}if(_e>k)throw new Error(ye("data",_e));if(ee=Z[k-_e],!K)return ee}let pe=ee;const Ae=K.split("/");for(const fe of Ae)fe&&(ee=a._`${ee}${(0,a.getProperty)((0,E.unescapeJsonPointer)(fe))}`,pe=a._`${pe} && ${ee}`);return pe;function ye(fe,_e){return`Cannot access ${fe} ${_e} levels up, current level is ${k}`}}r.getData=Ne},2707:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateKeywordUsage=r.validSchemaType=r.funcKeywordCode=r.macroKeywordCode=void 0;const t=s(6382),n=s(5976),e=s(2812),m=s(5091);function f(T){const{gen:C,data:D,it:d}=T;C.if(d.parentData,()=>C.assign(D,t._`${d.parentData}[${d.parentDataProperty}]`))}function _(T,C,D){if(void 0===D)throw new Error(`keyword "${C}" failed to compile`);return T.scopeValue("keyword","function"==typeof D?{ref:D}:{ref:D,code:(0,t.stringify)(D)})}r.macroKeywordCode=function b(T,C){const{gen:D,keyword:d,schema:l,parentSchema:P,it:h}=T,y=C.macro.call(h.self,l,P,h),A=_(D,d,y);!1!==h.opts.validateSchema&&h.self.validateSchema(y,!0);const g=D.name("valid");T.subschema({schema:y,schemaPath:t.nil,errSchemaPath:`${h.errSchemaPath}/${d}`,topSchemaRef:A,compositeRule:!0},g),T.pass(g,()=>T.error(!0))},r.funcKeywordCode=function i(T,C){var D;const{gen:d,keyword:l,schema:P,parentSchema:h,$data:y,it:A}=T;!function c({schemaEnv:T},C){if(C.async&&!T.$async)throw new Error("async keyword in sync schema")}(A,C);const g=!y&&C.compile?C.compile.call(A.self,P,h,A):C.validate,v=_(d,l,g),$=d.let("valid");function B(te=(C.async?t._`await `:t.nil)){d.assign($,t._`${te}${(0,e.callValidateCode)(T,v,A.opts.passContext?n.default.this:n.default.self,!("compile"in C&&!y||!1===C.schema))}`,C.modifying)}function ae(te){var ue;d.if((0,t.not)(null!==(ue=C.valid)&&void 0!==ue?ue:$),te)}T.block$data($,function F(){if(!1===C.errors)B(),C.modifying&&f(T),ae(()=>T.error());else{const te=C.async?function z(){const te=d.let("ruleErrs",null);return d.try(()=>B(t._`await `),ue=>d.assign($,!1).if(t._`${ue} instanceof ${A.ValidationError}`,()=>d.assign(te,t._`${ue}.errors`),()=>d.throw(ue))),te}():function H(){const te=t._`${v}.errors`;return d.assign(te,null),B(t.nil),te}();C.modifying&&f(T),ae(()=>function a(T,C){const{gen:D}=T;D.if(t._`Array.isArray(${C})`,()=>{D.assign(n.default.vErrors,t._`${n.default.vErrors} === null ? ${C} : ${n.default.vErrors}.concat(${C})`).assign(n.default.errors,t._`${n.default.vErrors}.length`),(0,m.extendErrors)(T)},()=>T.error())}(T,te))}}),T.ok(null!==(D=C.valid)&&void 0!==D?D:$)},r.validSchemaType=function E(T,C,D=!1){return!C.length||C.some(d=>"array"===d?Array.isArray(T):"object"===d?T&&"object"==typeof T&&!Array.isArray(T):typeof T==d||D&&typeof T>"u")},r.validateKeywordUsage=function R({schema:T,opts:C,self:D,errSchemaPath:d},l,P){if(Array.isArray(l.keyword)?!l.keyword.includes(P):l.keyword!==P)throw new Error("ajv implementation error");const h=l.dependencies;if(h?.some(y=>!Object.prototype.hasOwnProperty.call(T,y)))throw new Error(`parent schema must have dependencies of ${P}: ${h.join(",")}`);if(l.validateSchema&&!l.validateSchema(T[P])){const A=`keyword "${P}" value is invalid at path "${d}": `+D.errorsText(l.validateSchema.errors);if("log"!==C.validateSchema)throw new Error(A);D.logger.error(A)}}},2639:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extendSubschemaMode=r.extendSubschemaData=r.getSubschema=void 0;const t=s(6382),n=s(7990);r.getSubschema=function e(i,{keyword:f,schemaProp:a,schema:c,schemaPath:_,errSchemaPath:E,topSchemaRef:R}){if(void 0!==f&&void 0!==c)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==f){const T=i.schema[f];return void 0===a?{schema:T,schemaPath:t._`${i.schemaPath}${(0,t.getProperty)(f)}`,errSchemaPath:`${i.errSchemaPath}/${f}`}:{schema:T[a],schemaPath:t._`${i.schemaPath}${(0,t.getProperty)(f)}${(0,t.getProperty)(a)}`,errSchemaPath:`${i.errSchemaPath}/${f}/${(0,n.escapeFragment)(a)}`}}if(void 0!==c){if(void 0===_||void 0===E||void 0===R)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:_,topSchemaRef:R,errSchemaPath:E}}throw new Error('either "keyword" or "schema" must be passed')},r.extendSubschemaData=function m(i,f,{dataProp:a,dataPropType:c,data:_,dataTypes:E,propertyName:R}){if(void 0!==_&&void 0!==a)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:T}=f;if(void 0!==a){const{errorPath:D,dataPathArr:d,opts:l}=f;C(T.let("data",t._`${f.data}${(0,t.getProperty)(a)}`,!0)),i.errorPath=t.str`${D}${(0,n.getErrorPath)(a,c,l.jsPropertySyntax)}`,i.parentDataProperty=t._`${a}`,i.dataPathArr=[...d,i.parentDataProperty]}function C(D){i.data=D,i.dataLevel=f.dataLevel+1,i.dataTypes=[],f.definedProperties=new Set,i.parentData=f.data,i.dataNames=[...f.dataNames,D]}void 0!==_&&(C(_ instanceof t.Name?_:T.let("data",_,!0)),void 0!==R&&(i.propertyName=R)),E&&(i.dataTypes=E)},r.extendSubschemaMode=function b(i,{jtdDiscriminator:f,jtdMetadata:a,compositeRule:c,createErrors:_,allErrors:E}){void 0!==c&&(i.compositeRule=c),void 0!==_&&(i.createErrors=_),void 0!==E&&(i.allErrors=E),i.jtdDiscriminator=f,i.jtdMetadata=a}},5910:(W,r,s)=>{"use strict";var t=s(9344).default;Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;var n=s(6764);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var e=s(6382);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return e._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return e.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return e.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return e.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return e.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return e.CodeGen}});const m=s(496),b=s(140),i=s(2848),f=s(7140),a=s(6382),c=s(1880),_=s(9078),E=s(7990),R=s(4775),T=s(1364),C=(G,j)=>new RegExp(G,j);C.code="new RegExp";const D=["removeAdditional","useDefaults","coerceTypes"],d=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),l={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},P={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},h=200;function y(G){var j,O,o,p,M,Y,x,re,Ee,Ne,I,k,Z,Q,K,ee,pe,Ae,ye,fe,_e,Ve,Pe,Ge,Qe;const Re=G.strict,be=null===(j=G.code)||void 0===j?void 0:j.optimize,Ye=!0===be||void 0===be?1:be||0,Be=null!==(o=null===(O=G.code)||void 0===O?void 0:O.regExp)&&void 0!==o?o:C,Le=null!==(p=G.uriResolver)&&void 0!==p?p:T.default;return{strictSchema:null===(Y=null!==(M=G.strictSchema)&&void 0!==M?M:Re)||void 0===Y||Y,strictNumbers:null===(re=null!==(x=G.strictNumbers)&&void 0!==x?x:Re)||void 0===re||re,strictTypes:null!==(Ne=null!==(Ee=G.strictTypes)&&void 0!==Ee?Ee:Re)&&void 0!==Ne?Ne:"log",strictTuples:null!==(k=null!==(I=G.strictTuples)&&void 0!==I?I:Re)&&void 0!==k?k:"log",strictRequired:null!==(Q=null!==(Z=G.strictRequired)&&void 0!==Z?Z:Re)&&void 0!==Q&&Q,code:G.code?{...G.code,optimize:Ye,regExp:Be}:{optimize:Ye,regExp:Be},loopRequired:null!==(K=G.loopRequired)&&void 0!==K?K:h,loopEnum:null!==(ee=G.loopEnum)&&void 0!==ee?ee:h,meta:null===(pe=G.meta)||void 0===pe||pe,messages:null===(Ae=G.messages)||void 0===Ae||Ae,inlineRefs:null===(ye=G.inlineRefs)||void 0===ye||ye,schemaId:null!==(fe=G.schemaId)&&void 0!==fe?fe:"$id",addUsedSchema:null===(_e=G.addUsedSchema)||void 0===_e||_e,validateSchema:null===(Ve=G.validateSchema)||void 0===Ve||Ve,validateFormats:null===(Pe=G.validateFormats)||void 0===Pe||Pe,unicodeRegExp:null===(Ge=G.unicodeRegExp)||void 0===Ge||Ge,int32range:null===(Qe=G.int32range)||void 0===Qe||Qe,uriResolver:Le}}class A{constructor(j={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,j=this.opts={...j,...y(j)};const{es5:O,lines:o}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:d,es5:O,lines:o}),this.logger=function ae(G){if(!1===G)return B;if(void 0===G)return console;if(G.log&&G.warn&&G.error)return G;throw new Error("logger must implement log, warn and error methods")}(j.logger);const p=j.validateFormats;j.validateFormats=!1,this.RULES=(0,i.getRules)(),g.call(this,l,j,"NOT SUPPORTED"),g.call(this,P,j,"DEPRECATED","warn"),this._metaOpts=H.call(this),j.formats&&F.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),j.keywords&&z.call(this,j.keywords),"object"==typeof j.meta&&this.addMetaSchema(j.meta),$.call(this),j.validateFormats=p}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:j,meta:O,schemaId:o}=this.opts;let p=R;"id"===o&&(p={...R},p.id=p.$id,delete p.$id),O&&j&&this.addMetaSchema(p,p[o],!1)}defaultMeta(){const{meta:j,schemaId:O}=this.opts;return this.opts.defaultMeta="object"==typeof j?j[O]||j:void 0}validate(j,O){let o;if("string"==typeof j){if(o=this.getSchema(j),!o)throw new Error(`no schema with key or ref "${j}"`)}else o=this.compile(j);const p=o(O);return"$async"in o||(this.errors=o.errors),p}compile(j,O){const o=this._addSchema(j,O);return o.validate||this._compileSchemaEnv(o)}compileAsync(j,O){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:o}=this.opts;return p.call(this,j,O);function p(K,ee){return M.apply(this,arguments)}function M(){return(M=t(function*(K,ee){yield Y.call(this,K.$schema);const pe=this._addSchema(K,ee);return pe.validate||re.call(this,pe)})).apply(this,arguments)}function Y(K){return x.apply(this,arguments)}function x(){return(x=t(function*(K){K&&!this.getSchema(K)&&(yield p.call(this,{$ref:K},!0))})).apply(this,arguments)}function re(K){return Ee.apply(this,arguments)}function Ee(){return(Ee=t(function*(K){try{return this._compileSchemaEnv(K)}catch(ee){if(!(ee instanceof b.default))throw ee;return Ne.call(this,ee),yield I.call(this,ee.missingSchema),re.call(this,K)}})).apply(this,arguments)}function Ne({missingSchema:K,missingRef:ee}){if(this.refs[K])throw new Error(`AnySchema ${K} is loaded but ${ee} cannot be resolved`)}function I(K){return k.apply(this,arguments)}function k(){return(k=t(function*(K){const ee=yield Z.call(this,K);this.refs[K]||(yield Y.call(this,ee.$schema)),this.refs[K]||this.addSchema(ee,K,O)})).apply(this,arguments)}function Z(K){return Q.apply(this,arguments)}function Q(){return(Q=t(function*(K){const ee=this._loading[K];if(ee)return ee;try{return yield this._loading[K]=o(K)}finally{delete this._loading[K]}})).apply(this,arguments)}}addSchema(j,O,o,p=this.opts.validateSchema){if(Array.isArray(j)){for(const Y of j)this.addSchema(Y,void 0,o,p);return this}let M;if("object"==typeof j){const{schemaId:Y}=this.opts;if(M=j[Y],void 0!==M&&"string"!=typeof M)throw new Error(`schema ${Y} must be string`)}return O=(0,c.normalizeId)(O||M),this._checkUnique(O),this.schemas[O]=this._addSchema(j,o,O,p,!0),this}addMetaSchema(j,O,o=this.opts.validateSchema){return this.addSchema(j,O,!0,o),this}validateSchema(j,O){if("boolean"==typeof j)return!0;let o;if(o=j.$schema,void 0!==o&&"string"!=typeof o)throw new Error("$schema must be a string");if(o=o||this.opts.defaultMeta||this.defaultMeta(),!o)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const p=this.validate(o,j);if(!p&&O){const M="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(M);this.logger.error(M)}return p}getSchema(j){let O;for(;"string"==typeof(O=v.call(this,j));)j=O;if(void 0===O){const{schemaId:o}=this.opts,p=new f.SchemaEnv({schema:{},schemaId:o});if(O=f.resolveSchema.call(this,p,j),!O)return;this.refs[j]=O}return O.validate||this._compileSchemaEnv(O)}removeSchema(j){if(j instanceof RegExp)return this._removeAllSchemas(this.schemas,j),this._removeAllSchemas(this.refs,j),this;switch(typeof j){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const O=v.call(this,j);return"object"==typeof O&&this._cache.delete(O.schema),delete this.schemas[j],delete this.refs[j],this}case"object":{this._cache.delete(j);let o=j[this.opts.schemaId];return o&&(o=(0,c.normalizeId)(o),delete this.schemas[o],delete this.refs[o]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(j){for(const O of j)this.addKeyword(O);return this}addKeyword(j,O){let o;if("string"==typeof j)o=j,"object"==typeof O&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),O.keyword=o);else{if("object"!=typeof j||void 0!==O)throw new Error("invalid addKeywords parameters");if(o=(O=j).keyword,Array.isArray(o)&&!o.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(ue.call(this,o,O),!O)return(0,E.eachItem)(o,M=>he.call(this,M)),this;Ce.call(this,O);const p={...O,type:(0,_.getJSONTypes)(O.type),schemaType:(0,_.getJSONTypes)(O.schemaType)};return(0,E.eachItem)(o,0===p.type.length?M=>he.call(this,M,p):M=>p.type.forEach(Y=>he.call(this,M,p,Y))),this}getKeyword(j){const O=this.RULES.all[j];return"object"==typeof O?O.definition:!!O}removeKeyword(j){const{RULES:O}=this;delete O.keywords[j],delete O.all[j];for(const o of O.rules){const p=o.rules.findIndex(M=>M.keyword===j);p>=0&&o.rules.splice(p,1)}return this}addFormat(j,O){return"string"==typeof O&&(O=new RegExp(O)),this.formats[j]=O,this}errorsText(j=this.errors,{separator:O=", ",dataVar:o="data"}={}){return j&&0!==j.length?j.map(p=>`${o}${p.instancePath} ${p.message}`).reduce((p,M)=>p+O+M):"No errors"}$dataMetaSchema(j,O){const o=this.RULES.all;j=JSON.parse(JSON.stringify(j));for(const p of O){const M=p.split("/").slice(1);let Y=j;for(const x of M)Y=Y[x];for(const x in o){const re=o[x];if("object"!=typeof re)continue;const{$data:Ee}=re.definition,Ne=Y[x];Ee&&Ne&&(Y[x]=Oe(Ne))}}return j}_removeAllSchemas(j,O){for(const o in j){const p=j[o];(!O||O.test(o))&&("string"==typeof p?delete j[o]:p&&!p.meta&&(this._cache.delete(p.schema),delete j[o]))}}_addSchema(j,O,o,p=this.opts.validateSchema,M=this.opts.addUsedSchema){let Y;const{schemaId:x}=this.opts;if("object"==typeof j)Y=j[x];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof j)throw new Error("schema must be object or boolean")}let re=this._cache.get(j);if(void 0!==re)return re;o=(0,c.normalizeId)(Y||o);const Ee=c.getSchemaRefs.call(this,j,o);return re=new f.SchemaEnv({schema:j,schemaId:x,meta:O,baseId:o,localRefs:Ee}),this._cache.set(re.schema,re),M&&!o.startsWith("#")&&(o&&this._checkUnique(o),this.refs[o]=re),p&&this.validateSchema(j,!0),re}_checkUnique(j){if(this.schemas[j]||this.refs[j])throw new Error(`schema with key or id "${j}" already exists`)}_compileSchemaEnv(j){if(j.meta?this._compileMetaSchema(j):f.compileSchema.call(this,j),!j.validate)throw new Error("ajv implementation error");return j.validate}_compileMetaSchema(j){const O=this.opts;this.opts=this._metaOpts;try{f.compileSchema.call(this,j)}finally{this.opts=O}}}function g(G,j,O,o="error"){for(const p in G)p in j&&this.logger[o](`${O}: option ${p}. ${G[p]}`)}function v(G){return G=(0,c.normalizeId)(G),this.schemas[G]||this.refs[G]}function $(){const G=this.opts.schemas;if(G)if(Array.isArray(G))this.addSchema(G);else for(const j in G)this.addSchema(G[j],j)}function F(){for(const G in this.opts.formats){const j=this.opts.formats[G];j&&this.addFormat(G,j)}}function z(G){if(Array.isArray(G))this.addVocabulary(G);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const j in G){const O=G[j];O.keyword||(O.keyword=j),this.addKeyword(O)}}}function H(){const G={...this.opts};for(const j of D)delete G[j];return G}r.default=A,A.ValidationError=m.default,A.MissingRefError=b.default;const B={log(){},warn(){},error(){}},te=/^[a-z_$][a-z0-9_$:-]*$/i;function ue(G,j){const{RULES:O}=this;if((0,E.eachItem)(G,o=>{if(O.keywords[o])throw new Error(`Keyword ${o} is already defined`);if(!te.test(o))throw new Error(`Keyword ${o} has invalid name`)}),j&&j.$data&&!("code"in j)&&!("validate"in j))throw new Error('$data keyword must have "code" or "validate" function')}function he(G,j,O){var o;const p=j?.post;if(O&&p)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:M}=this;let Y=p?M.post:M.rules.find(({type:re})=>re===O);if(Y||(Y={type:O,rules:[]},M.rules.push(Y)),M.keywords[G]=!0,!j)return;const x={keyword:G,definition:{...j,type:(0,_.getJSONTypes)(j.type),schemaType:(0,_.getJSONTypes)(j.schemaType)}};j.before?Te.call(this,Y,x,j.before):Y.rules.push(x),M.all[G]=x,null===(o=j.implements)||void 0===o||o.forEach(re=>this.addKeyword(re))}function Te(G,j,O){const o=G.rules.findIndex(p=>p.keyword===O);o>=0?G.rules.splice(o,0,j):(G.rules.push(j),this.logger.warn(`rule ${O} is not defined`))}function Ce(G){let{metaSchema:j}=G;void 0!==j&&(G.$data&&this.opts.$data&&(j=Oe(j)),G.validateSchema=this.compile(j,!0))}const ce={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Oe(G){return{anyOf:[G,ce]}}},834:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(2559);t.code='require("ajv/dist/runtime/equal").default',r.default=t},6344:(W,r)=>{"use strict";function s(t){const n=t.length;let b,e=0,m=0;for(;m<n;)e++,b=t.charCodeAt(m++),b>=55296&&b<=56319&&m<n&&(b=t.charCodeAt(m),56320==(64512&b)&&m++);return e}Object.defineProperty(r,"__esModule",{value:!0}),r.default=s,s.code='require("ajv/dist/runtime/ucs2length").default'},1364:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6482);t.code='require("ajv/dist/runtime/uri").default',r.default=t},496:(W,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});class s extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}r.default=s},9282:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateAdditionalItems=void 0;const t=s(6382),n=s(7990),m={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:i}})=>t.str`must NOT have more than ${i} items`,params:({params:{len:i}})=>t._`{limit: ${i}}`},code(i){const{parentSchema:f,it:a}=i,{items:c}=f;Array.isArray(c)?b(i,c):(0,n.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas')}};function b(i,f){const{gen:a,schema:c,data:_,keyword:E,it:R}=i;R.items=!0;const T=a.const("len",t._`${_}.length`);if(!1===c)i.setParams({len:f.length}),i.pass(t._`${T} <= ${f.length}`);else if("object"==typeof c&&!(0,n.alwaysValidSchema)(R,c)){const D=a.var("valid",t._`${T} <= ${f.length}`);a.if((0,t.not)(D),()=>function C(D){a.forRange("i",f.length,T,d=>{i.subschema({keyword:E,dataProp:d,dataPropType:n.Type.Num},D),R.allErrors||a.if((0,t.not)(D),()=>a.break())})}(D)),i.ok(D)}}r.validateAdditionalItems=b,r.default=m},5459:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(2812),n=s(6382),e=s(5976),m=s(7990);r.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:f})=>n._`{additionalProperty: ${f.additionalProperty}}`},code(f){const{gen:a,schema:c,parentSchema:_,data:E,errsCount:R,it:T}=f;if(!R)throw new Error("ajv implementation error");const{allErrors:C,opts:D}=T;if(T.props=!0,"all"!==D.removeAdditional&&(0,m.alwaysValidSchema)(T,c))return;const d=(0,t.allSchemaProperties)(_.properties),l=(0,t.allSchemaProperties)(_.patternProperties);function y(v){a.code(n._`delete ${E}[${v}]`)}function A(v){if("all"===D.removeAdditional||D.removeAdditional&&!1===c)y(v);else{if(!1===c)return f.setParams({additionalProperty:v}),f.error(),void(C||a.break());if("object"==typeof c&&!(0,m.alwaysValidSchema)(T,c)){const $=a.name("valid");"failing"===D.removeAdditional?(g(v,$,!1),a.if((0,n.not)($),()=>{f.reset(),y(v)})):(g(v,$),C||a.if((0,n.not)($),()=>a.break()))}}}function g(v,$,F){const z={keyword:"additionalProperties",dataProp:v,dataPropType:m.Type.Str};!1===F&&Object.assign(z,{compositeRule:!0,createErrors:!1,allErrors:!1}),f.subschema(z,$)}(function P(){a.forIn("key",E,v=>{d.length||l.length?a.if(function h(v){let $;if(d.length>8){const F=(0,m.schemaRefOrVal)(T,_.properties,"properties");$=(0,t.isOwnProperty)(a,F,v)}else $=d.length?(0,n.or)(...d.map(F=>n._`${v} === ${F}`)):n.nil;return l.length&&($=(0,n.or)($,...l.map(F=>n._`${(0,t.usePattern)(f,F)}.test(${v})`))),(0,n.not)($)}(v),()=>A(v)):A(v)})})(),f.ok(n._`${R} === ${e.default.errors}`)}}},6186:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(7990);r.default={keyword:"allOf",schemaType:"array",code(e){const{gen:m,schema:b,it:i}=e;if(!Array.isArray(b))throw new Error("ajv implementation error");const f=m.name("valid");b.forEach((a,c)=>{if((0,t.alwaysValidSchema)(i,a))return;const _=e.subschema({keyword:"allOf",schemaProp:c},f);e.ok(f),e.mergeEvaluated(_)})}}},290:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:s(2812).validateUnion,error:{message:"must match a schema in anyOf"}};r.default=n},5738:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990);r.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:b,max:i}})=>void 0===i?t.str`must contain at least ${b} valid item(s)`:t.str`must contain at least ${b} and no more than ${i} valid item(s)`,params:({params:{min:b,max:i}})=>void 0===i?t._`{minContains: ${b}}`:t._`{minContains: ${b}, maxContains: ${i}}`},code(b){const{gen:i,schema:f,parentSchema:a,data:c,it:_}=b;let E,R;const{minContains:T,maxContains:C}=a;_.opts.next?(E=void 0===T?1:T,R=C):E=1;const D=i.const("len",t._`${c}.length`);if(b.setParams({min:E,max:R}),void 0===R&&0===E)return void(0,n.checkStrictMode)(_,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==R&&E>R)return(0,n.checkStrictMode)(_,'"minContains" > "maxContains" is always invalid'),void b.fail();if((0,n.alwaysValidSchema)(_,f)){let y=t._`${D} >= ${E}`;return void 0!==R&&(y=t._`${y} && ${D} <= ${R}`),void b.pass(y)}_.items=!0;const d=i.name("valid");function l(){const y=i.name("_valid"),A=i.let("count",0);P(y,()=>i.if(y,()=>function h(y){i.code(t._`${y}++`),void 0===R?i.if(t._`${y} >= ${E}`,()=>i.assign(d,!0).break()):(i.if(t._`${y} > ${R}`,()=>i.assign(d,!1).break()),1===E?i.assign(d,!0):i.if(t._`${y} >= ${E}`,()=>i.assign(d,!0)))}(A)))}function P(y,A){i.forRange("i",0,D,g=>{b.subschema({keyword:"contains",dataProp:g,dataPropType:n.Type.Num,compositeRule:!0},y),A()})}void 0===R&&1===E?P(d,()=>i.if(d,()=>i.break())):0===E?(i.let(d,!0),void 0!==R&&i.if(t._`${c}.length > 0`,l)):(i.let(d,!1),l()),b.result(d,()=>b.reset())}}},1886:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateSchemaDeps=r.validatePropertyDeps=r.error=void 0;const t=s(6382),n=s(7990),e=s(2812);r.error={message:({params:{property:a,depsCount:c,deps:_}})=>t.str`must have ${1===c?"property":"properties"} ${_} when property ${a} is present`,params:({params:{property:a,depsCount:c,deps:_,missingProperty:E}})=>t._`{property: ${a},
    missingProperty: ${E},
    depsCount: ${c},
    deps: ${_}}`};const m={keyword:"dependencies",type:"object",schemaType:"object",error:r.error,code(a){const[c,_]=function b({schema:a}){const c={},_={};for(const E in a)"__proto__"!==E&&((Array.isArray(a[E])?c:_)[E]=a[E]);return[c,_]}(a);i(a,c),f(a,_)}};function i(a,c=a.schema){const{gen:_,data:E,it:R}=a;if(0===Object.keys(c).length)return;const T=_.let("missing");for(const C in c){const D=c[C];if(0===D.length)continue;const d=(0,e.propertyInData)(_,E,C,R.opts.ownProperties);a.setParams({property:C,depsCount:D.length,deps:D.join(", ")}),R.allErrors?_.if(d,()=>{for(const l of D)(0,e.checkReportMissingProp)(a,l)}):(_.if(t._`${d} && (${(0,e.checkMissingProp)(a,D,T)})`),(0,e.reportMissingProp)(a,T),_.else())}}function f(a,c=a.schema){const{gen:_,data:E,keyword:R,it:T}=a,C=_.name("valid");for(const D in c)(0,n.alwaysValidSchema)(T,c[D])||(_.if((0,e.propertyInData)(_,E,D,T.opts.ownProperties),()=>{const d=a.subschema({keyword:R,schemaProp:D},C);a.mergeValidEvaluated(d,C)},()=>_.var(C,!0)),a.ok(C))}r.validatePropertyDeps=i,r.validateSchemaDeps=f,r.default=m},3632:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990);function b(i,f){const a=i.schema[f];return void 0!==a&&!(0,n.alwaysValidSchema)(i,a)}r.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:i})=>t.str`must match "${i.ifClause}" schema`,params:({params:i})=>t._`{failingKeyword: ${i.ifClause}}`},code(i){const{gen:f,parentSchema:a,it:c}=i;void 0===a.then&&void 0===a.else&&(0,n.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const _=b(c,"then"),E=b(c,"else");if(!_&&!E)return;const R=f.let("valid",!0),T=f.name("_valid");if(function C(){const d=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},T);i.mergeEvaluated(d)}(),i.reset(),_&&E){const d=f.let("ifClause");i.setParams({ifClause:d}),f.if(T,D("then",d),D("else",d))}else _?f.if(T,D("then")):f.if((0,t.not)(T),D("else"));function D(d,l){return()=>{const P=i.subschema({keyword:d},T);f.assign(R,T),i.mergeValidEvaluated(P,R),l?f.assign(l,t._`${d}`):i.setParams({ifClause:d})}}i.pass(R,()=>i.error(!0))}}},7737:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(9282),n=s(4947),e=s(9180),m=s(1785),b=s(5738),i=s(1886),f=s(7947),a=s(5459),c=s(8415),_=s(896),E=s(6330),R=s(290),T=s(2337),C=s(6186),D=s(3632),d=s(1344);r.default=function l(P=!1){const h=[E.default,R.default,T.default,C.default,D.default,d.default,f.default,a.default,i.default,c.default,_.default];return P?h.push(n.default,m.default):h.push(t.default,e.default),h.push(b.default),h}},9180:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateTuple=void 0;const t=s(6382),n=s(7990),e=s(2812),m={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:f,it:a}=i;if(Array.isArray(f))return b(i,"additionalItems",f);a.items=!0,!(0,n.alwaysValidSchema)(a,f)&&i.ok((0,e.validateArray)(i))}};function b(i,f,a=i.schema){const{gen:c,parentSchema:_,data:E,keyword:R,it:T}=i;(function d(l){const{opts:P,errSchemaPath:h}=T,y=a.length;P.strictTuples&&!(y===l.minItems&&(y===l.maxItems||!1===l[f]))&&(0,n.checkStrictMode)(T,`"${R}" is ${y}-tuple, but minItems or maxItems/${f} are not specified or different at path "${h}"`,P.strictTuples)})(_),T.opts.unevaluated&&a.length&&!0!==T.items&&(T.items=n.mergeEvaluated.items(c,a.length,T.items));const C=c.name("valid"),D=c.const("len",t._`${E}.length`);a.forEach((l,P)=>{(0,n.alwaysValidSchema)(T,l)||(c.if(t._`${D} > ${P}`,()=>i.subschema({keyword:R,schemaProp:P,dataProp:P},C)),i.ok(C))})}r.validateTuple=b,r.default=m},1785:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990),e=s(2812),m=s(9282);r.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:f}})=>t.str`must NOT have more than ${f} items`,params:({params:{len:f}})=>t._`{limit: ${f}}`},code(f){const{schema:a,parentSchema:c,it:_}=f,{prefixItems:E}=c;_.items=!0,!(0,n.alwaysValidSchema)(_,a)&&(E?(0,m.validateAdditionalItems)(f,E):f.ok((0,e.validateArray)(f)))}}},6330:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(7990);r.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:m,schema:b,it:i}=e;if((0,t.alwaysValidSchema)(i,b))return void e.fail();const f=m.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},f),e.failResult(f,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}}},2337:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990);r.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:b})=>t._`{passingSchemas: ${b.passing}}`},code(b){const{gen:i,schema:f,parentSchema:a,it:c}=b;if(!Array.isArray(f))throw new Error("ajv implementation error");if(c.opts.discriminator&&a.discriminator)return;const _=f,E=i.let("valid",!1),R=i.let("passing",null),T=i.name("_valid");b.setParams({passing:R}),i.block(function C(){_.forEach((D,d)=>{let l;(0,n.alwaysValidSchema)(c,D)?i.var(T,!0):l=b.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},T),d>0&&i.if(t._`${T} && ${E}`).assign(E,!1).assign(R,t._`[${R}, ${d}]`).else(),i.if(T,()=>{i.assign(E,!0),i.assign(R,d),l&&b.mergeEvaluated(l,t.Name)})})}),b.result(E,()=>b.reset(),()=>b.error(!0))}}},896:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(2812),n=s(6382),e=s(7990),m=s(7990);r.default={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:f,schema:a,data:c,parentSchema:_,it:E}=i,{opts:R}=E,T=(0,t.allSchemaProperties)(a),C=T.filter(A=>(0,e.alwaysValidSchema)(E,a[A]));if(0===T.length||C.length===T.length&&(!E.opts.unevaluated||!0===E.props))return;const D=R.strictSchema&&!R.allowMatchingProperties&&_.properties,d=f.name("valid");!0!==E.props&&!(E.props instanceof n.Name)&&(E.props=(0,m.evaluatedPropsToName)(f,E.props));const{props:l}=E;function h(A){for(const g in D)new RegExp(A).test(g)&&(0,e.checkStrictMode)(E,`property ${g} matches pattern ${A} (use allowMatchingProperties)`)}function y(A){f.forIn("key",c,g=>{f.if(n._`${(0,t.usePattern)(i,A)}.test(${g})`,()=>{const v=C.includes(A);v||i.subschema({keyword:"patternProperties",schemaProp:A,dataProp:g,dataPropType:m.Type.Str},d),E.opts.unevaluated&&!0!==l?f.assign(n._`${l}[${g}]`,!0):!v&&!E.allErrors&&f.if((0,n.not)(d),()=>f.break())})})}!function P(){for(const A of T)D&&h(A),E.allErrors?y(A):(f.var(d,!0),y(A),f.if(d))}()}}},4947:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(9180);r.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,t.validateTuple)(e,"items")}},8415:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6764),n=s(2812),e=s(7990),m=s(5459);r.default={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:f,schema:a,parentSchema:c,data:_,it:E}=i;"all"===E.opts.removeAdditional&&void 0===c.additionalProperties&&m.default.code(new t.KeywordCxt(E,m.default,"additionalProperties"));const R=(0,n.allSchemaProperties)(a);for(const l of R)E.definedProperties.add(l);E.opts.unevaluated&&R.length&&!0!==E.props&&(E.props=e.mergeEvaluated.props(f,(0,e.toHash)(R),E.props));const T=R.filter(l=>!(0,e.alwaysValidSchema)(E,a[l]));if(0===T.length)return;const C=f.name("valid");for(const l of T)D(l)?d(l):(f.if((0,n.propertyInData)(f,_,l,E.opts.ownProperties)),d(l),E.allErrors||f.else().var(C,!0),f.endIf()),i.it.definedProperties.add(l),i.ok(C);function D(l){return E.opts.useDefaults&&!E.compositeRule&&void 0!==a[l].default}function d(l){i.subschema({keyword:"properties",schemaProp:l,dataProp:l},C)}}}},7947:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990);r.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:b})=>t._`{propertyName: ${b.propertyName}}`},code(b){const{gen:i,schema:f,data:a,it:c}=b;if((0,n.alwaysValidSchema)(c,f))return;const _=i.name("valid");i.forIn("key",a,E=>{b.setParams({propertyName:E}),b.subschema({keyword:"propertyNames",data:E,dataTypes:["string"],propertyName:E,compositeRule:!0},_),i.if((0,t.not)(_),()=>{b.error(!0),c.allErrors||i.break()})}),b.ok(_)}}},1344:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(7990);r.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:m,it:b}){void 0===m.if&&(0,t.checkStrictMode)(b,`"${e}" without "if" is ignored`)}}},2812:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateUnion=r.validateArray=r.usePattern=r.callValidateCode=r.schemaProperties=r.allSchemaProperties=r.noPropertyInData=r.propertyInData=r.isOwnProperty=r.hasPropFunc=r.reportMissingProp=r.checkMissingProp=r.checkReportMissingProp=void 0;const t=s(6382),n=s(7990),e=s(5976),m=s(7990);function a(h){return h.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:t._`Object.prototype.hasOwnProperty`})}function c(h,y,A){return t._`${a(h)}.call(${y}, ${A})`}function E(h,y,A,g){const v=t._`${y}${(0,t.getProperty)(A)} === undefined`;return g?(0,t.or)(v,(0,t.not)(c(h,y,A))):v}function R(h){return h?Object.keys(h).filter(y=>"__proto__"!==y):[]}r.checkReportMissingProp=function b(h,y){const{gen:A,data:g,it:v}=h;A.if(E(A,g,y,v.opts.ownProperties),()=>{h.setParams({missingProperty:t._`${y}`},!0),h.error()})},r.checkMissingProp=function i({gen:h,data:y,it:{opts:A}},g,v){return(0,t.or)(...g.map($=>(0,t.and)(E(h,y,$,A.ownProperties),t._`${v} = ${$}`)))},r.reportMissingProp=function f(h,y){h.setParams({missingProperty:y},!0),h.error()},r.hasPropFunc=a,r.isOwnProperty=c,r.propertyInData=function _(h,y,A,g){const v=t._`${y}${(0,t.getProperty)(A)} !== undefined`;return g?t._`${v} && ${c(h,y,A)}`:v},r.noPropertyInData=E,r.allSchemaProperties=R,r.schemaProperties=function T(h,y){return R(y).filter(A=>!(0,n.alwaysValidSchema)(h,y[A]))},r.callValidateCode=function C({schemaCode:h,data:y,it:{gen:A,topSchemaRef:g,schemaPath:v,errorPath:$},it:F},z,H,B){const ae=B?t._`${h}, ${y}, ${g}${v}`:y,te=[[e.default.instancePath,(0,t.strConcat)(e.default.instancePath,$)],[e.default.parentData,F.parentData],[e.default.parentDataProperty,F.parentDataProperty],[e.default.rootData,e.default.rootData]];F.opts.dynamicRef&&te.push([e.default.dynamicAnchors,e.default.dynamicAnchors]);const ue=t._`${ae}, ${A.object(...te)}`;return H!==t.nil?t._`${z}.call(${H}, ${ue})`:t._`${z}(${ue})`};const D=t._`new RegExp`;r.usePattern=function d({gen:h,it:{opts:y}},A){const g=y.unicodeRegExp?"u":"",{regExp:v}=y.code,$=v(A,g);return h.scopeValue("pattern",{key:$.toString(),ref:$,code:t._`${"new RegExp"===v.code?D:(0,m.useFunc)(h,v)}(${A}, ${g})`})},r.validateArray=function l(h){const{gen:y,data:A,keyword:g,it:v}=h,$=y.name("valid");if(v.allErrors){const z=y.let("valid",!0);return F(()=>y.assign(z,!1)),z}return y.var($,!0),F(()=>y.break()),$;function F(z){const H=y.const("len",t._`${A}.length`);y.forRange("i",0,H,B=>{h.subschema({keyword:g,dataProp:B,dataPropType:n.Type.Num},$),y.if((0,t.not)($),z)})}},r.validateUnion=function P(h){const{gen:y,schema:A,keyword:g,it:v}=h;if(!Array.isArray(A))throw new Error("ajv implementation error");if(A.some(H=>(0,n.alwaysValidSchema)(v,H))&&!v.opts.unevaluated)return;const F=y.let("valid",!1),z=y.name("_valid");y.block(()=>A.forEach((H,B)=>{const ae=h.subschema({keyword:g,schemaProp:B,compositeRule:!0},z);y.assign(F,t._`${F} || ${z}`),h.mergeValidEvaluated(ae,z)||y.if((0,t.not)(F))})),h.result(F,()=>h.reset(),()=>h.error(!0))}},1167:(W,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},1093:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(1167),n=s(4703);r.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,n.default]},4703:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.callRef=r.getValidate=void 0;const t=s(140),n=s(2812),e=s(6382),m=s(5976),b=s(7140),i=s(7990),f={keyword:"$ref",schemaType:"string",code(_){const{gen:E,schema:R,it:T}=_,{baseId:C,schemaEnv:D,validateName:d,opts:l,self:P}=T,{root:h}=D;if(("#"===R||"#/"===R)&&C===h.baseId)return function A(){if(D===h)return c(_,d,D,D.$async);const $=E.scopeValue("root",{ref:h});return c(_,e._`${$}.validate`,h,h.$async)}();const y=b.resolveRef.call(P,h,C,R);if(void 0===y)throw new t.default(T.opts.uriResolver,C,R);return y instanceof b.SchemaEnv?function g($){const F=a(_,$);c(_,F,$,$.$async)}(y):function v($){const F=E.scopeValue("schema",!0===l.code.source?{ref:$,code:(0,e.stringify)($)}:{ref:$}),z=E.name("valid"),H=_.subschema({schema:$,dataTypes:[],schemaPath:e.nil,topSchemaRef:F,errSchemaPath:R},z);_.mergeEvaluated(H),_.ok(z)}(y)}};function a(_,E){const{gen:R}=_;return E.validate?R.scopeValue("validate",{ref:E.validate}):e._`${R.scopeValue("wrapper",{ref:E})}.validate`}function c(_,E,R,T){const{gen:C,it:D}=_,{allErrors:d,schemaEnv:l,opts:P}=D,h=P.passContext?m.default.this:e.nil;function g($){const F=e._`${$}.errors`;C.assign(m.default.vErrors,e._`${m.default.vErrors} === null ? ${F} : ${m.default.vErrors}.concat(${F})`),C.assign(m.default.errors,e._`${m.default.vErrors}.length`)}function v($){var F;if(!D.opts.unevaluated)return;const z=null===(F=R?.validate)||void 0===F?void 0:F.evaluated;if(!0!==D.props)if(z&&!z.dynamicProps)void 0!==z.props&&(D.props=i.mergeEvaluated.props(C,z.props,D.props));else{const H=C.var("props",e._`${$}.evaluated.props`);D.props=i.mergeEvaluated.props(C,H,D.props,e.Name)}if(!0!==D.items)if(z&&!z.dynamicItems)void 0!==z.items&&(D.items=i.mergeEvaluated.items(C,z.items,D.items));else{const H=C.var("items",e._`${$}.evaluated.items`);D.items=i.mergeEvaluated.items(C,H,D.items,e.Name)}}T?function y(){if(!l.$async)throw new Error("async schema referenced by sync schema");const $=C.let("valid");C.try(()=>{C.code(e._`await ${(0,n.callValidateCode)(_,E,h)}`),v(E),d||C.assign($,!0)},F=>{C.if(e._`!(${F} instanceof ${D.ValidationError})`,()=>C.throw(F)),g(F),d||C.assign($,!1)}),_.ok($)}():function A(){_.result((0,n.callValidateCode)(_,E,h),()=>v(E),()=>g(E))}()}r.getValidate=a,r.callRef=c,r.default=f},1849:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(797),e=s(7140),m=s(7990);r.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:f,tagName:a}})=>f===n.DiscrError.Tag?`tag "${a}" must be string`:`value of tag "${a}" must be in oneOf`,params:({params:{discrError:f,tag:a,tagName:c}})=>t._`{error: ${f}, tag: ${c}, tagValue: ${a}}`},code(f){const{gen:a,data:c,schema:_,parentSchema:E,it:R}=f,{oneOf:T}=E;if(!R.opts.discriminator)throw new Error("discriminator: requires discriminator option");const C=_.propertyName;if("string"!=typeof C)throw new Error("discriminator: requires propertyName");if(_.mapping)throw new Error("discriminator: mapping is not supported");if(!T)throw new Error("discriminator: requires oneOf keyword");const D=a.let("valid",!1),d=a.const("tag",t._`${c}${(0,t.getProperty)(C)}`);function P(y){const A=a.name("valid"),g=f.subschema({keyword:"oneOf",schemaProp:y},A);return f.mergeEvaluated(g,t.Name),A}a.if(t._`typeof ${d} == "string"`,()=>function l(){const y=function h(){var y;const A={},g=$(E);let v=!0;for(let H=0;H<T.length;H++){let B=T[H];B?.$ref&&!(0,m.schemaHasRulesButRef)(B,R.self.RULES)&&(B=e.resolveRef.call(R.self,R.schemaEnv.root,R.baseId,B?.$ref),B instanceof e.SchemaEnv&&(B=B.schema));const ae=null===(y=B?.properties)||void 0===y?void 0:y[C];if("object"!=typeof ae)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${C}"`);v=v&&(g||$(B)),F(ae,H)}if(!v)throw new Error(`discriminator: "${C}" must be required`);return A;function $({required:H}){return Array.isArray(H)&&H.includes(C)}function F(H,B){if(H.const)z(H.const,B);else{if(!H.enum)throw new Error(`discriminator: "properties/${C}" must have "const" or "enum"`);for(const ae of H.enum)z(ae,B)}}function z(H,B){if("string"!=typeof H||H in A)throw new Error(`discriminator: "${C}" values must be unique strings`);A[H]=B}}();a.if(!1);for(const A in y)a.elseIf(t._`${d} === ${A}`),a.assign(D,P(y[A]));a.else(),f.error(!1,{discrError:n.DiscrError.Mapping,tag:d,tagName:C}),a.endIf()}(),()=>f.error(!1,{discrError:n.DiscrError.Tag,tag:d,tagName:C})),f.ok(D)}}},797:(W,r)=>{"use strict";var t;Object.defineProperty(r,"__esModule",{value:!0}),r.DiscrError=void 0,(t=r.DiscrError||(r.DiscrError={})).Tag="tag",t.Mapping="mapping"},7032:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(1093),n=s(7887),e=s(7737),m=s(7447),b=s(760),i=[t.default,n.default,(0,e.default)(),m.default,b.metadataVocabulary,b.contentVocabulary];r.default=i},2364:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382);r.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:m})=>t.str`must match format "${m}"`,params:({schemaCode:m})=>t._`{format: ${m}}`},code(m,b){const{gen:i,data:f,$data:a,schema:c,schemaCode:_,it:E}=m,{opts:R,errSchemaPath:T,schemaEnv:C,self:D}=E;R.validateFormats&&(a?function d(){const P=i.scopeValue("formats",{ref:D.formats,code:R.code.formats}),h=i.const("fDef",t._`${P}[${_}]`),y=i.let("fType"),A=i.let("format");i.if(t._`typeof ${h} == "object" && !(${h} instanceof RegExp)`,()=>i.assign(y,t._`${h}.type || "string"`).assign(A,t._`${h}.validate`),()=>i.assign(y,t._`"string"`).assign(A,h)),m.fail$data((0,t.or)(function g(){return!1===R.strictSchema?t.nil:t._`${_} && !${A}`}(),function v(){const $=C.$async?t._`(${h}.async ? await ${A}(${f}) : ${A}(${f}))`:t._`${A}(${f})`,F=t._`(typeof ${A} == "function" ? ${$} : ${A}.test(${f}))`;return t._`${A} && ${A} !== true && ${y} === ${b} && !${F}`}()))}():function l(){const P=D.formats[c];if(!P)return void function g(){if(!1!==R.strictSchema)throw new Error(F());function F(){return`unknown format "${c}" ignored in schema at path "${T}"`}D.logger.warn(F())}();if(!0===P)return;const[h,y,A]=function v(F){const z=F instanceof RegExp?(0,t.regexpCode)(F):R.code.formats?t._`${R.code.formats}${(0,t.getProperty)(c)}`:void 0,H=i.scopeValue("formats",{key:c,ref:F,code:z});return"object"!=typeof F||F instanceof RegExp?["string",F,H]:[F.type||"string",F.validate,t._`${H}.validate`]}(P);h===b&&m.pass(function $(){if("object"==typeof P&&!(P instanceof RegExp)&&P.async){if(!C.$async)throw new Error("async format in sync schema");return t._`await ${A}(${f})`}return"function"==typeof y?t._`${A}(${f})`:t._`${A}.test(${f})`}())}())}}},7447:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=[s(2364).default];r.default=n},760:(W,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.contentVocabulary=r.metadataVocabulary=void 0,r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},7677:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990),e=s(834);r.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:i})=>t._`{allowedValue: ${i}}`},code(i){const{gen:f,data:a,$data:c,schemaCode:_,schema:E}=i;c||E&&"object"==typeof E?i.fail$data(t._`!${(0,n.useFunc)(f,e.default)}(${a}, ${_})`):i.fail(t._`${E} !== ${a}`)}}},8373:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990),e=s(834);r.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:i})=>t._`{allowedValues: ${i}}`},code(i){const{gen:f,data:a,$data:c,schema:_,schemaCode:E,it:R}=i;if(!c&&0===_.length)throw new Error("enum must have non-empty array");let C;const D=()=>C??(C=(0,n.useFunc)(f,e.default));let d;if(_.length>=R.opts.loopEnum||c)d=f.let("valid"),i.block$data(d,function l(){f.assign(d,!1),f.forOf("v",E,h=>f.if(t._`${D()}(${a}, ${h})`,()=>f.assign(d,!0).break()))});else{if(!Array.isArray(_))throw new Error("ajv implementation error");const h=f.const("vSchema",E);d=(0,t.or)(..._.map((y,A)=>function P(h,y){const A=_[y];return"object"==typeof A&&null!==A?t._`${D()}(${a}, ${h}[${y}])`:t._`${a} === ${A}`}(h,A)))}i.pass(d)}}},7887:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(7126),n=s(2018),e=s(6230),m=s(8455),b=s(5608),i=s(109),f=s(5132),a=s(4097),c=s(7677),_=s(8373);r.default=[t.default,n.default,e.default,m.default,b.default,i.default,f.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,_.default]},5132:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382);r.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:m,schemaCode:b})=>t.str`must NOT have ${"maxItems"===m?"more":"fewer"} than ${b} items`,params:({schemaCode:m})=>t._`{limit: ${m}}`},code(m){const{keyword:b,data:i,schemaCode:f}=m;m.fail$data(t._`${i}.length ${"maxItems"===b?t.operators.GT:t.operators.LT} ${f}`)}}},6230:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990),e=s(6344);r.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:i,schemaCode:f})=>t.str`must NOT have ${"maxLength"===i?"more":"fewer"} than ${f} characters`,params:({schemaCode:i})=>t._`{limit: ${i}}`},code(i){const{keyword:f,data:a,schemaCode:c,it:_}=i,E="maxLength"===f?t.operators.GT:t.operators.LT,R=!1===_.opts.unicode?t._`${a}.length`:t._`${(0,n.useFunc)(i.gen,e.default)}(${a})`;i.fail$data(t._`${R} ${E} ${c}`)}}},7126:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=t.operators,e={maximum:{okStr:"<=",ok:n.LTE,fail:n.GT},minimum:{okStr:">=",ok:n.GTE,fail:n.LT},exclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},exclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},m={message:({keyword:i,schemaCode:f})=>t.str`must be ${e[i].okStr} ${f}`,params:({keyword:i,schemaCode:f})=>t._`{comparison: ${e[i].okStr}, limit: ${f}}`},b={keyword:Object.keys(e),type:"number",schemaType:"number",$data:!0,error:m,code(i){const{keyword:f,data:a,schemaCode:c}=i;i.fail$data(t._`${a} ${e[f].fail} ${c} || isNaN(${a})`)}};r.default=b},5608:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382);r.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:m,schemaCode:b})=>t.str`must NOT have ${"maxProperties"===m?"more":"fewer"} than ${b} properties`,params:({schemaCode:m})=>t._`{limit: ${m}}`},code(m){const{keyword:b,data:i,schemaCode:f}=m;m.fail$data(t._`Object.keys(${i}).length ${"maxProperties"===b?t.operators.GT:t.operators.LT} ${f}`)}}},2018:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382);r.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:m})=>t.str`must be multiple of ${m}`,params:({schemaCode:m})=>t._`{multipleOf: ${m}}`},code(m){const{gen:b,data:i,schemaCode:f,it:a}=m,c=a.opts.multipleOfPrecision,_=b.let("res"),E=c?t._`Math.abs(Math.round(${_}) - ${_}) > 1e-${c}`:t._`${_} !== parseInt(${_})`;m.fail$data(t._`(${f} === 0 || (${_} = ${i}/${f}, ${E}))`)}}},8455:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(2812),n=s(6382);r.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:b})=>n.str`must match pattern "${b}"`,params:({schemaCode:b})=>n._`{pattern: ${b}}`},code(b){const{data:i,$data:f,schema:a,schemaCode:c,it:_}=b,R=f?n._`(new RegExp(${c}, ${_.opts.unicodeRegExp?"u":""}))`:(0,t.usePattern)(b,a);b.fail$data(n._`!${R}.test(${i})`)}}},109:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(2812),n=s(6382),e=s(7990);r.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:i}})=>n.str`must have required property '${i}'`,params:({params:{missingProperty:i}})=>n._`{missingProperty: ${i}}`},code(i){const{gen:f,schema:a,schemaCode:c,data:_,$data:E,it:R}=i,{opts:T}=R;if(!E&&0===a.length)return;const C=a.length>=T.loopRequired;if(R.allErrors?function D(){if(C||E)i.block$data(n.nil,l);else for(const h of a)(0,t.checkReportMissingProp)(i,h)}():function d(){const h=f.let("missing");if(C||E){const y=f.let("valid",!0);i.block$data(y,()=>function P(h,y){i.setParams({missingProperty:h}),f.forOf(h,c,()=>{f.assign(y,(0,t.propertyInData)(f,_,h,T.ownProperties)),f.if((0,n.not)(y),()=>{i.error(),f.break()})},n.nil)}(h,y)),i.ok(y)}else f.if((0,t.checkMissingProp)(i,a,h)),(0,t.reportMissingProp)(i,h),f.else()}(),T.strictRequired){const h=i.parentSchema.properties,{definedProperties:y}=i.it;for(const A of a)void 0!==h?.[A]||y.has(A)||(0,e.checkStrictMode)(R,`required property "${A}" is not defined at "${R.schemaEnv.baseId+R.errSchemaPath}" (strictRequired)`,R.opts.strictRequired)}function l(){f.forOf("prop",c,h=>{i.setParams({missingProperty:h}),f.if((0,t.noPropertyInData)(f,_,h,T.ownProperties),()=>i.error())})}}}},4097:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(9078),n=s(6382),e=s(7990),m=s(834);r.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:f,j:a}})=>n.str`must NOT have duplicate items (items ## ${a} and ${f} are identical)`,params:({params:{i:f,j:a}})=>n._`{i: ${f}, j: ${a}}`},code(f){const{gen:a,data:c,$data:_,schema:E,parentSchema:R,schemaCode:T,it:C}=f;if(!_&&!E)return;const D=a.let("valid"),d=R.items?(0,t.getSchemaTypes)(R.items):[];function h(A,g){const v=a.name("item"),$=(0,t.checkDataTypes)(d,v,C.opts.strictNumbers,t.DataType.Wrong),F=a.const("indices",n._`{}`);a.for(n._`;${A}--;`,()=>{a.let(v,n._`${c}[${A}]`),a.if($,n._`continue`),d.length>1&&a.if(n._`typeof ${v} == "string"`,n._`${v} += "_"`),a.if(n._`typeof ${F}[${v}] == "number"`,()=>{a.assign(g,n._`${F}[${v}]`),f.error(),a.assign(D,!1).break()}).code(n._`${F}[${v}] = ${A}`)})}function y(A,g){const v=(0,e.useFunc)(a,m.default),$=a.name("outer");a.label($).for(n._`;${A}--;`,()=>a.for(n._`${g} = ${A}; ${g}--;`,()=>a.if(n._`${v}(${c}[${A}], ${c}[${g}])`,()=>{f.error(),a.assign(D,!1).break($)})))}f.block$data(D,function l(){const A=a.let("i",n._`${c}.length`),g=a.let("j");f.setParams({i:A,j:g}),a.assign(D,!0),a.if(n._`${A} > 1`,()=>(function P(){return d.length>0&&!d.some(A=>"object"===A||"array"===A)}()?h:y)(A,g))},n._`${T} === false`),f.ok(D)}}},2559:W=>{"use strict";W.exports=function r(s,t){if(s===t)return!0;if(s&&t&&"object"==typeof s&&"object"==typeof t){if(s.constructor!==t.constructor)return!1;var n,e,m;if(Array.isArray(s)){if((n=s.length)!=t.length)return!1;for(e=n;0!=e--;)if(!r(s[e],t[e]))return!1;return!0}if(s.constructor===RegExp)return s.source===t.source&&s.flags===t.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===t.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===t.toString();if((n=(m=Object.keys(s)).length)!==Object.keys(t).length)return!1;for(e=n;0!=e--;)if(!Object.prototype.hasOwnProperty.call(t,m[e]))return!1;for(e=n;0!=e--;){var b=m[e];if(!r(s[b],t[b]))return!1}return!0}return s!=s&&t!=t}},3366:W=>{"use strict";var r=W.exports=function(n,e,m){"function"==typeof e&&(m=e,e={}),s(e,"function"==typeof(m=e.cb||m)?m:m.pre||function(){},m.post||function(){},n,"",n)};function s(n,e,m,b,i,f,a,c,_,E){if(b&&"object"==typeof b&&!Array.isArray(b)){for(var R in e(b,i,f,a,c,_,E),b){var T=b[R];if(Array.isArray(T)){if(R in r.arrayKeywords)for(var C=0;C<T.length;C++)s(n,e,m,T[C],i+"/"+R+"/"+C,f,i,R,b,C)}else if(R in r.propsKeywords){if(T&&"object"==typeof T)for(var D in T)s(n,e,m,T[D],i+"/"+R+"/"+t(D),f,i,R,b,D)}else(R in r.keywords||n.allKeys&&!(R in r.skipKeywords))&&s(n,e,m,T,i+"/"+R,f,i,R,b)}m(b,i,f,a,c,_,E)}}function t(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},6482:function(W,r){!function(s){"use strict";function t(){for(var S=arguments.length,u=Array(S),N=0;N<S;N++)u[N]=arguments[N];if(u.length>1){u[0]=u[0].slice(0,-1);for(var V=u.length-1,L=1;L<V;++L)u[L]=u[L].slice(1,-1);return u[V]=u[V].slice(1),u.join("")}return u[0]}function n(S){return"(?:"+S+")"}function e(S){return void 0===S?"undefined":null===S?"null":Object.prototype.toString.call(S).split(" ").pop().split("]").shift().toLowerCase()}function m(S){return S.toUpperCase()}function f(S){var u="[A-Za-z]",V="[0-9]",q=t(V,"[A-Fa-f]"),le=n(n("%[EFef]"+q+"%"+q+q+"%"+q+q)+"|"+n("%[89A-Fa-f]"+q+"%"+q+q)+"|"+n("%"+q+q)),se="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ge=t("[\\:\\/\\?\\#\\[\\]\\@]",se),ve=S?"[\\uE000-\\uF8FF]":"[]",ie=t(u,V,"[\\-\\.\\_\\~]",S?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),$e=n(u+t(u,V,"[\\+\\-\\.]")+"*"),de=n(n(le+"|"+t(ie,se,"[\\:]"))+"*"),De=(n(n("25[0-5]")+"|"+n("2[0-4]"+V)+"|"+n("1"+V+V)+"|"+n("[1-9]"+V)+"|"+V),n(n("25[0-5]")+"|"+n("2[0-4]"+V)+"|"+n("1"+V+V)+"|"+n("0?[1-9]"+V)+"|0?0?"+V)),ke=n(De+"\\."+De+"\\."+De+"\\."+De),me=n(q+"{1,4}"),je=n(n(me+"\\:"+me)+"|"+ke),Fe=n(n(me+"\\:")+"{6}"+je),Ue=n("\\:\\:"+n(me+"\\:")+"{5}"+je),Xe=n(n(me)+"?\\:\\:"+n(me+"\\:")+"{4}"+je),ze=n(n(n(me+"\\:")+"{0,1}"+me)+"?\\:\\:"+n(me+"\\:")+"{3}"+je),ut=n(n(n(me+"\\:")+"{0,2}"+me)+"?\\:\\:"+n(me+"\\:")+"{2}"+je),pt=n(n(n(me+"\\:")+"{0,3}"+me)+"?\\:\\:"+me+"\\:"+je),vt=n(n(n(me+"\\:")+"{0,4}"+me)+"?\\:\\:"+je),et=n(n(n(me+"\\:")+"{0,5}"+me)+"?\\:\\:"+me),tt=n(n(n(me+"\\:")+"{0,6}"+me)+"?\\:\\:"),He=n([Fe,Ue,Xe,ze,ut,pt,vt,et,tt].join("|")),rt=n(n(ie+"|"+le)+"+"),qe=(n(He+"\\%25"+rt),n(He+n("\\%25|\\%(?!"+q+"{2})")+rt)),It=n("[vV]"+q+"+\\."+t(ie,se,"[\\:]")+"+"),Dt=n("\\["+n(qe+"|"+He+"|"+It)+"\\]"),Tt=n(n(le+"|"+t(ie,se))+"*"),lt=n(Dt+"|"+ke+"(?!"+Tt+")|"+Tt),dt=n(V+"*"),At=n(n(de+"@")+"?"+lt+n("\\:"+dt)+"?"),ft=n(le+"|"+t(ie,se,"[\\:\\@]")),jt=n(ft+"*"),Ct=n(ft+"+"),Mt=n(n(le+"|"+t(ie,se,"[\\@]"))+"+"),Je=n(n("\\/"+jt)+"*"),nt=n("\\/"+n(Ct+Je)+"?"),Rt=n(Mt+Je),yt=n(Ct+Je),at="(?!"+ft+")",st=(n(Je+"|"+nt+"|"+Rt+"|"+yt+"|"+at),n(n(ft+"|"+t("[\\/\\?]",ve))+"*")),mt=n(n(ft+"|[\\/\\?]")+"*"),Ot=n(n("\\/\\/"+At+Je)+"|"+nt+"|"+yt+"|"+at),kt=n($e+"\\:"+Ot+n("\\?"+st)+"?"+n("\\#"+mt)+"?"),Ft=n(n("\\/\\/"+At+Je)+"|"+nt+"|"+Rt+"|"+at),Vt=n(Ft+n("\\?"+st)+"?"+n("\\#"+mt)+"?");return n(kt+"|"+Vt),n($e+"\\:"+Ot+n("\\?"+st)+"?"),n(n("\\/\\/("+n("("+de+")@")+"?("+lt+")"+n("\\:("+dt+")")+"?)")+"?("+Je+"|"+nt+"|"+yt+"|"+at+")"),n("\\?("+st+")"),n("\\#("+mt+")"),n(n("\\/\\/("+n("("+de+")@")+"?("+lt+")"+n("\\:("+dt+")")+"?)")+"?("+Je+"|"+nt+"|"+Rt+"|"+at+")"),n("\\?("+st+")"),n("\\#("+mt+")"),n(n("\\/\\/("+n("("+de+")@")+"?("+lt+")"+n("\\:("+dt+")")+"?)")+"?("+Je+"|"+nt+"|"+yt+"|"+at+")"),n("\\?("+st+")"),n("\\#("+mt+")"),n("("+de+")@"),n("\\:("+dt+")"),{NOT_SCHEME:new RegExp(t("[^]",u,V,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",ie,se),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",ie,se),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",ie,se),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",ie,se),"g"),NOT_QUERY:new RegExp(t("[^\\%]",ie,se,"[\\:\\@\\/\\?]",ve),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",ie,se,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",ie,se),"g"),UNRESERVED:new RegExp(ie,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",ie,ge),"g"),PCT_ENCODED:new RegExp(le,"g"),IPV4ADDRESS:new RegExp("^("+ke+")$"),IPV6ADDRESS:new RegExp("^\\[?("+He+")"+n(n("\\%25|\\%(?!"+q+"{2})")+"("+rt+")")+"?\\]?$")}}var a=f(!1),c=f(!0),_=function(u,N){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return function S(u,N){var V=[],L=!0,q=!1,ne=void 0;try{for(var le,oe=u[Symbol.iterator]();!(L=(le=oe.next()).done)&&(V.push(le.value),!N||V.length!==N);L=!0);}catch(Se){q=!0,ne=Se}finally{try{!L&&oe.return&&oe.return()}finally{if(q)throw ne}}return V}(u,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")},R=2147483647,T=36,A=/^xn--/,g=/[^\0-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,$={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},z=Math.floor,H=String.fromCharCode;function B(S){throw new RangeError($[S])}function te(S,u){var N=S.split("@"),V="";return N.length>1&&(V=N[0]+"@",S=N[1]),V+function ae(S,u){for(var N=[],V=S.length;V--;)N[V]=u(S[V]);return N}((S=S.replace(v,".")).split("."),u).join(".")}function ue(S){for(var u=[],N=0,V=S.length;N<V;){var L=S.charCodeAt(N++);if(L>=55296&&L<=56319&&N<V){var q=S.charCodeAt(N++);56320==(64512&q)?u.push(((1023&L)<<10)+(1023&q)+65536):(u.push(L),N--)}else u.push(L)}return u}var Te=function(u){return u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:T},Ce=function(u,N){return u+22+75*(u<26)-((0!=N)<<5)},ce=function(u,N,V){var L=0;for(u=V?z(u/700):u>>1,u+=z(u/N);u>455;L+=T)u=z(u/35);return z(L+36*u/(u+38))},Oe=function(u){var N=[],V=u.length,L=0,q=128,ne=72,oe=u.lastIndexOf("-");oe<0&&(oe=0);for(var le=0;le<oe;++le)u.charCodeAt(le)>=128&&B("not-basic"),N.push(u.charCodeAt(le));for(var Se=oe>0?oe+1:0;Se<V;){for(var se=L,ge=1,we=T;;we+=T){Se>=V&&B("invalid-input");var ve=Te(u.charCodeAt(Se++));(ve>=T||ve>z((R-L)/ge))&&B("overflow"),L+=ve*ge;var ie=we<=ne?1:we>=ne+26?26:we-ne;if(ve<ie)break;var $e=T-ie;ge>z(R/$e)&&B("overflow"),ge*=$e}var de=N.length+1;ne=ce(L-se,de,0==se),z(L/de)>R-q&&B("overflow"),q+=z(L/de),L%=de,N.splice(L++,0,q)}return String.fromCodePoint.apply(String,N)},G=function(u){var N=[],V=(u=ue(u)).length,L=128,q=0,ne=72,oe=!0,le=!1,Se=void 0;try{for(var ge,se=u[Symbol.iterator]();!(oe=(ge=se.next()).done);oe=!0){var we=ge.value;we<128&&N.push(H(we))}}catch(qe){le=!0,Se=qe}finally{try{!oe&&se.return&&se.return()}finally{if(le)throw Se}}var ve=N.length,ie=ve;for(ve&&N.push("-");ie<V;){var $e=R,de=!0,We=!1,De=void 0;try{for(var me,ke=u[Symbol.iterator]();!(de=(me=ke.next()).done);de=!0){var je=me.value;je>=L&&je<$e&&($e=je)}}catch(qe){We=!0,De=qe}finally{try{!de&&ke.return&&ke.return()}finally{if(We)throw De}}var Fe=ie+1;$e-L>z((R-q)/Fe)&&B("overflow"),q+=($e-L)*Fe,L=$e;var Ue=!0,Xe=!1,ze=void 0;try{for(var pt,ut=u[Symbol.iterator]();!(Ue=(pt=ut.next()).done);Ue=!0){var vt=pt.value;if(vt<L&&++q>R&&B("overflow"),vt==L){for(var et=q,tt=T;;tt+=T){var He=tt<=ne?1:tt>=ne+26?26:tt-ne;if(et<He)break;var rt=et-He,Pt=T-He;N.push(H(Ce(He+rt%Pt,0))),et=z(rt/Pt)}N.push(H(Ce(et,0))),ne=ce(q,Fe,ie==ve),q=0,++ie}}}catch(qe){Xe=!0,ze=qe}finally{try{!Ue&&ut.return&&ut.return()}finally{if(Xe)throw ze}}++q,++L}return N.join("")},o={version:"2.1.0",ucs2:{decode:ue,encode:function(u){return String.fromCodePoint.apply(String,function(S){if(Array.isArray(S)){for(var u=0,N=Array(S.length);u<S.length;u++)N[u]=S[u];return N}return Array.from(S)}(u))}},decode:Oe,encode:G,toASCII:function(u){return te(u,function(N){return g.test(N)?"xn--"+G(N):N})},toUnicode:function(u){return te(u,function(N){return A.test(N)?Oe(N.slice(4).toLowerCase()):N})}},p={};function M(S){var u=S.charCodeAt(0);return u<16?"%0"+u.toString(16).toUpperCase():u<128?"%"+u.toString(16).toUpperCase():u<2048?"%"+(u>>6|192).toString(16).toUpperCase()+"%"+(63&u|128).toString(16).toUpperCase():"%"+(u>>12|224).toString(16).toUpperCase()+"%"+(u>>6&63|128).toString(16).toUpperCase()+"%"+(63&u|128).toString(16).toUpperCase()}function Y(S){for(var u="",N=0,V=S.length;N<V;){var L=parseInt(S.substr(N+1,2),16);if(L<128)u+=String.fromCharCode(L),N+=3;else if(L>=194&&L<224){if(V-N>=6){var q=parseInt(S.substr(N+4,2),16);u+=String.fromCharCode((31&L)<<6|63&q)}else u+=S.substr(N,6);N+=6}else if(L>=224){if(V-N>=9){var ne=parseInt(S.substr(N+4,2),16),oe=parseInt(S.substr(N+7,2),16);u+=String.fromCharCode((15&L)<<12|(63&ne)<<6|63&oe)}else u+=S.substr(N,9);N+=9}else u+=S.substr(N,3),N+=3}return u}function x(S,u){function N(V){var L=Y(V);return L.match(u.UNRESERVED)?L:V}return S.scheme&&(S.scheme=String(S.scheme).replace(u.PCT_ENCODED,N).toLowerCase().replace(u.NOT_SCHEME,"")),void 0!==S.userinfo&&(S.userinfo=String(S.userinfo).replace(u.PCT_ENCODED,N).replace(u.NOT_USERINFO,M).replace(u.PCT_ENCODED,m)),void 0!==S.host&&(S.host=String(S.host).replace(u.PCT_ENCODED,N).toLowerCase().replace(u.NOT_HOST,M).replace(u.PCT_ENCODED,m)),void 0!==S.path&&(S.path=String(S.path).replace(u.PCT_ENCODED,N).replace(S.scheme?u.NOT_PATH:u.NOT_PATH_NOSCHEME,M).replace(u.PCT_ENCODED,m)),void 0!==S.query&&(S.query=String(S.query).replace(u.PCT_ENCODED,N).replace(u.NOT_QUERY,M).replace(u.PCT_ENCODED,m)),void 0!==S.fragment&&(S.fragment=String(S.fragment).replace(u.PCT_ENCODED,N).replace(u.NOT_FRAGMENT,M).replace(u.PCT_ENCODED,m)),S}function re(S){return S.replace(/^0*(.*)/,"$1")||"0"}function Ee(S,u){var N=S.match(u.IPV4ADDRESS)||[],L=_(N,2)[1];return L?L.split(".").map(re).join("."):S}function Ne(S,u){var N=S.match(u.IPV6ADDRESS)||[],V=_(N,3),L=V[1],q=V[2];if(L){for(var ne=L.toLowerCase().split("::").reverse(),oe=_(ne,2),le=oe[0],Se=oe[1],se=Se?Se.split(":").map(re):[],ge=le.split(":").map(re),we=u.IPV4ADDRESS.test(ge[ge.length-1]),ve=we?7:8,ie=ge.length-ve,$e=Array(ve),de=0;de<ve;++de)$e[de]=se[de]||ge[ie+de]||"";we&&($e[ve-1]=Ee($e[ve-1],u));var De=$e.reduce(function(Fe,Ue,Xe){if(!Ue||"0"===Ue){var ze=Fe[Fe.length-1];ze&&ze.index+ze.length===Xe?ze.length++:Fe.push({index:Xe,length:1})}return Fe},[]).sort(function(Fe,Ue){return Ue.length-Fe.length})[0],ke=void 0;if(De&&De.length>1){var me=$e.slice(0,De.index),je=$e.slice(De.index+De.length);ke=me.join(":")+"::"+je.join(":")}else ke=$e.join(":");return q&&(ke+="%"+q),ke}return S}var I=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,k=void 0==="".match(/(){0}/)[1];function Z(S){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},N={},V=!1!==u.iri?c:a;"suffix"===u.reference&&(S=(u.scheme?u.scheme+":":"")+"//"+S);var L=S.match(I);if(L){k?(N.scheme=L[1],N.userinfo=L[3],N.host=L[4],N.port=parseInt(L[5],10),N.path=L[6]||"",N.query=L[7],N.fragment=L[8],isNaN(N.port)&&(N.port=L[5])):(N.scheme=L[1]||void 0,N.userinfo=-1!==S.indexOf("@")?L[3]:void 0,N.host=-1!==S.indexOf("//")?L[4]:void 0,N.port=parseInt(L[5],10),N.path=L[6]||"",N.query=-1!==S.indexOf("?")?L[7]:void 0,N.fragment=-1!==S.indexOf("#")?L[8]:void 0,isNaN(N.port)&&(N.port=S.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?L[4]:void 0)),N.host&&(N.host=Ne(Ee(N.host,V),V)),N.reference=void 0!==N.scheme||void 0!==N.userinfo||void 0!==N.host||void 0!==N.port||N.path||void 0!==N.query?void 0===N.scheme?"relative":void 0===N.fragment?"absolute":"uri":"same-document",u.reference&&"suffix"!==u.reference&&u.reference!==N.reference&&(N.error=N.error||"URI is not a "+u.reference+" reference.");var q=p[(u.scheme||N.scheme||"").toLowerCase()];if(u.unicodeSupport||q&&q.unicodeSupport)x(N,V);else{if(N.host&&(u.domainHost||q&&q.domainHost))try{N.host=o.toASCII(N.host.replace(V.PCT_ENCODED,Y).toLowerCase())}catch(ne){N.error=N.error||"Host's domain name can not be converted to ASCII via punycode: "+ne}x(N,a)}q&&q.parse&&q.parse(N,u)}else N.error=N.error||"URI can not be parsed.";return N}var K=/^\.\.?\//,ee=/^\/\.(\/|$)/,pe=/^\/\.\.(\/|$)/,Ae=/^\/?(?:.|\n)*?(?=\/|$)/;function ye(S){for(var u=[];S.length;)if(S.match(K))S=S.replace(K,"");else if(S.match(ee))S=S.replace(ee,"/");else if(S.match(pe))S=S.replace(pe,"/"),u.pop();else if("."===S||".."===S)S="";else{var N=S.match(Ae);if(!N)throw new Error("Unexpected dot segment condition");var V=N[0];S=S.slice(V.length),u.push(V)}return u.join("")}function fe(S){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},N=u.iri?c:a,V=[],L=p[(u.scheme||S.scheme||"").toLowerCase()];if(L&&L.serialize&&L.serialize(S,u),S.host&&!N.IPV6ADDRESS.test(S.host)&&(u.domainHost||L&&L.domainHost))try{S.host=u.iri?o.toUnicode(S.host):o.toASCII(S.host.replace(N.PCT_ENCODED,Y).toLowerCase())}catch(oe){S.error=S.error||"Host's domain name can not be converted to "+(u.iri?"Unicode":"ASCII")+" via punycode: "+oe}x(S,N),"suffix"!==u.reference&&S.scheme&&(V.push(S.scheme),V.push(":"));var q=function Q(S,u){var N=!1!==u.iri?c:a,V=[];return void 0!==S.userinfo&&(V.push(S.userinfo),V.push("@")),void 0!==S.host&&V.push(Ne(Ee(String(S.host),N),N).replace(N.IPV6ADDRESS,function(L,q,ne){return"["+q+(ne?"%25"+ne:"")+"]"})),("number"==typeof S.port||"string"==typeof S.port)&&(V.push(":"),V.push(String(S.port))),V.length?V.join(""):void 0}(S,u);if(void 0!==q&&("suffix"!==u.reference&&V.push("//"),V.push(q),S.path&&"/"!==S.path.charAt(0)&&V.push("/")),void 0!==S.path){var ne=S.path;!u.absolutePath&&(!L||!L.absolutePath)&&(ne=ye(ne)),void 0===q&&(ne=ne.replace(/^\/\//,"/%2F")),V.push(ne)}return void 0!==S.query&&(V.push("?"),V.push(S.query)),void 0!==S.fragment&&(V.push("#"),V.push(S.fragment)),V.join("")}function _e(S,u){var N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},L={};return arguments[3]||(S=Z(fe(S,N),N),u=Z(fe(u,N),N)),!(N=N||{}).tolerant&&u.scheme?(L.scheme=u.scheme,L.userinfo=u.userinfo,L.host=u.host,L.port=u.port,L.path=ye(u.path||""),L.query=u.query):(void 0!==u.userinfo||void 0!==u.host||void 0!==u.port?(L.userinfo=u.userinfo,L.host=u.host,L.port=u.port,L.path=ye(u.path||""),L.query=u.query):(u.path?("/"===u.path.charAt(0)?L.path=ye(u.path):(L.path=void 0===S.userinfo&&void 0===S.host&&void 0===S.port||S.path?S.path?S.path.slice(0,S.path.lastIndexOf("/")+1)+u.path:u.path:"/"+u.path,L.path=ye(L.path)),L.query=u.query):(L.path=S.path,L.query=void 0!==u.query?u.query:S.query),L.userinfo=S.userinfo,L.host=S.host,L.port=S.port),L.scheme=S.scheme),L.fragment=u.fragment,L}function Re(S,u){return S&&S.toString().replace(u&&u.iri?c.PCT_ENCODED:a.PCT_ENCODED,Y)}var be={scheme:"http",domainHost:!0,parse:function(u,N){return u.host||(u.error=u.error||"HTTP URIs must have a host."),u},serialize:function(u,N){var V="https"===String(u.scheme).toLowerCase();return(u.port===(V?443:80)||""===u.port)&&(u.port=void 0),u.path||(u.path="/"),u}},Ye={scheme:"https",domainHost:be.domainHost,parse:be.parse,serialize:be.serialize};function Be(S){return"boolean"==typeof S.secure?S.secure:"wss"===String(S.scheme).toLowerCase()}var Le={scheme:"ws",domainHost:!0,parse:function(u,N){var V=u;return V.secure=Be(V),V.resourceName=(V.path||"/")+(V.query?"?"+V.query:""),V.path=void 0,V.query=void 0,V},serialize:function(u,N){if((u.port===(Be(u)?443:80)||""===u.port)&&(u.port=void 0),"boolean"==typeof u.secure&&(u.scheme=u.secure?"wss":"ws",u.secure=void 0),u.resourceName){var V=u.resourceName.split("?"),L=_(V,2),q=L[0],ne=L[1];u.path=q&&"/"!==q?q:void 0,u.query=ne,u.resourceName=void 0}return u.fragment=void 0,u}},ot={scheme:"wss",domainHost:Le.domainHost,parse:Le.parse,serialize:Le.serialize},ht={},xe="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ie="[0-9A-Fa-f]",$t=n(n("%[EFef]"+Ie+"%"+Ie+Ie+"%"+Ie+Ie)+"|"+n("%[89A-Fa-f]"+Ie+"%"+Ie+Ie)+"|"+n("%"+Ie+Ie)),St=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),it=new RegExp(xe,"g"),Ke=new RegExp($t,"g"),wt=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',St),"g"),bt=new RegExp(t("[^]",xe,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Nt=bt;function ct(S){var u=Y(S);return u.match(it)?u:S}var w={scheme:"mailto",parse:function(u,N){var V=u,L=V.to=V.path?V.path.split(","):[];if(V.path=void 0,V.query){for(var q=!1,ne={},oe=V.query.split("&"),le=0,Se=oe.length;le<Se;++le){var se=oe[le].split("=");switch(se[0]){case"to":for(var ge=se[1].split(","),we=0,ve=ge.length;we<ve;++we)L.push(ge[we]);break;case"subject":V.subject=Re(se[1],N);break;case"body":V.body=Re(se[1],N);break;default:q=!0,ne[Re(se[0],N)]=Re(se[1],N)}}q&&(V.headers=ne)}V.query=void 0;for(var ie=0,$e=L.length;ie<$e;++ie){var de=L[ie].split("@");if(de[0]=Re(de[0]),N.unicodeSupport)de[1]=Re(de[1],N).toLowerCase();else try{de[1]=o.toASCII(Re(de[1],N).toLowerCase())}catch(We){V.error=V.error||"Email address's domain name can not be converted to ASCII via punycode: "+We}L[ie]=de.join("@")}return V},serialize:function(u,N){var V=u,L=function b(S){return null!=S?S instanceof Array?S:"number"!=typeof S.length||S.split||S.setInterval||S.call?[S]:Array.prototype.slice.call(S):[]}(u.to);if(L){for(var q=0,ne=L.length;q<ne;++q){var oe=String(L[q]),le=oe.lastIndexOf("@"),Se=oe.slice(0,le).replace(Ke,ct).replace(Ke,m).replace(wt,M),se=oe.slice(le+1);try{se=N.iri?o.toUnicode(se):o.toASCII(Re(se,N).toLowerCase())}catch(ie){V.error=V.error||"Email address's domain name can not be converted to "+(N.iri?"Unicode":"ASCII")+" via punycode: "+ie}L[q]=Se+"@"+se}V.path=L.join(",")}var ge=u.headers=u.headers||{};u.subject&&(ge.subject=u.subject),u.body&&(ge.body=u.body);var we=[];for(var ve in ge)ge[ve]!==ht[ve]&&we.push(ve.replace(Ke,ct).replace(Ke,m).replace(bt,M)+"="+ge[ve].replace(Ke,ct).replace(Ke,m).replace(Nt,M));return we.length&&(V.query=we.join("&")),V}},J=/^([^\:]+)\:(.*)/,U={scheme:"urn",parse:function(u,N){var V=u.path&&u.path.match(J),L=u;if(V){var q=N.scheme||L.scheme||"urn",ne=V[1].toLowerCase(),oe=V[2],Se=p[q+":"+(N.nid||ne)];L.nid=ne,L.nss=oe,L.path=void 0,Se&&(L=Se.parse(L,N))}else L.error=L.error||"URN can not be parsed.";return L},serialize:function(u,N){var L=u.nid,ne=p[(N.scheme||u.scheme||"urn")+":"+(N.nid||L)];ne&&(u=ne.serialize(u,N));var oe=u;return oe.path=(L||N.nid)+":"+u.nss,oe}},X=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Me={scheme:"urn:uuid",parse:function(u,N){var V=u;return V.uuid=V.nss,V.nss=void 0,!N.tolerant&&(!V.uuid||!V.uuid.match(X))&&(V.error=V.error||"UUID is not valid."),V},serialize:function(u,N){var V=u;return V.nss=(u.uuid||"").toLowerCase(),V}};p[be.scheme]=be,p[Ye.scheme]=Ye,p[Le.scheme]=Le,p[ot.scheme]=ot,p[w.scheme]=w,p[U.scheme]=U,p[Me.scheme]=Me,s.SCHEMES=p,s.pctEncChar=M,s.pctDecChars=Y,s.parse=Z,s.removeDotSegments=ye,s.serialize=fe,s.resolveComponents=_e,s.resolve=function Ve(S,u,N){var V=function i(S,u){var N=S;if(u)for(var V in u)N[V]=u[V];return N}({scheme:"null"},N);return fe(_e(Z(S,V),Z(u,V),V,!0),V)},s.normalize=function Pe(S,u){return"string"==typeof S?S=fe(Z(S,u),u):"object"===e(S)&&(S=Z(fe(S,u),u)),S},s.equal=function Ge(S,u,N){return"string"==typeof S?S=fe(Z(S,N),N):"object"===e(S)&&(S=fe(S,N)),"string"==typeof u?u=fe(Z(u,N),N):"object"===e(u)&&(u=fe(u,N)),S===u},s.escapeComponent=function Qe(S,u){return S&&S.toString().replace(u&&u.iri?c.ESCAPE:a.ESCAPE,M)},s.unescapeComponent=Re,Object.defineProperty(s,"__esModule",{value:!0})}(r)},9344:W=>{function r(t,n,e,m,b,i,f){try{var a=t[i](f),c=a.value}catch(_){return void e(_)}a.done?n(c):Promise.resolve(c).then(m,b)}W.exports=function s(t){return function(){var n=this,e=arguments;return new Promise(function(m,b){var i=t.apply(n,e);function f(c){r(i,m,b,f,a,"next",c)}function a(c){r(i,m,b,f,a,"throw",c)}f(void 0)})}},W.exports.__esModule=!0,W.exports.default=W.exports},4775:W=>{"use strict";W.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},98:W=>{"use strict";W.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}}]);