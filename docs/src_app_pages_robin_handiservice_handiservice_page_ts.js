(self.webpackChunkrobin=self.webpackChunkrobin||[]).push([["src_app_pages_robin_handiservice_handiservice_page_ts"],{5260:(W,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>vt});var t=s(7691),n=s(6895),e=s(4650),h=s(4006),b=s(9333),i=s(1203),m=s(7174),a=s(3597),c=s(7244),S=s(7718),_=s(3416);let T=(()=>{class w{constructor(){(0,t.Z)(this,"formGroupDirective",(0,e.f3M)(h.sg)),(0,t.Z)(this,"t",(0,e.f3M)(S.OS)),(0,t.Z)(this,"ctrls",void 0),(0,t.Z)(this,"disableFormat",!1),(0,t.Z)(this,"clickFormat",new e.vpe)}ngOnInit(){this.ctrls=this.formGroupDirective.form.controls}onClickFormat(){this.clickFormat.emit()}}return(0,t.Z)(w,"\u0275fac",function(L){return new(L||w)}),(0,t.Z)(w,"\u0275cmp",e.Xpm({type:w,selectors:[["app-handiservice-form-inline"]],inputs:{disableFormat:"disableFormat"},outputs:{clickFormat:"clickFormat"},standalone:!0,features:[e._Bn([],[{provide:h.gN,useExisting:h.sg}]),e.jDz],decls:10,vars:12,consts:[[1,"row"],[1,"col-12","mb-3"],["labelClass","form-label",3,"label"],["type","button",1,"btn","btn-sm","btn-outline-primary","float-end","mb-1",3,"disabled","click"],[1,"fa-solid","fa-bars-staggered","me-2"],["placeholder","schema handiservice-v3",1,"form-control","rows-10",3,"formControl","title"]],template:function(L,X){1&L&&(e.TgZ(0,"div",0)(1,"div",1)(2,"vw-form-field",2),e.ALo(3,"translate"),e.TgZ(4,"button",3),e.NdJ("click",function(){return X.onClickFormat()}),e._UZ(5,"i",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"textarea",5),e.ALo(9,"translate"),e.qZA()()()),2&L&&(e.xp6(2),e.s9C("label",e.lcZ(3,6,X.t.JSON.INPUT)),e.xp6(2),e.Q6J("disabled",X.disableFormat),e.uIk("aria-disabled",X.disableFormat||null),e.xp6(2),e.hij("",e.lcZ(7,8,X.t.JSON.FORMAT)," "),e.xp6(2),e.s9C("title",e.lcZ(9,10,X.t.VALIDATION_ERROR.REQUIRED_FIELD)),e.Q6J("formControl",X.ctrls.json))},dependencies:[h.UX,h.Fj,h.JJ,h.oH,_.aw,_.X$,b.Zg,a.hg,a.LW,a.vA,a.Og],encapsulation:2,changeDetection:0})),w})();var A=s(7698),u=s(7582),d=s(663),P=(()=>{return(w=P||(P={}))[w.NO_REQUEST=0]="NO_REQUEST",w[w.CHILD_OLD_SUPPLEMENT=1]="CHILD_OLD_SUPPLEMENT",w[w.CHILD_NEW_SUPPLEMENT=2]="CHILD_NEW_SUPPLEMENT",w[w.INCOME_REPLACEMENT=3]="INCOME_REPLACEMENT",w[w.ELDERLY_ASSISTANCE=4]="ELDERLY_ASSISTANCE",w[w.OLD_ALLOWANCE=5]="OLD_ALLOWANCE",w[w.PARKING_CARD=6]="PARKING_CARD",P;var w})(),f=(()=>{return(w=f||(f={}))[w.INCOME_REPLACEMENT=3]="INCOME_REPLACEMENT",w[w.ELDERLY_ASSISTANCE=4]="ELDERLY_ASSISTANCE",w[w.OLD_ALLOWANCE=10]="OLD_ALLOWANCE",f;var w})();const y=w=>w&&{requestDate:{data:w.requestDate},legislation:{data:P[w.legislation],pipe:"enum"},administrativeExamination:{data:w.administrativePendingRequest,pipe:"enum"},medicalExamination:{data:w.handicapRecognitionPending,pipe:"enum"},completionDate:{data:w.fileCompletionDate},appeal:{data:w.appeal,pipe:"enum"}},v=(0,c.us)("decisionDate",!1),E=w=>w&&{fullName:{data:F(w)},addressFr:{data:w.address&&Z(w.address,"FR")},addressNl:{data:w.address&&Z(w.address,"NL")}},F=w=>w.lastName+(0,c.Ce)(", ",w.firstName),Z=(w,J)=>(0,c.aK)([H(w,J),B(w),(0,c.Ce)(" / ",ae(w)),",",te(w),ue(w,J),(0,c.Np)(ve(w,J))]),H=(w,J)=>(w.streetNames&&Te(w.streetNames,J))??"",B=w=>w.houseNumber??"",ae=w=>w.boxNumber??"",te=w=>w.postalCode??"",ue=(w,J)=>(w.cityNames&&Te(w.cityNames,J))??"",ve=(w,J)=>{const L=(w.countryNames&&Te(w.countryNames,J))??"";return L.startsWith("Belgi")?"":L},Te=(w,J)=>w?.filter(L=>L.language===J)?.[0]?.value??"",ce=w=>w?.map(J=>Oe(J)).sort(j),Oe=w=>({startDate:{data:w?.openPeriod?.beginDate},endDate:{data:w?.openPeriod?.endDate},allowance:{data:G(w),pipe:"enum"},decision:{data:w.decisionStatus,pipe:"enum"},amount:{data:w.totalMonthAmount,class:"text-end pe-4",pipe:"currency"}}),G=w=>0===w.totalMonthAmount||O(w.legislation)?f[w.legislation]:w.totalMonthAmount===w.monthAmount?"INTEGRATION_RIGHT":0===w.monthAmount?"INCOME_REPLACEMENT_RIGHT":"INCOME_REPLACEMENT_INTEGRATION_RIGHT",j=(0,c.us)("startDate",!1),O=w=>w!==f.INCOME_REPLACEMENT;function o(w,J){if(1&w&&(e.TgZ(0,"tr")(1,"th",18),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"dynamicPipe"),e.qZA()()),2&w){const L=J.$implicit,X=e.oxw(4);e.xp6(2),e.Oqu(e.lcZ(3,2,X.t.HANDISERVICE[L.key])),e.xp6(3),e.Oqu(e.Dn7(6,4,L.value.data,L.value.pipe,L.value.args))}}function p(w,J){if(1&w&&(e.TgZ(0,"div",15)(1,"table",16)(2,"tbody"),e.YNc(3,o,7,8,"tr",17),e.ALo(4,"keyvalue"),e.qZA()()()),2&w){const L=J.ngIf,X=e.oxw(3);e.xp6(3),e.Q6J("ngForOf",e.xi3(4,1,L,X.sort))}}function M(w,J){if(1&w&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w){const L=e.oxw(3);e.xp6(1),e.Oqu(e.lcZ(2,1,L.t.HANDISERVICE.noPersonData))}}function Y(w,J){if(1&w&&(e.ynx(0),e.TgZ(1,"th",23),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&w){const L=J.$implicit,X=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,1,X.t.HANDISERVICE[L.key]))}}function x(w,J){if(1&w&&(e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.ALo(3,"dynamicPipe"),e.qZA(),e.BQk()),2&w){const L=J.$implicit;e.xp6(2),e.Oqu(e.Dn7(3,1,L.value.data,L.value.pipe,L.value.args))}}function re(w,J){if(1&w&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.YNc(3,x,4,5,"ng-container",17),e.ALo(4,"keyvalue"),e.qZA()),2&w){const L=J.$implicit,X=J.index,$=e.oxw(5);e.xp6(2),e.Oqu(X+1),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,L,$.sort))}}function Ee(w,J){if(1&w&&(e.TgZ(0,"table",21)(1,"thead")(2,"tr")(3,"th",22),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,Y,4,3,"ng-container",17),e.ALo(7,"keyvalue"),e.qZA()(),e.TgZ(8,"tbody"),e.YNc(9,re,5,5,"tr",17),e.qZA()()),2&w){const L=J.ngIf,X=e.oxw(4);e.xp6(4),e.Oqu(e.lcZ(5,3,X.t.FORM.ROW_NUMBER)),e.xp6(2),e.Q6J("ngForOf",e.xi3(7,5,L[0],X.sort)),e.xp6(3),e.Q6J("ngForOf",L)}}function Pe(w,J){if(1&w&&(e.TgZ(0,"div",15),e.YNc(1,Ee,10,8,"table",20),e.qZA()),2&w){const L=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",L.handicapRecognitions)}}function I(w,J){if(1&w&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w){const L=e.oxw(3);e.xp6(1),e.Oqu(e.lcZ(2,1,L.t.HANDISERVICE.noHandicapRecognitions))}}function k(w,J){if(1&w&&(e.TgZ(0,"tr")(1,"th",18),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td",25),e._uU(5),e.ALo(6,"dynamicPipe"),e.qZA()()),2&w){const L=J.$implicit,X=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,X.t.HANDISERVICE[L.key])),e.xp6(3),e.Oqu(e.Dn7(6,4,L.value.data,L.value.pipe,L.value.args))}}function z(w,J){if(1&w&&(e.TgZ(0,"table",16)(1,"tbody"),e.YNc(2,k,7,8,"tr",17),e.ALo(3,"keyvalue"),e.qZA()()),2&w){const L=J.ngIf,X=e.oxw(4);e.xp6(2),e.Q6J("ngForOf",e.xi3(3,1,L,X.sort))}}function Q(w,J){if(1&w&&(e.TgZ(0,"div",15),e.YNc(1,z,4,4,"table",24),e.qZA()),2&w){const L=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",L.evolutionOfRequest)}}function K(w,J){if(1&w&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w){const L=e.oxw(3);e.xp6(1),e.Oqu(e.lcZ(2,1,L.t.HANDISERVICE.noRequestInProgress))}}function ee(w,J){if(1&w&&(e.ynx(0),e.TgZ(1,"th",23),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&w){const L=J.$implicit,X=e.oxw(5);e.xp6(1),e.MT6("",L.value.pipe," ",L.value.class,""),e.xp6(1),e.hij(" ",e.lcZ(3,5,X.t.HANDISERVICE[L.key]),"")}}function he(w,J){if(1&w&&(e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.ALo(3,"dynamicPipe"),e.qZA(),e.BQk()),2&w){const L=J.$implicit;e.xp6(1),e.MT6("",L.value.pipe," ",L.value.class,""),e.xp6(1),e.hij(" ",e.Dn7(3,5,L.value.data,L.value.pipe,L.value.args),"")}}function Ce(w,J){if(1&w&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.YNc(3,he,4,9,"ng-container",17),e.ALo(4,"keyvalue"),e.qZA()),2&w){const L=J.$implicit,X=J.index,$=e.oxw(5);e.xp6(2),e.Oqu(X+1),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,L,$.sort))}}function ye(w,J){if(1&w&&(e.TgZ(0,"table",21)(1,"thead")(2,"tr")(3,"th",22),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,ee,4,7,"ng-container",17),e.ALo(7,"keyvalue"),e.qZA()(),e.TgZ(8,"tbody"),e.YNc(9,Ce,5,5,"tr",17),e.qZA()()),2&w){const L=J.ngIf,X=e.oxw(4);e.xp6(4),e.Oqu(e.lcZ(5,3,X.t.FORM.ROW_NUMBER)),e.xp6(2),e.Q6J("ngForOf",e.xi3(7,5,L[0],X.sort)),e.xp6(3),e.Q6J("ngForOf",L)}}function fe(w,J){if(1&w&&(e.TgZ(0,"div",15),e.YNc(1,ye,10,8,"table",20),e.qZA()),2&w){const L=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",L.rights)}}function _e(w,J){if(1&w&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w){const L=e.oxw(3);e.xp6(1),e.Oqu(e.lcZ(2,1,L.t.HANDISERVICE.noRights))}}function Fe(w,J){if(1&w&&(e.TgZ(0,"div",5)(1,"div",6)(2,"vw-card"),e.ynx(3,7),e._uU(4),e.ALo(5,"translate"),e.BQk(),e.YNc(6,p,5,4,"div",8),e.YNc(7,M,3,3,"ng-template",null,9,e.W1O),e.qZA()(),e.TgZ(9,"div",6)(10,"vw-card"),e.ynx(11,7),e._uU(12),e.ALo(13,"translate"),e.BQk(),e.YNc(14,Pe,2,1,"div",8),e.YNc(15,I,3,3,"ng-template",null,10,e.W1O),e.qZA()(),e.TgZ(17,"div",11)(18,"vw-card"),e.ynx(19,7),e._uU(20),e.ALo(21,"translate"),e.BQk(),e.YNc(22,Q,2,1,"div",8),e.YNc(23,K,3,3,"ng-template",null,12,e.W1O),e.qZA()(),e.TgZ(25,"div",13)(26,"vw-card"),e.ynx(27,7),e._uU(28),e.ALo(29,"translate"),e.BQk(),e.YNc(30,fe,2,1,"div",8),e.YNc(31,_e,3,3,"ng-template",null,14,e.W1O),e.qZA()()()),2&w){const L=e.MAs(8),X=e.MAs(16),$=e.MAs(24),l=e.MAs(32),N=e.oxw().$implicit,V=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,12,V.t.HANDISERVICE.personData)),e.xp6(2),e.Q6J("ngIf",N.personData)("ngIfElse",L),e.xp6(6),e.Oqu(e.lcZ(13,14,V.t.HANDISERVICE.handicapRecognitions)),e.xp6(2),e.Q6J("ngIf",null==N.handicapRecognitions?null:N.handicapRecognitions.length)("ngIfElse",X),e.xp6(6),e.Oqu(e.lcZ(21,16,V.t.HANDISERVICE.evolutionOfRequest)),e.xp6(2),e.Q6J("ngIf",null==N.evolutionOfRequest||null==N.evolutionOfRequest.requestDate?null:N.evolutionOfRequest.requestDate.data)("ngIfElse",$),e.xp6(6),e.Oqu(e.lcZ(29,18,V.t.HANDISERVICE.rights)),e.xp6(2),e.Q6J("ngIf",null==N.rights?null:N.rights.length)("ngIfElse",l)}}function Re(w,J){if(1&w&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w){const L=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,L.t.HANDISERVICE.noDataFound))}}function Ge(w,J){if(1&w&&(e.TgZ(0,"vw-alert",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w){const L=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,L.t.HANDISERVICE.technicalError))}}function Qe(w,J){if(1&w&&(e.TgZ(0,"vw-card",1),e.YNc(1,Fe,33,20,"div",2),e.YNc(2,Re,3,3,"vw-alert",3),e.YNc(3,Ge,3,3,"vw-alert",4),e.qZA()),2&w){const L=J.$implicit;e.s9C("header",L.source),e.xp6(1),e.Q6J("ngIf","DATA_FOUND"===L.status),e.xp6(1),e.Q6J("ngIf","NO_DATA_FOUND"===L.status),e.xp6(1),e.Q6J("ngIf","TECHNICAL_ERROR"===L.status)}}const be=["DGPH","VSB","IRISCARE","NICCIN"];class Ie{constructor(){(0,t.Z)(this,"prefix",(0,e.f3M)(d.pv).getValue()),(0,t.Z)(this,"sort",c.qF),(0,t.Z)(this,"t",(0,e.f3M)(S.OS)),(0,t.Z)(this,"results",void 0)}set result(J){this.results=be.map(L=>{const X=this.getFileResultBySource(J,L);return{source:L,...X&&{status:X.sourceStatus},...X?.file?.handicapRecognitions&&{handicapRecognitions:(w=X.file.handicapRecognitions,w?.map(J=>(w=>({status:{data:w.decisionStatus,pipe:"enum"},legislation:{data:w.legislation?P[w.legislation]:"NO_REQUEST",pipe:"enum"},decisionDate:{data:w.recognitionStatus?.dateOfDecision},startDate:{data:w.recognitionStatus?.startDateRecognition},endDate:{data:w.recognitionStatus?.endDateRecognition},totalPoints:{data:w.resultRecognitionAdult?.diminutionIndependence?.totalPoints}}))(J))?.sort(v))},...X?.file?.evolutionOfRequest&&{evolutionOfRequest:y(X.file.evolutionOfRequest)},...X?.file?.rights&&{rights:ce(X.file.rights)},...X?.file?.personData&&{personData:E(X.file.personData)}};var w})}getFileResultBySource(J,L){return J?.fileResults?.find(X=>X.source===L)}}(0,t.Z)(Ie,"\u0275fac",function(J){return new(J||Ie)}),(0,t.Z)(Ie,"\u0275cmp",e.Xpm({type:Ie,selectors:[["app-handiservice-result"]],inputs:{result:"result"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[[3,"header",4,"ngFor","ngForOf"],[3,"header"],["class","row",4,"ngIf"],["level","warning",4,"ngIf"],["level","danger",4,"ngIf"],[1,"row"],[1,"col-12"],["slotCardSubtitle",""],["class","table-responsive",4,"ngIf","ngIfElse"],["noPersonData",""],["noHandicapRecognitions",""],[1,"col-6","col-xl-4"],["noRequestInProgress",""],[1,"col-12","col-xl-8"],["noRights",""],[1,"table-responsive"],[1,"table","table-sm"],[4,"ngFor","ngForOf"],["scope","row"],["level","warning"],["class","table table-sm col-12",4,"ngIf"],[1,"table","table-sm","col-12"],["scope","col",1,"pe-4"],["scope","col"],["class","table table-sm",4,"ngIf"],[1,"text-end","pe-4"],["level","danger"]],template:function(J,L){1&J&&e.YNc(0,Qe,4,4,"vw-card",0),2&J&&e.Q6J("ngForOf",L.results)},dependencies:[n.ax,n.O5,n.Nd,_.aw,_.X$,a.Ak,a.wx,m.e8],encapsulation:2,changeDetection:0})),(0,u.gn)([m.aH],Ie.prototype,"result",null);var Ye=s(4411),ze=s.n(Ye);const at=new e.OlP("The AJV Class"),dt=new e.OlP("The AJV Class config"),ft=new e.OlP("The AJV Class Instance");function mt(w,J){return new w(J)}let Ae=(()=>{class w{}return(0,t.Z)(w,"\u0275fac",function(L){return new(L||w)}),(0,t.Z)(w,"\u0275mod",e.oAB({type:w})),(0,t.Z)(w,"\u0275inj",e.cJS({providers:[{provide:at,useValue:ze()},{provide:dt,useValue:{allErrors:!0,strictTypes:!0}},{provide:ft,useFactory:mt,deps:[at,dt]}]})),w})();var Ze,ht=s(2856),_t=s(6474),Et=s.n(_t),St=s(590),wt=s(5359);let Ue=((0,t.Z)(Ze=class{constructor(){(0,t.Z)(this,"ajv",void 0),(0,t.Z)(this,"directHttpClient",(0,e.f3M)(wt.NS)),this.ajv=(0,e.f3M)(e.zs3).get(ft),Et()(this.ajv),this.ajv.addFormat("custom-date",function(J){return/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/.test(J)})}loadSchema(J,L){!this.ajv.getSchema(J)&&this.directHttpClient.get(L).pipe((0,St.P)(),(0,ht.t)(this)).subscribe({next:X=>{X&&this.ajv.addSchema(X,J).compile(X)},error:X=>console.error(X)})}validate(J,L){return this.isValidSchema(J,L)?L:this.ajv.errorsText()}isValidSchema(J,L){return this.ajv.validate(J,L)}},"\u0275fac",function(J){return new(J||Ze)}),(0,t.Z)(Ze,"\u0275prov",e.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:Ae})),Ze);function bt(w,J){if(1&w&&e._UZ(0,"app-form-response-error",12),2&w){const L=e.oxw();e.Q6J("error",L.error)}}function pt(w,J){if(1&w&&(e.TgZ(0,"div")(1,"vw-alert",13),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"vw-card",14),e.ALo(5,"translate"),e._UZ(6,"app-handiservice-result",15),e.TgZ(7,"vw-print-button",16),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"vw-expandable",17),e.ALo(11,"translate"),e._UZ(12,"vw-display-json",18),e.qZA()()),2&w){const L=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,L.t.ALERT_OK.VALID_JSON)),e.xp6(2),e.s9C("ariaLabel",e.lcZ(5,8,L.t.FORM.RESULT)),e.xp6(2),e.Q6J("result",L.response),e.xp6(2),e.Oqu(e.lcZ(9,10,L.t.FORM.PRINT)),e.xp6(2),e.s9C("header",e.lcZ(11,12,L.t.JSON.INPUT)),e.xp6(2),e.Q6J("data",L.response)}}Ue=(0,u.gn)([(0,ht.c)()],Ue);let st=(()=>{class w{constructor(){(0,t.Z)(this,"schema",(0,e.f3M)(Ue)),(0,t.Z)(this,"validationResult",null),(0,t.Z)(this,"t",(0,e.f3M)(S.OS)),(0,t.Z)(this,"error",null),(0,t.Z)(this,"form",function D(){const w=(0,e.f3M)(h.qu);return w.group({json:w.nonNullable.control("",{validators:[h.kI.required,A.Q.json]})})}()),(0,t.Z)(this,"jsonCtrl",void 0),(0,t.Z)(this,"response",null),(0,t.Z)(this,"validateSchema",!1)}ngOnInit(){this.schema.loadSchema("handiservice","/assets/json-schema/handiservice-v3.json"),this.jsonCtrl=this.form.controls.json}formatJSON(L){L&&this.jsonCtrl.setValue((0,c.pP)(L))}resetForm(){this.form.reset(),this.form.enable(i.rA),this.clearResult()}submitForm(L){if(this.form.valid&&(this.clearResult(),this.form.disable(i.rA),L)){const X=JSON.parse(L);this.validationResult=this.schema.validate("handiservice",X),"string"==typeof this.validationResult?this.setError(this.validationResult):this.setResponse(this.validationResult)}}clearResult(){this.validationResult=this.error=this.response=null,this.validateSchema=!1}setError(L){this.form.enable(i.rA),this.error={error:"JSON_VALIDATION_ERROR",message:L.replace(", ","\n")}}setResponse(L){this.validateSchema=!0,this.response=L}}return(0,t.Z)(w,"\u0275fac",function(L){return new(L||w)}),(0,t.Z)(w,"\u0275cmp",e.Xpm({type:w,selectors:[["app-handiservice-container"]],standalone:!0,features:[e.jDz],decls:20,vars:19,consts:[["vwNoPrint",""],["slotCardTitle",""],[3,"formGroup","ngSubmit"],[3,"disableFormat","clickFormat"],[3,"disableSubmit","clickCancel"],["slotSubmit",""],[1,"fa-regular","fa-circle-check","me-2"],["slotCancel",""],[1,"fa-solid","fa-eraser","me-2"],[1,"spy","mb-3"],[3,"error",4,"ngIf"],[4,"ngIf"],[3,"error"],["vwNoPrint","","level","success"],[3,"ariaLabel"],[3,"result"],["vwNoPrint","",1,"float-end"],["vwNoPrint","",3,"header"],[3,"data"]],template:function(L,X){1&L&&(e.TgZ(0,"vw-card",0),e.ynx(1,1),e._uU(2),e.ALo(3,"translate"),e.BQk(),e.TgZ(4,"form",2),e.NdJ("ngSubmit",function(){return X.submitForm(X.jsonCtrl.value)}),e.TgZ(5,"app-handiservice-form-inline",3),e.NdJ("clickFormat",function(){return X.formatJSON(X.jsonCtrl.value)}),e.qZA(),e.TgZ(6,"vw-form-footer",4),e.NdJ("clickCancel",function(){return X.resetForm()}),e.ynx(7,5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.BQk(),e.ynx(11,7),e._UZ(12,"i",8),e._uU(13),e.ALo(14,"translate"),e.BQk(),e.qZA()(),e.TgZ(15,"div",9),e._uU(16),e.ALo(17,"json"),e.qZA()(),e.YNc(18,bt,1,1,"app-form-response-error",10),e.YNc(19,pt,13,14,"div",11)),2&L&&(e.xp6(2),e.Oqu(e.lcZ(3,11,X.t.FORM.ENTER_DATA)),e.xp6(2),e.Q6J("formGroup",X.form),e.xp6(1),e.Q6J("disableFormat",!X.jsonCtrl.valid||X.validateSchema),e.xp6(1),e.Q6J("disableSubmit",!X.form.valid||X.validateSchema),e.xp6(3),e.hij("",e.lcZ(10,13,X.t.JSON.VALIDATE_JSON)," "),e.xp6(4),e.hij("",e.lcZ(14,15,X.t.FORM.RESET)," "),e.xp6(2),e.ekj("d-none",!0),e.xp6(1),e.Oqu(e.lcZ(17,17,X.form.value)),e.xp6(2),e.Q6J("ngIf",X.error),e.xp6(1),e.Q6J("ngIf",X.response))},dependencies:[h.UX,h._Y,h.JL,h.sg,n.O5,n.Ts,_.aw,_.X$,a.Ak,m.Hr,b.WX,a.Lz,b.n9,T,Ie,a.xB,a.IV,Ae,a.wx],encapsulation:2,changeDetection:0})),w})(),vt=(()=>{class w extends((0,i.Y2)()){}return(0,t.Z)(w,"\u0275fac",function(){let J;return function(X){return(J||(J=e.n5z(w)))(X||w)}}()),(0,t.Z)(w,"\u0275cmp",e.Xpm({type:w,selectors:[["page-handiservice"]],standalone:!0,features:[e.qOj,e.jDz],decls:1,vars:0,template:function(L,X){1&L&&e._UZ(0,"app-handiservice-container")},dependencies:[st],encapsulation:2,changeDetection:0})),w})()},5180:(W,r)=>{"use strict";function s(E,F){return{validate:E,compare:F}}Object.defineProperty(r,"__esModule",{value:!0}),r.formatNames=r.fastFormats=r.fullFormats=void 0,r.fullFormats={date:s(h,b),time:s(m,a),"date-time":s(function S(E){const F=E.split(c);return 2===F.length&&h(F[0])&&m(F[1],!0)},_),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function A(E){return R.test(E)&&T.test(E)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function v(E){if(g.test(E))return!1;try{return new RegExp(E),!0}catch{return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function u(E){return D.lastIndex=0,D.test(E)},int32:{type:"number",validate:function f(E){return Number.isInteger(E)&&E<=P&&E>=d}},int64:{type:"number",validate:function y(E){return Number.isInteger(E)}},float:{type:"number",validate:C},double:{type:"number",validate:C},password:!0,binary:!0},r.fastFormats={...r.fullFormats,date:s(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,b),time:s(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,a),"date-time":s(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,_),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},r.formatNames=Object.keys(r.fullFormats);const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,e=[0,31,28,31,30,31,30,31,31,30,31,30,31];function h(E){const F=n.exec(E);if(!F)return!1;const H=+F[2],B=+F[3];return H>=1&&H<=12&&B>=1&&B<=(2===H&&function t(E){return E%4==0&&(E%100!=0||E%400==0)}(+F[1])?29:e[H])}function b(E,F){if(E&&F)return E>F?1:E<F?-1:0}const i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function m(E,F){const Z=i.exec(E);if(!Z)return!1;const H=+Z[1],B=+Z[2],ae=+Z[3];return(H<=23&&B<=59&&ae<=59||23===H&&59===B&&60===ae)&&(!F||""!==Z[5])}function a(E,F){if(!E||!F)return;const Z=i.exec(E),H=i.exec(F);return Z&&H?(E=Z[1]+Z[2]+Z[3]+(Z[4]||""))>(F=H[1]+H[2]+H[3]+(H[4]||""))?1:E<F?-1:0:void 0}const c=/t|\s/i;function _(E,F){if(!E||!F)return;const[Z,H]=E.split(c),[B,ae]=F.split(c),te=b(Z,B);return void 0!==te?te||a(H,ae):void 0}const R=/\/|:/,T=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,D=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,d=-(2**31),P=2**31-1;function C(){return!0}const g=/[^\\]\\Z/},6474:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(5180),n=s(5413),e=s(6382),h=new e.Name("fullFormats"),b=new e.Name("fastFormats"),i=(a,c={keywords:!0})=>{if(Array.isArray(c))return m(a,c,t.fullFormats,h),a;const[S,_]="fast"===c.mode?[t.fastFormats,b]:[t.fullFormats,h];return m(a,c.formats||t.formatNames,S,_),c.keywords&&n.default(a),a};function m(a,c,S,_){var R,T;null!==(R=(T=a.opts.code).formats)&&void 0!==R||(T.formats=e._`require("ajv-formats/dist/formats").${_}`);for(const A of c)a.addFormat(A,S[A])}i.get=(a,c="full")=>{const _=("fast"===c?t.fastFormats:t.fullFormats)[a];if(!_)throw new Error(`Unknown format "${a}"`);return _},W.exports=r=i,Object.defineProperty(r,"__esModule",{value:!0}),r.default=i},5413:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.formatLimitDefinition=void 0;const t=s(4411),n=s(6382),e=n.operators,h={formatMaximum:{okStr:"<=",ok:e.LTE,fail:e.GT},formatMinimum:{okStr:">=",ok:e.GTE,fail:e.LT},formatExclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},formatExclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},b={message:({keyword:m,schemaCode:a})=>n.str`should be ${h[m].okStr} ${a}`,params:({keyword:m,schemaCode:a})=>n._`{comparison: ${h[m].okStr}, limit: ${a}}`};r.formatLimitDefinition={keyword:Object.keys(h),type:"string",schemaType:"string",$data:!0,error:b,code(m){const{gen:a,data:c,schemaCode:S,keyword:_,it:R}=m,{opts:T,self:A}=R;if(!T.validateFormats)return;const D=new t.KeywordCxt(R,A.RULES.all.format.definition,"format");function P(f){return n._`${f}.compare(${c}, ${S}) ${h[_].fail} 0`}D.$data?function u(){const f=a.scopeValue("formats",{ref:A.formats,code:T.code.formats}),y=a.const("fmt",n._`${f}[${D.schemaCode}]`);m.fail$data(n.or(n._`typeof ${y} != "object"`,n._`${y} instanceof RegExp`,n._`typeof ${y}.compare != "function"`,P(y)))}():function d(){const f=D.schema,y=A.formats[f];if(!y||!0===y)return;if("object"!=typeof y||y instanceof RegExp||"function"!=typeof y.compare)throw new Error(`"${_}": format "${f}" does not define "compare" function`);const C=a.scopeValue("formats",{key:f,ref:y,code:T.code.formats?n._`${T.code.formats}${n.getProperty(f)}`:void 0});m.fail$data(P(C))}()},dependencies:["format"]},r.default=m=>(m.addKeyword(r.formatLimitDefinition),m)},4411:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;const t=s(5910),n=s(7032),e=s(1849),h=s(98),b=["/properties"],i="http://json-schema.org/draft-07/schema";class m extends t.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(T=>this.addVocabulary(T)),this.opts.discriminator&&this.addKeyword(e.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const T=this.opts.$data?this.$dataMetaSchema(h,b):h;this.addMetaSchema(T,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}W.exports=r=m,Object.defineProperty(r,"__esModule",{value:!0}),r.default=m;var a=s(6764);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return a.KeywordCxt}});var c=s(6382);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var S=s(496);Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return S.default}});var _=s(140);Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return _.default}})},6295:(W,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.regexpCode=r.getEsmExportName=r.getProperty=r.safeStringify=r.stringify=r.strConcat=r.addCodeArg=r.str=r._=r.nil=r._Code=r.Name=r.IDENTIFIER=r._CodeOrName=void 0;class s{}r._CodeOrName=s,r.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class t extends s{constructor(d){if(super(),!r.IDENTIFIER.test(d))throw new Error("CodeGen: name must be a valid identifier");this.str=d}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}r.Name=t;class n extends s{constructor(d){super(),this._items="string"==typeof d?[d]:d}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const d=this._items[0];return""===d||'""'===d}get str(){var d;return null!==(d=this._str)&&void 0!==d?d:this._str=this._items.reduce((P,f)=>`${P}${f}`,"")}get names(){var d;return null!==(d=this._names)&&void 0!==d?d:this._names=this._items.reduce((P,f)=>(f instanceof t&&(P[f.str]=(P[f.str]||0)+1),P),{})}}function e(u,...d){const P=[u[0]];let f=0;for(;f<d.length;)i(P,d[f]),P.push(u[++f]);return new n(P)}r._Code=n,r.nil=new n(""),r._=e;const h=new n("+");function b(u,...d){const P=[R(u[0])];let f=0;for(;f<d.length;)P.push(h),i(P,d[f]),P.push(h,R(u[++f]));return function m(u){let d=1;for(;d<u.length-1;){if(u[d]===h){const P=a(u[d-1],u[d+1]);if(void 0!==P){u.splice(d-1,3,P);continue}u[d++]="+"}d++}}(P),new n(P)}function i(u,d){d instanceof n?u.push(...d._items):u.push(d instanceof t?d:function S(u){return"number"==typeof u||"boolean"==typeof u||null===u?u:R(Array.isArray(u)?u.join(","):u)}(d))}function a(u,d){return'""'===d?u:'""'===u?d:"string"==typeof u?d instanceof t||'"'!==u[u.length-1]?void 0:"string"!=typeof d?`${u.slice(0,-1)}${d}"`:'"'===d[0]?u.slice(0,-1)+d.slice(1):void 0:"string"!=typeof d||'"'!==d[0]||u instanceof t?void 0:`"${u}${d.slice(1)}`}function R(u){return JSON.stringify(u).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}r.str=b,r.addCodeArg=i,r.strConcat=function c(u,d){return d.emptyStr()?u:u.emptyStr()?d:b`${u}${d}`},r.stringify=function _(u){return new n(R(u))},r.safeStringify=R,r.getProperty=function T(u){return"string"==typeof u&&r.IDENTIFIER.test(u)?new n(`.${u}`):e`[${u}]`},r.getEsmExportName=function A(u){if("string"==typeof u&&r.IDENTIFIER.test(u))return new n(`${u}`);throw new Error(`CodeGen: invalid export name: ${u}, use explicit $id name mapping`)},r.regexpCode=function D(u){return new n(u.toString())}},6382:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.or=r.and=r.not=r.CodeGen=r.operators=r.varKinds=r.ValueScopeName=r.ValueScope=r.Scope=r.Name=r.regexpCode=r.stringify=r.getProperty=r.nil=r.strConcat=r.str=r._=void 0;const t=s(6295),n=s(1917);var e=s(6295);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return e._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return e.str}}),Object.defineProperty(r,"strConcat",{enumerable:!0,get:function(){return e.strConcat}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return e.nil}}),Object.defineProperty(r,"getProperty",{enumerable:!0,get:function(){return e.getProperty}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return e.stringify}}),Object.defineProperty(r,"regexpCode",{enumerable:!0,get:function(){return e.regexpCode}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return e.Name}});var h=s(1917);Object.defineProperty(r,"Scope",{enumerable:!0,get:function(){return h.Scope}}),Object.defineProperty(r,"ValueScope",{enumerable:!0,get:function(){return h.ValueScope}}),Object.defineProperty(r,"ValueScopeName",{enumerable:!0,get:function(){return h.ValueScopeName}}),Object.defineProperty(r,"varKinds",{enumerable:!0,get:function(){return h.varKinds}}),r.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class b{optimizeNodes(){return this}optimizeNames(o,p){return this}}class i extends b{constructor(o,p,M){super(),this.varKind=o,this.name=p,this.rhs=M}render({es5:o,_n:p}){return`${o?n.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+p}optimizeNames(o,p){if(o[this.name.str])return this.rhs&&(this.rhs=te(this.rhs,o,p)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class m extends b{constructor(o,p,M){super(),this.lhs=o,this.rhs=p,this.sideEffects=M}render({_n:o}){return`${this.lhs} = ${this.rhs};`+o}optimizeNames(o,p){if(!(this.lhs instanceof t.Name)||o[this.lhs.str]||this.sideEffects)return this.rhs=te(this.rhs,o,p),this}get names(){return ae(this.lhs instanceof t.Name?{}:{...this.lhs.names},this.rhs)}}class a extends m{constructor(o,p,M,Y){super(o,M,Y),this.op=p}render({_n:o}){return`${this.lhs} ${this.op}= ${this.rhs};`+o}}class c extends b{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`${this.label}:`+o}}class S extends b{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`break${this.label?` ${this.label}`:""};`+o}}class _ extends b{constructor(o){super(),this.error=o}render({_n:o}){return`throw ${this.error};`+o}get names(){return this.error.names}}class R extends b{constructor(o){super(),this.code=o}render({_n:o}){return`${this.code};`+o}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(o,p){return this.code=te(this.code,o,p),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class T extends b{constructor(o=[]){super(),this.nodes=o}render(o){return this.nodes.reduce((p,M)=>p+M.render(o),"")}optimizeNodes(){const{nodes:o}=this;let p=o.length;for(;p--;){const M=o[p].optimizeNodes();Array.isArray(M)?o.splice(p,1,...M):M?o[p]=M:o.splice(p,1)}return o.length>0?this:void 0}optimizeNames(o,p){const{nodes:M}=this;let Y=M.length;for(;Y--;){const x=M[Y];x.optimizeNames(o,p)||(ue(o,x.names),M.splice(Y,1))}return M.length>0?this:void 0}get names(){return this.nodes.reduce((o,p)=>B(o,p.names),{})}}class A extends T{render(o){return"{"+o._n+super.render(o)+"}"+o._n}}class D extends T{}let u=(()=>{class O extends A{}return O.kind="else",O})(),d=(()=>{class O extends A{constructor(p,M){super(M),this.condition=p}render(p){let M=`if(${this.condition})`+super.render(p);return this.else&&(M+="else "+this.else.render(p)),M}optimizeNodes(){super.optimizeNodes();const p=this.condition;if(!0===p)return this.nodes;let M=this.else;if(M){const Y=M.optimizeNodes();M=this.else=Array.isArray(Y)?new u(Y):Y}return M?!1===p?M instanceof O?M:M.nodes:this.nodes.length?this:new O(ve(p),M instanceof O?[M]:M.nodes):!1!==p&&this.nodes.length?this:void 0}optimizeNames(p,M){var Y;if(this.else=null===(Y=this.else)||void 0===Y?void 0:Y.optimizeNames(p,M),super.optimizeNames(p,M)||this.else)return this.condition=te(this.condition,p,M),this}get names(){const p=super.names;return ae(p,this.condition),this.else&&B(p,this.else.names),p}}return O.kind="if",O})(),P=(()=>{class O extends A{}return O.kind="for",O})();class f extends P{constructor(o){super(),this.iteration=o}render(o){return`for(${this.iteration})`+super.render(o)}optimizeNames(o,p){if(super.optimizeNames(o,p))return this.iteration=te(this.iteration,o,p),this}get names(){return B(super.names,this.iteration.names)}}class y extends P{constructor(o,p,M,Y){super(),this.varKind=o,this.name=p,this.from=M,this.to=Y}render(o){const p=o.es5?n.varKinds.var:this.varKind,{name:M,from:Y,to:x}=this;return`for(${p} ${M}=${Y}; ${M}<${x}; ${M}++)`+super.render(o)}get names(){const o=ae(super.names,this.from);return ae(o,this.to)}}class C extends P{constructor(o,p,M,Y){super(),this.loop=o,this.varKind=p,this.name=M,this.iterable=Y}render(o){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(o)}optimizeNames(o,p){if(super.optimizeNames(o,p))return this.iterable=te(this.iterable,o,p),this}get names(){return B(super.names,this.iterable.names)}}let g=(()=>{class O extends A{constructor(p,M,Y){super(),this.name=p,this.args=M,this.async=Y}render(p){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(p)}}return O.kind="func",O})(),v=(()=>{class O extends T{render(p){return"return "+super.render(p)}}return O.kind="return",O})();class E extends A{render(o){let p="try"+super.render(o);return this.catch&&(p+=this.catch.render(o)),this.finally&&(p+=this.finally.render(o)),p}optimizeNodes(){var o,p;return super.optimizeNodes(),null===(o=this.catch)||void 0===o||o.optimizeNodes(),null===(p=this.finally)||void 0===p||p.optimizeNodes(),this}optimizeNames(o,p){var M,Y;return super.optimizeNames(o,p),null===(M=this.catch)||void 0===M||M.optimizeNames(o,p),null===(Y=this.finally)||void 0===Y||Y.optimizeNames(o,p),this}get names(){const o=super.names;return this.catch&&B(o,this.catch.names),this.finally&&B(o,this.finally.names),o}}let F=(()=>{class O extends A{constructor(p){super(),this.error=p}render(p){return`catch(${this.error})`+super.render(p)}}return O.kind="catch",O})(),Z=(()=>{class O extends A{render(p){return"finally"+super.render(p)}}return O.kind="finally",O})();function B(O,o){for(const p in o)O[p]=(O[p]||0)+(o[p]||0);return O}function ae(O,o){return o instanceof t._CodeOrName?B(O,o.names):O}function te(O,o,p){return O instanceof t.Name?M(O):function Y(x){return x instanceof t._Code&&x._items.some(re=>re instanceof t.Name&&1===o[re.str]&&void 0!==p[re.str])}(O)?new t._Code(O._items.reduce((x,re)=>(re instanceof t.Name&&(re=M(re)),re instanceof t._Code?x.push(...re._items):x.push(re),x),[])):O;function M(x){const re=p[x.str];return void 0===re||1!==o[x.str]?x:(delete o[x.str],re)}}function ue(O,o){for(const p in o)O[p]=(O[p]||0)-(o[p]||0)}function ve(O){return"boolean"==typeof O||"number"==typeof O||null===O?!O:t._`!${j(O)}`}r.CodeGen=class H{constructor(o,p={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...p,_n:p.lines?"\n":""},this._extScope=o,this._scope=new n.Scope({parent:o}),this._nodes=[new D]}toString(){return this._root.render(this.opts)}name(o){return this._scope.name(o)}scopeName(o){return this._extScope.name(o)}scopeValue(o,p){const M=this._extScope.value(o,p);return(this._values[M.prefix]||(this._values[M.prefix]=new Set)).add(M),M}getScopeValue(o,p){return this._extScope.getValue(o,p)}scopeRefs(o){return this._extScope.scopeRefs(o,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(o,p,M,Y){const x=this._scope.toName(p);return void 0!==M&&Y&&(this._constants[x.str]=M),this._leafNode(new i(o,x,M)),x}const(o,p,M){return this._def(n.varKinds.const,o,p,M)}let(o,p,M){return this._def(n.varKinds.let,o,p,M)}var(o,p,M){return this._def(n.varKinds.var,o,p,M)}assign(o,p,M){return this._leafNode(new m(o,p,M))}add(o,p){return this._leafNode(new a(o,r.operators.ADD,p))}code(o){return"function"==typeof o?o():o!==t.nil&&this._leafNode(new R(o)),this}object(...o){const p=["{"];for(const[M,Y]of o)p.length>1&&p.push(","),p.push(M),(M!==Y||this.opts.es5)&&(p.push(":"),(0,t.addCodeArg)(p,Y));return p.push("}"),new t._Code(p)}if(o,p,M){if(this._blockNode(new d(o)),p&&M)this.code(p).else().code(M).endIf();else if(p)this.code(p).endIf();else if(M)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(o){return this._elseNode(new d(o))}else(){return this._elseNode(new u)}endIf(){return this._endBlockNode(d,u)}_for(o,p){return this._blockNode(o),p&&this.code(p).endFor(),this}for(o,p){return this._for(new f(o),p)}forRange(o,p,M,Y,x=(this.opts.es5?n.varKinds.var:n.varKinds.let)){const re=this._scope.toName(o);return this._for(new y(x,re,p,M),()=>Y(re))}forOf(o,p,M,Y=n.varKinds.const){const x=this._scope.toName(o);if(this.opts.es5){const re=p instanceof t.Name?p:this.var("_arr",p);return this.forRange("_i",0,t._`${re}.length`,Ee=>{this.var(x,t._`${re}[${Ee}]`),M(x)})}return this._for(new C("of",Y,x,p),()=>M(x))}forIn(o,p,M,Y=(this.opts.es5?n.varKinds.var:n.varKinds.const)){if(this.opts.ownProperties)return this.forOf(o,t._`Object.keys(${p})`,M);const x=this._scope.toName(o);return this._for(new C("in",Y,x,p),()=>M(x))}endFor(){return this._endBlockNode(P)}label(o){return this._leafNode(new c(o))}break(o){return this._leafNode(new S(o))}return(o){const p=new v;if(this._blockNode(p),this.code(o),1!==p.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(v)}try(o,p,M){if(!p&&!M)throw new Error('CodeGen: "try" without "catch" and "finally"');const Y=new E;if(this._blockNode(Y),this.code(o),p){const x=this.name("e");this._currNode=Y.catch=new F(x),p(x)}return M&&(this._currNode=Y.finally=new Z,this.code(M)),this._endBlockNode(F,Z)}throw(o){return this._leafNode(new _(o))}block(o,p){return this._blockStarts.push(this._nodes.length),o&&this.code(o).endBlock(p),this}endBlock(o){const p=this._blockStarts.pop();if(void 0===p)throw new Error("CodeGen: not in self-balancing block");const M=this._nodes.length-p;if(M<0||void 0!==o&&M!==o)throw new Error(`CodeGen: wrong number of nodes: ${M} vs ${o} expected`);return this._nodes.length=p,this}func(o,p=t.nil,M,Y){return this._blockNode(new g(o,p,M)),Y&&this.code(Y).endFunc(),this}endFunc(){return this._endBlockNode(g)}optimize(o=1){for(;o-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(o){return this._currNode.nodes.push(o),this}_blockNode(o){this._currNode.nodes.push(o),this._nodes.push(o)}_endBlockNode(o,p){const M=this._currNode;if(M instanceof o||p&&M instanceof p)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${p?`${o.kind}/${p.kind}`:o.kind}"`)}_elseNode(o){const p=this._currNode;if(!(p instanceof d))throw new Error('CodeGen: "else" without "if"');return this._currNode=p.else=o,this}get _root(){return this._nodes[0]}get _currNode(){const o=this._nodes;return o[o.length-1]}set _currNode(o){const p=this._nodes;p[p.length-1]=o}},r.not=ve;const Te=G(r.operators.AND);r.and=function Ne(...O){return O.reduce(Te)};const ce=G(r.operators.OR);function G(O){return(o,p)=>o===t.nil?p:p===t.nil?o:t._`${j(o)} ${O} ${j(p)}`}function j(O){return O instanceof t.Name?O:t._`(${O})`}r.or=function Oe(...O){return O.reduce(ce)}},1917:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ValueScope=r.ValueScopeName=r.Scope=r.varKinds=r.UsedValueState=void 0;const t=s(6295);class n extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var e,a;(a=e=r.UsedValueState||(r.UsedValueState={}))[a.Started=0]="Started",a[a.Completed=1]="Completed",r.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class h{constructor({prefixes:c,parent:S}={}){this._names={},this._prefixes=c,this._parent=S}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){return`${c}${(this._names[c]||this._nameGroup(c)).index++}`}_nameGroup(c){var S,_;if(null!==(_=null===(S=this._parent)||void 0===S?void 0:S._prefixes)&&void 0!==_&&_.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}r.Scope=h;class b extends t.Name{constructor(c,S){super(S),this.prefix=c}setValue(c,{property:S,itemIndex:_}){this.value=c,this.scopePath=t._`.${new t.Name(S)}[${_}]`}}r.ValueScopeName=b;const i=t._`\n`;r.ValueScope=class m extends h{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?i:t.nil}}get(){return this._scope}name(c){return new b(c,this._newName(c))}value(c,S){var _;if(void 0===S.ref)throw new Error("CodeGen: ref must be passed in value");const R=this.toName(c),{prefix:T}=R,A=null!==(_=S.key)&&void 0!==_?_:S.ref;let D=this._values[T];if(D){const P=D.get(A);if(P)return P}else D=this._values[T]=new Map;D.set(A,R);const u=this._scope[T]||(this._scope[T]=[]),d=u.length;return u[d]=S.ref,R.setValue(S,{property:T,itemIndex:d}),R}getValue(c,S){const _=this._values[c];if(_)return _.get(S)}scopeRefs(c,S=this._values){return this._reduceValues(S,_=>{if(void 0===_.scopePath)throw new Error(`CodeGen: name "${_}" has no value`);return t._`${c}${_.scopePath}`})}scopeCode(c=this._values,S,_){return this._reduceValues(c,R=>{if(void 0===R.value)throw new Error(`CodeGen: name "${R}" has no value`);return R.value.code},S,_)}_reduceValues(c,S,_={},R){let T=t.nil;for(const A in c){const D=c[A];if(!D)continue;const u=_[A]=_[A]||new Map;D.forEach(d=>{if(u.has(d))return;u.set(d,e.Started);let P=S(d);if(P)T=t._`${T}${this.opts.es5?r.varKinds.var:r.varKinds.const} ${d} = ${P};${this.opts._n}`;else{if(!(P=R?.(d)))throw new n(d);T=t._`${T}${P}${this.opts._n}`}u.set(d,e.Completed)})}return T}}},5091:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extendErrors=r.resetErrorsCount=r.reportExtraError=r.reportError=r.keyword$DataError=r.keywordError=void 0;const t=s(6382),n=s(7990),e=s(5976);function a(u,d){const P=u.const("err",d);u.if(t._`${e.default.vErrors} === null`,()=>u.assign(e.default.vErrors,t._`[${P}]`),t._`${e.default.vErrors}.push(${P})`),u.code(t._`${e.default.errors}++`)}function c(u,d){const{gen:P,validateName:f,schemaEnv:y}=u;y.$async?P.throw(t._`new ${u.ValidationError}(${d})`):(P.assign(t._`${f}.errors`,d),P.return(!1))}r.keywordError={message:({keyword:u})=>t.str`must pass "${u}" keyword validation`},r.keyword$DataError={message:({keyword:u,schemaType:d})=>d?t.str`"${u}" keyword must be ${d} ($data)`:t.str`"${u}" keyword is invalid ($data)`},r.reportError=function h(u,d=r.keywordError,P,f){const{it:y}=u,{gen:C,compositeRule:g,allErrors:v}=y,E=_(u,d,P);f??(g||v)?a(C,E):c(y,t._`[${E}]`)},r.reportExtraError=function b(u,d=r.keywordError,P){const{it:f}=u,{gen:y,compositeRule:C,allErrors:g}=f;a(y,_(u,d,P)),C||g||c(f,e.default.vErrors)},r.resetErrorsCount=function i(u,d){u.assign(e.default.errors,d),u.if(t._`${e.default.vErrors} !== null`,()=>u.if(d,()=>u.assign(t._`${e.default.vErrors}.length`,d),()=>u.assign(e.default.vErrors,null)))},r.extendErrors=function m({gen:u,keyword:d,schemaValue:P,data:f,errsCount:y,it:C}){if(void 0===y)throw new Error("ajv implementation error");const g=u.name("err");u.forRange("i",y,e.default.errors,v=>{u.const(g,t._`${e.default.vErrors}[${v}]`),u.if(t._`${g}.instancePath === undefined`,()=>u.assign(t._`${g}.instancePath`,(0,t.strConcat)(e.default.instancePath,C.errorPath))),u.assign(t._`${g}.schemaPath`,t.str`${C.errSchemaPath}/${d}`),C.opts.verbose&&(u.assign(t._`${g}.schema`,P),u.assign(t._`${g}.data`,f))})};const S={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function _(u,d,P){const{createErrors:f}=u.it;return!1===f?t._`{}`:function R(u,d,P={}){const{gen:f,it:y}=u,C=[T(y,P),A(u,P)];return function D(u,{params:d,message:P},f){const{keyword:y,data:C,schemaValue:g,it:v}=u,{opts:E,propertyName:F,topSchemaRef:Z,schemaPath:H}=v;f.push([S.keyword,y],[S.params,"function"==typeof d?d(u):d||t._`{}`]),E.messages&&f.push([S.message,"function"==typeof P?P(u):P]),E.verbose&&f.push([S.schema,g],[S.parentSchema,t._`${Z}${H}`],[e.default.data,C]),F&&f.push([S.propertyName,F])}(u,d,C),f.object(...C)}(u,d,P)}function T({errorPath:u},{instancePath:d}){const P=d?t.str`${u}${(0,n.getErrorPath)(d,n.Type.Str)}`:u;return[e.default.instancePath,(0,t.strConcat)(e.default.instancePath,P)]}function A({keyword:u,it:{errSchemaPath:d}},{schemaPath:P,parentSchema:f}){let y=f?d:t.str`${d}/${u}`;return P&&(y=t.str`${y}${(0,n.getErrorPath)(P,n.Type.Str)}`),[S.schemaPath,y]}},7140:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.resolveSchema=r.getCompilingSchema=r.resolveRef=r.compileSchema=r.SchemaEnv=void 0;const t=s(6382),n=s(496),e=s(5976),h=s(1880),b=s(7990),i=s(6764);class m{constructor(P){var f;let y;this.refs={},this.dynamicAnchors={},"object"==typeof P.schema&&(y=P.schema),this.schema=P.schema,this.schemaId=P.schemaId,this.root=P.root||this,this.baseId=null!==(f=P.baseId)&&void 0!==f?f:(0,h.normalizeId)(y?.[P.schemaId||"$id"]),this.schemaPath=P.schemaPath,this.localRefs=P.localRefs,this.meta=P.meta,this.$async=y?.$async,this.refs={}}}function a(d){const P=_.call(this,d);if(P)return P;const f=(0,h.getFullPath)(this.opts.uriResolver,d.root.baseId),{es5:y,lines:C}=this.opts.code,{ownProperties:g}=this.opts,v=new t.CodeGen(this.scope,{es5:y,lines:C,ownProperties:g});let E;d.$async&&(E=v.scopeValue("Error",{ref:n.default,code:t._`require("ajv/dist/runtime/validation_error").default`}));const F=v.scopeName("validate");d.validateName=F;const Z={gen:v,allErrors:this.opts.allErrors,data:e.default.data,parentData:e.default.parentData,parentDataProperty:e.default.parentDataProperty,dataNames:[e.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:v.scopeValue("schema",!0===this.opts.code.source?{ref:d.schema,code:(0,t.stringify)(d.schema)}:{ref:d.schema}),validateName:F,ValidationError:E,schema:d.schema,schemaEnv:d,rootId:f,baseId:d.baseId||f,schemaPath:t.nil,errSchemaPath:d.schemaPath||(this.opts.jtd?"":"#"),errorPath:t._`""`,opts:this.opts,self:this};let H;try{this._compilations.add(d),(0,i.validateFunctionCode)(Z),v.optimize(this.opts.code.optimize);const B=v.toString();H=`${v.scopeRefs(e.default.scope)}return ${B}`,this.opts.code.process&&(H=this.opts.code.process(H,d));const te=new Function(`${e.default.self}`,`${e.default.scope}`,H)(this,this.scope.get());if(this.scope.value(F,{ref:te}),te.errors=null,te.schema=d.schema,te.schemaEnv=d,d.$async&&(te.$async=!0),!0===this.opts.code.source&&(te.source={validateName:F,validateCode:B,scopeValues:v._values}),this.opts.unevaluated){const{props:ue,items:ve}=Z;te.evaluated={props:ue instanceof t.Name?void 0:ue,items:ve instanceof t.Name?void 0:ve,dynamicProps:ue instanceof t.Name,dynamicItems:ve instanceof t.Name},te.source&&(te.source.evaluated=(0,t.stringify)(te.evaluated))}return d.validate=te,d}catch(B){throw delete d.validate,delete d.validateName,H&&this.logger.error("Error compiling schema, function code:",H),B}finally{this._compilations.delete(d)}}function S(d){return(0,h.inlineRef)(d.schema,this.opts.inlineRefs)?d.schema:d.validate?d:a.call(this,d)}function _(d){for(const P of this._compilations)if(R(P,d))return P}function R(d,P){return d.schema===P.schema&&d.root===P.root&&d.baseId===P.baseId}function T(d,P){let f;for(;"string"==typeof(f=this.refs[P]);)P=f;return f||this.schemas[P]||A.call(this,d,P)}function A(d,P){const f=this.opts.uriResolver.parse(P),y=(0,h._getFullPath)(this.opts.uriResolver,f);let C=(0,h.getFullPath)(this.opts.uriResolver,d.baseId,void 0);if(Object.keys(d.schema).length>0&&y===C)return u.call(this,f,d);const g=(0,h.normalizeId)(y),v=this.refs[g]||this.schemas[g];if("string"==typeof v){const E=A.call(this,d,v);return"object"!=typeof E?.schema?void 0:u.call(this,f,E)}if("object"==typeof v?.schema){if(v.validate||a.call(this,v),g===(0,h.normalizeId)(P)){const{schema:E}=v,{schemaId:F}=this.opts,Z=E[F];return Z&&(C=(0,h.resolveUrl)(this.opts.uriResolver,C,Z)),new m({schema:E,schemaId:F,root:d,baseId:C})}return u.call(this,f,v)}}r.SchemaEnv=m,r.compileSchema=a,r.resolveRef=function c(d,P,f){var y;f=(0,h.resolveUrl)(this.opts.uriResolver,P,f);const C=d.refs[f];if(C)return C;let g=T.call(this,d,f);if(void 0===g){const v=null===(y=d.localRefs)||void 0===y?void 0:y[f],{schemaId:E}=this.opts;v&&(g=new m({schema:v,schemaId:E,root:d,baseId:P}))}return void 0!==g?d.refs[f]=S.call(this,g):void 0},r.getCompilingSchema=_,r.resolveSchema=A;const D=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function u(d,{baseId:P,schema:f,root:y}){var C;if("/"!==(null===(C=d.fragment)||void 0===C?void 0:C[0]))return;for(const E of d.fragment.slice(1).split("/")){if("boolean"==typeof f)return;const F=f[(0,b.unescapeFragment)(E)];if(void 0===F)return;const Z="object"==typeof(f=F)&&f[this.opts.schemaId];!D.has(E)&&Z&&(P=(0,h.resolveUrl)(this.opts.uriResolver,P,Z))}let g;if("boolean"!=typeof f&&f.$ref&&!(0,b.schemaHasRulesButRef)(f,this.RULES)){const E=(0,h.resolveUrl)(this.opts.uriResolver,P,f.$ref);g=A.call(this,y,E)}const{schemaId:v}=this.opts;return g=g||new m({schema:f,schemaId:v,root:y,baseId:P}),g.schema!==g.root.schema?g:void 0}},5976:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};r.default=n},140:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(1880);class n extends Error{constructor(h,b,i,m){super(m||`can't resolve reference ${i} from id ${b}`),this.missingRef=(0,t.resolveUrl)(h,b,i),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(h,this.missingRef))}}r.default=n},1880:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSchemaRefs=r.resolveUrl=r.normalizeId=r._getFullPath=r.getFullPath=r.inlineRef=void 0;const t=s(7990),n=s(2559),e=s(3366),h=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);r.inlineRef=function b(u,d=!0){return"boolean"==typeof u||(!0===d?!m(u):!!d&&a(u)<=d)};const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function m(u){for(const d in u){if(i.has(d))return!0;const P=u[d];if(Array.isArray(P)&&P.some(m)||"object"==typeof P&&m(P))return!0}return!1}function a(u){let d=0;for(const P in u){if("$ref"===P)return 1/0;if(d++,!h.has(P)&&("object"==typeof u[P]&&(0,t.eachItem)(u[P],f=>d+=a(f)),d===1/0))return 1/0}return d}function c(u,d="",P){!1!==P&&(d=R(d));const f=u.parse(d);return S(u,f)}function S(u,d){return u.serialize(d).split("#")[0]+"#"}r.getFullPath=c,r._getFullPath=S;const _=/#\/?$/;function R(u){return u?u.replace(_,""):""}r.normalizeId=R,r.resolveUrl=function T(u,d,P){return P=R(P),u.resolve(d,P)};const A=/^[a-z_][-a-z0-9._]*$/i;r.getSchemaRefs=function D(u,d){if("boolean"==typeof u)return{};const{schemaId:P,uriResolver:f}=this.opts,y=R(u[P]||d),C={"":y},g=c(f,y,!1),v={},E=new Set;return e(u,{allKeys:!0},(H,B,ae,te)=>{if(void 0===te)return;const ue=g+B;let ve=C[te];function Te(ce){if(ce=R(ve?(0,this.opts.uriResolver.resolve)(ve,ce):ce),E.has(ce))throw Z(ce);E.add(ce);let G=this.refs[ce];return"string"==typeof G&&(G=this.refs[G]),"object"==typeof G?F(H,G.schema,ce):ce!==R(ue)&&("#"===ce[0]?(F(H,v[ce],ce),v[ce]=H):this.refs[ce]=ue),ce}function Ne(ce){if("string"==typeof ce){if(!A.test(ce))throw new Error(`invalid anchor "${ce}"`);Te.call(this,`#${ce}`)}}"string"==typeof H[P]&&(ve=Te.call(this,H[P])),Ne.call(this,H.$anchor),Ne.call(this,H.$dynamicAnchor),C[B]=ve}),v;function F(H,B,ae){if(void 0!==B&&!n(H,B))throw Z(ae)}function Z(H){return new Error(`reference "${H}" resolves to more than one schema`)}}},2848:(W,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getRules=r.isJSONType=void 0;const t=new Set(["string","number","integer","boolean","null","object","array"]);r.isJSONType=function n(h){return"string"==typeof h&&t.has(h)},r.getRules=function e(){const h={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...h,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},h.number,h.string,h.array,h.object],post:{rules:[]},all:{},keywords:{}}}},7990:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.checkStrictMode=r.getErrorPath=r.Type=r.useFunc=r.setEvaluated=r.evaluatedPropsToName=r.mergeEvaluated=r.eachItem=r.unescapeJsonPointer=r.escapeJsonPointer=r.escapeFragment=r.unescapeFragment=r.schemaRefOrVal=r.schemaHasRulesButRef=r.schemaHasRules=r.checkUnknownRules=r.alwaysValidSchema=r.toHash=void 0;const t=s(6382),n=s(6295);function b(g,v=g.schema){const{opts:E,self:F}=g;if(!E.strictSchema||"boolean"==typeof v)return;const Z=F.RULES.keywords;for(const H in v)Z[H]||C(g,`unknown keyword: "${H}"`)}function i(g,v){if("boolean"==typeof g)return!g;for(const E in g)if(v[E])return!0;return!1}function _(g){return"number"==typeof g?`${g}`:g.replace(/~/g,"~0").replace(/\//g,"~1")}function R(g){return g.replace(/~1/g,"/").replace(/~0/g,"~")}function A({mergeNames:g,mergeToName:v,mergeValues:E,resultToName:F}){return(Z,H,B,ae)=>{const te=void 0===B?H:B instanceof t.Name?(H instanceof t.Name?g(Z,H,B):v(Z,H,B),B):H instanceof t.Name?(v(Z,B,H),H):E(H,B);return ae!==t.Name||te instanceof t.Name?te:F(Z,te)}}function D(g,v){if(!0===v)return g.var("props",!0);const E=g.var("props",t._`{}`);return void 0!==v&&u(g,E,v),E}function u(g,v,E){Object.keys(E).forEach(F=>g.assign(t._`${v}${(0,t.getProperty)(F)}`,!0))}r.toHash=function e(g){const v={};for(const E of g)v[E]=!0;return v},r.alwaysValidSchema=function h(g,v){return"boolean"==typeof v?v:0===Object.keys(v).length||(b(g,v),!i(v,g.self.RULES.all))},r.checkUnknownRules=b,r.schemaHasRules=i,r.schemaHasRulesButRef=function m(g,v){if("boolean"==typeof g)return!g;for(const E in g)if("$ref"!==E&&v.all[E])return!0;return!1},r.schemaRefOrVal=function a({topSchemaRef:g,schemaPath:v},E,F,Z){if(!Z){if("number"==typeof E||"boolean"==typeof E)return E;if("string"==typeof E)return t._`${E}`}return t._`${g}${v}${(0,t.getProperty)(F)}`},r.unescapeFragment=function c(g){return R(decodeURIComponent(g))},r.escapeFragment=function S(g){return encodeURIComponent(_(g))},r.escapeJsonPointer=_,r.unescapeJsonPointer=R,r.eachItem=function T(g,v){if(Array.isArray(g))for(const E of g)v(E);else v(g)},r.mergeEvaluated={props:A({mergeNames:(g,v,E)=>g.if(t._`${E} !== true && ${v} !== undefined`,()=>{g.if(t._`${v} === true`,()=>g.assign(E,!0),()=>g.assign(E,t._`${E} || {}`).code(t._`Object.assign(${E}, ${v})`))}),mergeToName:(g,v,E)=>g.if(t._`${E} !== true`,()=>{!0===v?g.assign(E,!0):(g.assign(E,t._`${E} || {}`),u(g,E,v))}),mergeValues:(g,v)=>!0===g||{...g,...v},resultToName:D}),items:A({mergeNames:(g,v,E)=>g.if(t._`${E} !== true && ${v} !== undefined`,()=>g.assign(E,t._`${v} === true ? true : ${E} > ${v} ? ${E} : ${v}`)),mergeToName:(g,v,E)=>g.if(t._`${E} !== true`,()=>g.assign(E,!0===v||t._`${E} > ${v} ? ${E} : ${v}`)),mergeValues:(g,v)=>!0===g||Math.max(g,v),resultToName:(g,v)=>g.var("items",v)})},r.evaluatedPropsToName=D,r.setEvaluated=u;const d={};var f,g;function C(g,v,E=g.opts.strictSchema){if(E){if(v=`strict mode: ${v}`,!0===E)throw new Error(v);g.self.logger.warn(v)}}r.useFunc=function P(g,v){return g.scopeValue("func",{ref:v,code:d[v.code]||(d[v.code]=new n._Code(v.code))})},(g=f=r.Type||(r.Type={}))[g.Num=0]="Num",g[g.Str=1]="Str",r.getErrorPath=function y(g,v,E){if(g instanceof t.Name){const F=v===f.Num;return E?F?t._`"[" + ${g} + "]"`:t._`"['" + ${g} + "']"`:F?t._`"/" + ${g}`:t._`"/" + ${g}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return E?(0,t.getProperty)(g).toString():"/"+_(g)},r.checkStrictMode=C},368:(W,r)=>{"use strict";function t(e,h){return h.rules.some(b=>n(e,b))}function n(e,h){var b;return void 0!==e[h.keyword]||(null===(b=h.definition.implements)||void 0===b?void 0:b.some(i=>void 0!==e[i]))}Object.defineProperty(r,"__esModule",{value:!0}),r.shouldUseRule=r.shouldUseGroup=r.schemaHasRulesForType=void 0,r.schemaHasRulesForType=function s({schema:e,self:h},b){const i=h.RULES.types[b];return i&&!0!==i&&t(e,i)},r.shouldUseGroup=t,r.shouldUseRule=n},8007:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.boolOrEmptySchema=r.topBoolOrEmptySchema=void 0;const t=s(5091),n=s(6382),e=s(5976),h={message:"boolean schema is false"};function m(a,c){const{gen:S,data:_}=a;(0,t.reportError)({gen:S,keyword:"false schema",data:_,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a},h,void 0,c)}r.topBoolOrEmptySchema=function b(a){const{gen:c,schema:S,validateName:_}=a;!1===S?m(a,!1):"object"==typeof S&&!0===S.$async?c.return(e.default.data):(c.assign(n._`${_}.errors`,null),c.return(!0))},r.boolOrEmptySchema=function i(a,c){const{gen:S,schema:_}=a;!1===_?(S.var(c,!1),m(a)):S.var(c,!0)}},9078:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.reportTypeError=r.checkDataTypes=r.checkDataType=r.coerceAndCheckDataType=r.getJSONTypes=r.getSchemaTypes=r.DataType=void 0;const t=s(2848),n=s(368),e=s(5091),h=s(6382),b=s(7990);var i,f;function a(f){const y=Array.isArray(f)?f:f?[f]:[];if(y.every(t.isJSONType))return y;throw new Error("type must be JSONType or JSONType[]: "+y.join(","))}(f=i=r.DataType||(r.DataType={}))[f.Correct=0]="Correct",f[f.Wrong=1]="Wrong",r.getSchemaTypes=function m(f){const y=a(f.type);if(y.includes("null")){if(!1===f.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!y.length&&void 0!==f.nullable)throw new Error('"nullable" cannot be used without "type"');!0===f.nullable&&y.push("null")}return y},r.getJSONTypes=a,r.coerceAndCheckDataType=function c(f,y){const{gen:C,data:g,opts:v}=f,E=function _(f,y){return y?f.filter(C=>S.has(C)||"array"===y&&"array"===C):[]}(y,v.coerceTypes),F=y.length>0&&!(0===E.length&&1===y.length&&(0,n.schemaHasRulesForType)(f,y[0]));if(F){const Z=D(y,g,v.strictNumbers,i.Wrong);C.if(Z,()=>{E.length?function R(f,y,C){const{gen:g,data:v,opts:E}=f,F=g.let("dataType",h._`typeof ${v}`),Z=g.let("coerced",h._`undefined`);"array"===E.coerceTypes&&g.if(h._`${F} == 'object' && Array.isArray(${v}) && ${v}.length == 1`,()=>g.assign(v,h._`${v}[0]`).assign(F,h._`typeof ${v}`).if(D(y,v,E.strictNumbers),()=>g.assign(Z,v))),g.if(h._`${Z} !== undefined`);for(const B of C)(S.has(B)||"array"===B&&"array"===E.coerceTypes)&&H(B);function H(B){switch(B){case"string":return void g.elseIf(h._`${F} == "number" || ${F} == "boolean"`).assign(Z,h._`"" + ${v}`).elseIf(h._`${v} === null`).assign(Z,h._`""`);case"number":return void g.elseIf(h._`${F} == "boolean" || ${v} === null
              || (${F} == "string" && ${v} && ${v} == +${v})`).assign(Z,h._`+${v}`);case"integer":return void g.elseIf(h._`${F} === "boolean" || ${v} === null
              || (${F} === "string" && ${v} && ${v} == +${v} && !(${v} % 1))`).assign(Z,h._`+${v}`);case"boolean":return void g.elseIf(h._`${v} === "false" || ${v} === 0 || ${v} === null`).assign(Z,!1).elseIf(h._`${v} === "true" || ${v} === 1`).assign(Z,!0);case"null":return g.elseIf(h._`${v} === "" || ${v} === 0 || ${v} === false`),void g.assign(Z,null);case"array":g.elseIf(h._`${F} === "string" || ${F} === "number"
              || ${F} === "boolean" || ${v} === null`).assign(Z,h._`[${v}]`)}}g.else(),d(f),g.endIf(),g.if(h._`${Z} !== undefined`,()=>{g.assign(v,Z),function T({gen:f,parentData:y,parentDataProperty:C},g){f.if(h._`${y} !== undefined`,()=>f.assign(h._`${y}[${C}]`,g))}(f,Z)})}(f,y,E):d(f)})}return F};const S=new Set(["string","number","integer","boolean","null"]);function A(f,y,C,g=i.Correct){const v=g===i.Correct?h.operators.EQ:h.operators.NEQ;let E;switch(f){case"null":return h._`${y} ${v} null`;case"array":E=h._`Array.isArray(${y})`;break;case"object":E=h._`${y} && typeof ${y} == "object" && !Array.isArray(${y})`;break;case"integer":E=F(h._`!(${y} % 1) && !isNaN(${y})`);break;case"number":E=F();break;default:return h._`typeof ${y} ${v} ${f}`}return g===i.Correct?E:(0,h.not)(E);function F(Z=h.nil){return(0,h.and)(h._`typeof ${y} == "number"`,Z,C?h._`isFinite(${y})`:h.nil)}}function D(f,y,C,g){if(1===f.length)return A(f[0],y,C,g);let v;const E=(0,b.toHash)(f);if(E.array&&E.object){const F=h._`typeof ${y} != "object"`;v=E.null?F:h._`!${y} || ${F}`,delete E.null,delete E.array,delete E.object}else v=h.nil;E.number&&delete E.integer;for(const F in E)v=(0,h.and)(v,A(F,y,C,g));return v}r.checkDataType=A,r.checkDataTypes=D;const u={message:({schema:f})=>`must be ${f}`,params:({schema:f,schemaValue:y})=>"string"==typeof f?h._`{type: ${f}}`:h._`{type: ${y}}`};function d(f){const y=function P(f){const{gen:y,data:C,schema:g}=f,v=(0,b.schemaRefOrVal)(f,g,"type");return{gen:y,keyword:"type",data:C,schema:g.type,schemaCode:v,schemaValue:v,parentSchema:g,params:{},it:f}}(f);(0,e.reportError)(y,u)}r.reportTypeError=d},7866:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.assignDefaults=void 0;const t=s(6382),n=s(7990);function h(b,i,m){const{gen:a,compositeRule:c,data:S,opts:_}=b;if(void 0===m)return;const R=t._`${S}${(0,t.getProperty)(i)}`;if(c)return void(0,n.checkStrictMode)(b,`default is ignored for: ${R}`);let T=t._`${R} === undefined`;"empty"===_.useDefaults&&(T=t._`${T} || ${R} === null || ${R} === ""`),a.if(T,t._`${R} = ${(0,t.stringify)(m)}`)}r.assignDefaults=function e(b,i){const{properties:m,items:a}=b.schema;if("object"===i&&m)for(const c in m)h(b,c,m[c].default);else"array"===i&&Array.isArray(a)&&a.forEach((c,S)=>h(b,S,c.default))}},6764:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getData=r.KeywordCxt=r.validateFunctionCode=void 0;const t=s(8007),n=s(9078),e=s(368),h=s(9078),b=s(7866),i=s(2707),m=s(2639),a=s(6382),c=s(5976),S=s(1880),_=s(7990),R=s(5091);function A({gen:I,validateName:k,schema:z,schemaEnv:Q,opts:K},ee){K.code.es5?I.func(k,a._`${c.default.data}, ${c.default.valCxt}`,Q.$async,()=>{I.code(a._`"use strict"; ${f(z,K)}`),function u(I,k){I.if(c.default.valCxt,()=>{I.var(c.default.instancePath,a._`${c.default.valCxt}.${c.default.instancePath}`),I.var(c.default.parentData,a._`${c.default.valCxt}.${c.default.parentData}`),I.var(c.default.parentDataProperty,a._`${c.default.valCxt}.${c.default.parentDataProperty}`),I.var(c.default.rootData,a._`${c.default.valCxt}.${c.default.rootData}`),k.dynamicRef&&I.var(c.default.dynamicAnchors,a._`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{I.var(c.default.instancePath,a._`""`),I.var(c.default.parentData,a._`undefined`),I.var(c.default.parentDataProperty,a._`undefined`),I.var(c.default.rootData,c.default.data),k.dynamicRef&&I.var(c.default.dynamicAnchors,a._`{}`)})}(I,K),I.code(ee)}):I.func(k,a._`${c.default.data}, ${function D(I){return a._`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${I.dynamicRef?a._`, ${c.default.dynamicAnchors}={}`:a.nil}}={}`}(K)}`,Q.$async,()=>I.code(f(z,K)).code(ee))}function f(I,k){const z="object"==typeof I&&I[k.schemaId];return z&&(k.code.source||k.code.process)?a._`/*# sourceURL=${z} */`:a.nil}function C({schema:I,self:k}){if("boolean"==typeof I)return!I;for(const z in I)if(k.RULES.all[z])return!0;return!1}function g(I){return"boolean"!=typeof I.schema}function E(I){(0,_.checkUnknownRules)(I),function Z(I){const{schema:k,errSchemaPath:z,opts:Q,self:K}=I;k.$ref&&Q.ignoreKeywordsWithRef&&(0,_.schemaHasRulesButRef)(k,K.RULES)&&K.logger.warn(`$ref: keywords ignored in schema at path "${z}"`)}(I)}function F(I,k){if(I.opts.jtd)return Te(I,[],!1,k);const z=(0,n.getSchemaTypes)(I.schema);Te(I,z,!(0,n.coerceAndCheckDataType)(I,z),k)}function te({gen:I,schemaEnv:k,schema:z,errSchemaPath:Q,opts:K}){const ee=z.$comment;if(!0===K.$comment)I.code(a._`${c.default.self}.logger.log(${ee})`);else if("function"==typeof K.$comment){const he=a.str`${Q}/$comment`,Ce=I.scopeValue("root",{ref:k.root});I.code(a._`${c.default.self}.opts.$comment(${ee}, ${he}, ${Ce}.schema)`)}}function Te(I,k,z,Q){const{gen:K,schema:ee,data:he,allErrors:Ce,opts:ye,self:fe}=I,{RULES:_e}=fe;function Fe(Re){(0,e.shouldUseGroup)(ee,Re)&&(Re.type?(K.if((0,h.checkDataType)(Re.type,he,ye.strictNumbers)),Ne(I,Re),1===k.length&&k[0]===Re.type&&z&&(K.else(),(0,h.reportTypeError)(I)),K.endIf()):Ne(I,Re),Ce||K.if(a._`${c.default.errors} === ${Q||0}`))}!ee.$ref||!ye.ignoreKeywordsWithRef&&(0,_.schemaHasRulesButRef)(ee,_e)?(ye.jtd||function ce(I,k){I.schemaEnv.meta||!I.opts.strictTypes||(function Oe(I,k){if(k.length){if(!I.dataTypes.length)return void(I.dataTypes=k);k.forEach(z=>{o(I.dataTypes,z)||M(I,`type "${z}" not allowed by context "${I.dataTypes.join(",")}"`)}),function p(I,k){const z=[];for(const Q of I.dataTypes)o(k,Q)?z.push(Q):k.includes("integer")&&"number"===Q&&z.push("integer");I.dataTypes=z}(I,k)}}(I,k),I.opts.allowUnionTypes||function G(I,k){k.length>1&&(2!==k.length||!k.includes("null"))&&M(I,"use allowUnionTypes to allow union type keyword")}(I,k),function j(I,k){const z=I.self.RULES.all;for(const Q in z){const K=z[Q];if("object"==typeof K&&(0,e.shouldUseRule)(I.schema,K)){const{type:ee}=K.definition;ee.length&&!ee.some(he=>O(k,he))&&M(I,`missing type "${ee.join(",")}" for keyword "${Q}"`)}}}(I,I.dataTypes))}(I,k),K.block(()=>{for(const Re of _e.rules)Fe(Re);Fe(_e.post)})):K.block(()=>x(I,"$ref",_e.all.$ref.definition))}function Ne(I,k){const{gen:z,schema:Q,opts:{useDefaults:K}}=I;K&&(0,b.assignDefaults)(I,k.type),z.block(()=>{for(const ee of k.rules)(0,e.shouldUseRule)(Q,ee)&&x(I,ee.keyword,ee.definition,k.type)})}function O(I,k){return I.includes(k)||"number"===k&&I.includes("integer")}function o(I,k){return I.includes(k)||"integer"===k&&I.includes("number")}function M(I,k){(0,_.checkStrictMode)(I,k+=` at "${I.schemaEnv.baseId+I.errSchemaPath}" (strictTypes)`,I.opts.strictTypes)}r.validateFunctionCode=function T(I){g(I)&&(E(I),C(I))?function d(I){const{schema:k,opts:z,gen:Q}=I;A(I,()=>{z.$comment&&k.$comment&&te(I),function H(I){const{schema:k,opts:z}=I;void 0!==k.default&&z.useDefaults&&z.strictSchema&&(0,_.checkStrictMode)(I,"default is ignored in the schema root")}(I),Q.let(c.default.vErrors,null),Q.let(c.default.errors,0),z.unevaluated&&function P(I){const{gen:k,validateName:z}=I;I.evaluated=k.const("evaluated",a._`${z}.evaluated`),k.if(a._`${I.evaluated}.dynamicProps`,()=>k.assign(a._`${I.evaluated}.props`,a._`undefined`)),k.if(a._`${I.evaluated}.dynamicItems`,()=>k.assign(a._`${I.evaluated}.items`,a._`undefined`))}(I),F(I),function ue(I){const{gen:k,schemaEnv:z,validateName:Q,ValidationError:K,opts:ee}=I;z.$async?k.if(a._`${c.default.errors} === 0`,()=>k.return(c.default.data),()=>k.throw(a._`new ${K}(${c.default.vErrors})`)):(k.assign(a._`${Q}.errors`,c.default.vErrors),ee.unevaluated&&function ve({gen:I,evaluated:k,props:z,items:Q}){z instanceof a.Name&&I.assign(a._`${k}.props`,z),Q instanceof a.Name&&I.assign(a._`${k}.items`,Q)}(I),k.return(a._`${c.default.errors} === 0`))}(I)})}(I):A(I,()=>(0,t.topBoolOrEmptySchema)(I))};class Y{constructor(k,z,Q){if((0,i.validateKeywordUsage)(k,z,Q),this.gen=k.gen,this.allErrors=k.allErrors,this.keyword=Q,this.data=k.data,this.schema=k.schema[Q],this.$data=z.$data&&k.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,_.schemaRefOrVal)(k,this.schema,Q,this.$data),this.schemaType=z.schemaType,this.parentSchema=k.schema,this.params={},this.it=k,this.def=z,this.$data)this.schemaCode=k.gen.const("vSchema",Pe(this.$data,k));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,z.schemaType,z.allowUndefined))throw new Error(`${Q} value must be ${JSON.stringify(z.schemaType)}`);("code"in z?z.trackErrors:!1!==z.errors)&&(this.errsCount=k.gen.const("_errs",c.default.errors))}result(k,z,Q){this.failResult((0,a.not)(k),z,Q)}failResult(k,z,Q){this.gen.if(k),Q?Q():this.error(),z?(this.gen.else(),z(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(k,z){this.failResult((0,a.not)(k),void 0,z)}fail(k){if(void 0===k)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(k),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(k){if(!this.$data)return this.fail(k);const{schemaCode:z}=this;this.fail(a._`${z} !== undefined && (${(0,a.or)(this.invalid$data(),k)})`)}error(k,z,Q){if(z)return this.setParams(z),this._error(k,Q),void this.setParams({});this._error(k,Q)}_error(k,z){(k?R.reportExtraError:R.reportError)(this,this.def.error,z)}$dataError(){(0,R.reportError)(this,this.def.$dataError||R.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,R.resetErrorsCount)(this.gen,this.errsCount)}ok(k){this.allErrors||this.gen.if(k)}setParams(k,z){z?Object.assign(this.params,k):this.params=k}block$data(k,z,Q=a.nil){this.gen.block(()=>{this.check$data(k,Q),z()})}check$data(k=a.nil,z=a.nil){if(!this.$data)return;const{gen:Q,schemaCode:K,schemaType:ee,def:he}=this;Q.if((0,a.or)(a._`${K} === undefined`,z)),k!==a.nil&&Q.assign(k,!0),(ee.length||he.validateSchema)&&(Q.elseIf(this.invalid$data()),this.$dataError(),k!==a.nil&&Q.assign(k,!1)),Q.else()}invalid$data(){const{gen:k,schemaCode:z,schemaType:Q,def:K,it:ee}=this;return(0,a.or)(function he(){if(Q.length){if(!(z instanceof a.Name))throw new Error("ajv implementation error");const ye=Array.isArray(Q)?Q:[Q];return a._`${(0,h.checkDataTypes)(ye,z,ee.opts.strictNumbers,h.DataType.Wrong)}`}return a.nil}(),function Ce(){if(K.validateSchema){const ye=k.scopeValue("validate$data",{ref:K.validateSchema});return a._`!${ye}(${z})`}return a.nil}())}subschema(k,z){const Q=(0,m.getSubschema)(this.it,k);(0,m.extendSubschemaData)(Q,this.it,k),(0,m.extendSubschemaMode)(Q,k);const K={...this.it,...Q,items:void 0,props:void 0};return function y(I,k){g(I)&&(E(I),C(I))?function v(I,k){const{schema:z,gen:Q,opts:K}=I;K.$comment&&z.$comment&&te(I),function B(I){const k=I.schema[I.opts.schemaId];k&&(I.baseId=(0,S.resolveUrl)(I.opts.uriResolver,I.baseId,k))}(I),function ae(I){if(I.schema.$async&&!I.schemaEnv.$async)throw new Error("async schema in sync schema")}(I);const ee=Q.const("_errs",c.default.errors);F(I,ee),Q.var(k,a._`${ee} === ${c.default.errors}`)}(I,k):(0,t.boolOrEmptySchema)(I,k)}(K,z),K}mergeEvaluated(k,z){const{it:Q,gen:K}=this;Q.opts.unevaluated&&(!0!==Q.props&&void 0!==k.props&&(Q.props=_.mergeEvaluated.props(K,k.props,Q.props,z)),!0!==Q.items&&void 0!==k.items&&(Q.items=_.mergeEvaluated.items(K,k.items,Q.items,z)))}mergeValidEvaluated(k,z){const{it:Q,gen:K}=this;if(Q.opts.unevaluated&&(!0!==Q.props||!0!==Q.items))return K.if(z,()=>this.mergeEvaluated(k,a.Name)),!0}}function x(I,k,z,Q){const K=new Y(I,z,k);"code"in z?z.code(K,Q):K.$data&&z.validate?(0,i.funcKeywordCode)(K,z):"macro"in z?(0,i.macroKeywordCode)(K,z):(z.compile||z.validate)&&(0,i.funcKeywordCode)(K,z)}r.KeywordCxt=Y;const re=/^\/(?:[^~]|~0|~1)*$/,Ee=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Pe(I,{dataLevel:k,dataNames:z,dataPathArr:Q}){let K,ee;if(""===I)return c.default.rootData;if("/"===I[0]){if(!re.test(I))throw new Error(`Invalid JSON-pointer: ${I}`);K=I,ee=c.default.rootData}else{const fe=Ee.exec(I);if(!fe)throw new Error(`Invalid JSON-pointer: ${I}`);const _e=+fe[1];if(K=fe[2],"#"===K){if(_e>=k)throw new Error(ye("property/index",_e));return Q[k-_e]}if(_e>k)throw new Error(ye("data",_e));if(ee=z[k-_e],!K)return ee}let he=ee;const Ce=K.split("/");for(const fe of Ce)fe&&(ee=a._`${ee}${(0,a.getProperty)((0,_.unescapeJsonPointer)(fe))}`,he=a._`${he} && ${ee}`);return he;function ye(fe,_e){return`Cannot access ${fe} ${_e} levels up, current level is ${k}`}}r.getData=Pe},2707:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateKeywordUsage=r.validSchemaType=r.funcKeywordCode=r.macroKeywordCode=void 0;const t=s(6382),n=s(5976),e=s(2812),h=s(5091);function m(T){const{gen:A,data:D,it:u}=T;A.if(u.parentData,()=>A.assign(D,t._`${u.parentData}[${u.parentDataProperty}]`))}function S(T,A,D){if(void 0===D)throw new Error(`keyword "${A}" failed to compile`);return T.scopeValue("keyword","function"==typeof D?{ref:D}:{ref:D,code:(0,t.stringify)(D)})}r.macroKeywordCode=function b(T,A){const{gen:D,keyword:u,schema:d,parentSchema:P,it:f}=T,y=A.macro.call(f.self,d,P,f),C=S(D,u,y);!1!==f.opts.validateSchema&&f.self.validateSchema(y,!0);const g=D.name("valid");T.subschema({schema:y,schemaPath:t.nil,errSchemaPath:`${f.errSchemaPath}/${u}`,topSchemaRef:C,compositeRule:!0},g),T.pass(g,()=>T.error(!0))},r.funcKeywordCode=function i(T,A){var D;const{gen:u,keyword:d,schema:P,parentSchema:f,$data:y,it:C}=T;!function c({schemaEnv:T},A){if(A.async&&!T.$async)throw new Error("async keyword in sync schema")}(C,A);const g=!y&&A.compile?A.compile.call(C.self,P,f,C):A.validate,v=S(u,d,g),E=u.let("valid");function B(te=(A.async?t._`await `:t.nil)){u.assign(E,t._`${te}${(0,e.callValidateCode)(T,v,C.opts.passContext?n.default.this:n.default.self,!("compile"in A&&!y||!1===A.schema))}`,A.modifying)}function ae(te){var ue;u.if((0,t.not)(null!==(ue=A.valid)&&void 0!==ue?ue:E),te)}T.block$data(E,function F(){if(!1===A.errors)B(),A.modifying&&m(T),ae(()=>T.error());else{const te=A.async?function Z(){const te=u.let("ruleErrs",null);return u.try(()=>B(t._`await `),ue=>u.assign(E,!1).if(t._`${ue} instanceof ${C.ValidationError}`,()=>u.assign(te,t._`${ue}.errors`),()=>u.throw(ue))),te}():function H(){const te=t._`${v}.errors`;return u.assign(te,null),B(t.nil),te}();A.modifying&&m(T),ae(()=>function a(T,A){const{gen:D}=T;D.if(t._`Array.isArray(${A})`,()=>{D.assign(n.default.vErrors,t._`${n.default.vErrors} === null ? ${A} : ${n.default.vErrors}.concat(${A})`).assign(n.default.errors,t._`${n.default.vErrors}.length`),(0,h.extendErrors)(T)},()=>T.error())}(T,te))}}),T.ok(null!==(D=A.valid)&&void 0!==D?D:E)},r.validSchemaType=function _(T,A,D=!1){return!A.length||A.some(u=>"array"===u?Array.isArray(T):"object"===u?T&&"object"==typeof T&&!Array.isArray(T):typeof T==u||D&&typeof T>"u")},r.validateKeywordUsage=function R({schema:T,opts:A,self:D,errSchemaPath:u},d,P){if(Array.isArray(d.keyword)?!d.keyword.includes(P):d.keyword!==P)throw new Error("ajv implementation error");const f=d.dependencies;if(f?.some(y=>!Object.prototype.hasOwnProperty.call(T,y)))throw new Error(`parent schema must have dependencies of ${P}: ${f.join(",")}`);if(d.validateSchema&&!d.validateSchema(T[P])){const C=`keyword "${P}" value is invalid at path "${u}": `+D.errorsText(d.validateSchema.errors);if("log"!==A.validateSchema)throw new Error(C);D.logger.error(C)}}},2639:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extendSubschemaMode=r.extendSubschemaData=r.getSubschema=void 0;const t=s(6382),n=s(7990);r.getSubschema=function e(i,{keyword:m,schemaProp:a,schema:c,schemaPath:S,errSchemaPath:_,topSchemaRef:R}){if(void 0!==m&&void 0!==c)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==m){const T=i.schema[m];return void 0===a?{schema:T,schemaPath:t._`${i.schemaPath}${(0,t.getProperty)(m)}`,errSchemaPath:`${i.errSchemaPath}/${m}`}:{schema:T[a],schemaPath:t._`${i.schemaPath}${(0,t.getProperty)(m)}${(0,t.getProperty)(a)}`,errSchemaPath:`${i.errSchemaPath}/${m}/${(0,n.escapeFragment)(a)}`}}if(void 0!==c){if(void 0===S||void 0===_||void 0===R)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:S,topSchemaRef:R,errSchemaPath:_}}throw new Error('either "keyword" or "schema" must be passed')},r.extendSubschemaData=function h(i,m,{dataProp:a,dataPropType:c,data:S,dataTypes:_,propertyName:R}){if(void 0!==S&&void 0!==a)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:T}=m;if(void 0!==a){const{errorPath:D,dataPathArr:u,opts:d}=m;A(T.let("data",t._`${m.data}${(0,t.getProperty)(a)}`,!0)),i.errorPath=t.str`${D}${(0,n.getErrorPath)(a,c,d.jsPropertySyntax)}`,i.parentDataProperty=t._`${a}`,i.dataPathArr=[...u,i.parentDataProperty]}function A(D){i.data=D,i.dataLevel=m.dataLevel+1,i.dataTypes=[],m.definedProperties=new Set,i.parentData=m.data,i.dataNames=[...m.dataNames,D]}void 0!==S&&(A(S instanceof t.Name?S:T.let("data",S,!0)),void 0!==R&&(i.propertyName=R)),_&&(i.dataTypes=_)},r.extendSubschemaMode=function b(i,{jtdDiscriminator:m,jtdMetadata:a,compositeRule:c,createErrors:S,allErrors:_}){void 0!==c&&(i.compositeRule=c),void 0!==S&&(i.createErrors=S),void 0!==_&&(i.allErrors=_),i.jtdDiscriminator=m,i.jtdMetadata=a}},5910:(W,r,s)=>{"use strict";var t=s(9344).default;Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;var n=s(6764);Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var e=s(6382);Object.defineProperty(r,"_",{enumerable:!0,get:function(){return e._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return e.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return e.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return e.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return e.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return e.CodeGen}});const h=s(496),b=s(140),i=s(2848),m=s(7140),a=s(6382),c=s(1880),S=s(9078),_=s(7990),R=s(4775),T=s(1364),A=(G,j)=>new RegExp(G,j);A.code="new RegExp";const D=["removeAdditional","useDefaults","coerceTypes"],u=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),d={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},P={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},f=200;function y(G){var j,O,o,p,M,Y,x,re,Ee,Pe,I,k,z,Q,K,ee,he,Ce,ye,fe,_e,Fe,Re,Ge,Qe;const be=G.strict,Ve=null===(j=G.code)||void 0===j?void 0:j.optimize,Ie=!0===Ve||void 0===Ve?1:Ve||0,Ye=null!==(o=null===(O=G.code)||void 0===O?void 0:O.regExp)&&void 0!==o?o:A,ze=null!==(p=G.uriResolver)&&void 0!==p?p:T.default;return{strictSchema:null===(Y=null!==(M=G.strictSchema)&&void 0!==M?M:be)||void 0===Y||Y,strictNumbers:null===(re=null!==(x=G.strictNumbers)&&void 0!==x?x:be)||void 0===re||re,strictTypes:null!==(Pe=null!==(Ee=G.strictTypes)&&void 0!==Ee?Ee:be)&&void 0!==Pe?Pe:"log",strictTuples:null!==(k=null!==(I=G.strictTuples)&&void 0!==I?I:be)&&void 0!==k?k:"log",strictRequired:null!==(Q=null!==(z=G.strictRequired)&&void 0!==z?z:be)&&void 0!==Q&&Q,code:G.code?{...G.code,optimize:Ie,regExp:Ye}:{optimize:Ie,regExp:Ye},loopRequired:null!==(K=G.loopRequired)&&void 0!==K?K:f,loopEnum:null!==(ee=G.loopEnum)&&void 0!==ee?ee:f,meta:null===(he=G.meta)||void 0===he||he,messages:null===(Ce=G.messages)||void 0===Ce||Ce,inlineRefs:null===(ye=G.inlineRefs)||void 0===ye||ye,schemaId:null!==(fe=G.schemaId)&&void 0!==fe?fe:"$id",addUsedSchema:null===(_e=G.addUsedSchema)||void 0===_e||_e,validateSchema:null===(Fe=G.validateSchema)||void 0===Fe||Fe,validateFormats:null===(Re=G.validateFormats)||void 0===Re||Re,unicodeRegExp:null===(Ge=G.unicodeRegExp)||void 0===Ge||Ge,int32range:null===(Qe=G.int32range)||void 0===Qe||Qe,uriResolver:ze}}class C{constructor(j={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,j=this.opts={...j,...y(j)};const{es5:O,lines:o}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:u,es5:O,lines:o}),this.logger=function ae(G){if(!1===G)return B;if(void 0===G)return console;if(G.log&&G.warn&&G.error)return G;throw new Error("logger must implement log, warn and error methods")}(j.logger);const p=j.validateFormats;j.validateFormats=!1,this.RULES=(0,i.getRules)(),g.call(this,d,j,"NOT SUPPORTED"),g.call(this,P,j,"DEPRECATED","warn"),this._metaOpts=H.call(this),j.formats&&F.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),j.keywords&&Z.call(this,j.keywords),"object"==typeof j.meta&&this.addMetaSchema(j.meta),E.call(this),j.validateFormats=p}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:j,meta:O,schemaId:o}=this.opts;let p=R;"id"===o&&(p={...R},p.id=p.$id,delete p.$id),O&&j&&this.addMetaSchema(p,p[o],!1)}defaultMeta(){const{meta:j,schemaId:O}=this.opts;return this.opts.defaultMeta="object"==typeof j?j[O]||j:void 0}validate(j,O){let o;if("string"==typeof j){if(o=this.getSchema(j),!o)throw new Error(`no schema with key or ref "${j}"`)}else o=this.compile(j);const p=o(O);return"$async"in o||(this.errors=o.errors),p}compile(j,O){const o=this._addSchema(j,O);return o.validate||this._compileSchemaEnv(o)}compileAsync(j,O){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:o}=this.opts;return p.call(this,j,O);function p(K,ee){return M.apply(this,arguments)}function M(){return(M=t(function*(K,ee){yield Y.call(this,K.$schema);const he=this._addSchema(K,ee);return he.validate||re.call(this,he)})).apply(this,arguments)}function Y(K){return x.apply(this,arguments)}function x(){return(x=t(function*(K){K&&!this.getSchema(K)&&(yield p.call(this,{$ref:K},!0))})).apply(this,arguments)}function re(K){return Ee.apply(this,arguments)}function Ee(){return(Ee=t(function*(K){try{return this._compileSchemaEnv(K)}catch(ee){if(!(ee instanceof b.default))throw ee;return Pe.call(this,ee),yield I.call(this,ee.missingSchema),re.call(this,K)}})).apply(this,arguments)}function Pe({missingSchema:K,missingRef:ee}){if(this.refs[K])throw new Error(`AnySchema ${K} is loaded but ${ee} cannot be resolved`)}function I(K){return k.apply(this,arguments)}function k(){return(k=t(function*(K){const ee=yield z.call(this,K);this.refs[K]||(yield Y.call(this,ee.$schema)),this.refs[K]||this.addSchema(ee,K,O)})).apply(this,arguments)}function z(K){return Q.apply(this,arguments)}function Q(){return(Q=t(function*(K){const ee=this._loading[K];if(ee)return ee;try{return yield this._loading[K]=o(K)}finally{delete this._loading[K]}})).apply(this,arguments)}}addSchema(j,O,o,p=this.opts.validateSchema){if(Array.isArray(j)){for(const Y of j)this.addSchema(Y,void 0,o,p);return this}let M;if("object"==typeof j){const{schemaId:Y}=this.opts;if(M=j[Y],void 0!==M&&"string"!=typeof M)throw new Error(`schema ${Y} must be string`)}return O=(0,c.normalizeId)(O||M),this._checkUnique(O),this.schemas[O]=this._addSchema(j,o,O,p,!0),this}addMetaSchema(j,O,o=this.opts.validateSchema){return this.addSchema(j,O,!0,o),this}validateSchema(j,O){if("boolean"==typeof j)return!0;let o;if(o=j.$schema,void 0!==o&&"string"!=typeof o)throw new Error("$schema must be a string");if(o=o||this.opts.defaultMeta||this.defaultMeta(),!o)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const p=this.validate(o,j);if(!p&&O){const M="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(M);this.logger.error(M)}return p}getSchema(j){let O;for(;"string"==typeof(O=v.call(this,j));)j=O;if(void 0===O){const{schemaId:o}=this.opts,p=new m.SchemaEnv({schema:{},schemaId:o});if(O=m.resolveSchema.call(this,p,j),!O)return;this.refs[j]=O}return O.validate||this._compileSchemaEnv(O)}removeSchema(j){if(j instanceof RegExp)return this._removeAllSchemas(this.schemas,j),this._removeAllSchemas(this.refs,j),this;switch(typeof j){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const O=v.call(this,j);return"object"==typeof O&&this._cache.delete(O.schema),delete this.schemas[j],delete this.refs[j],this}case"object":{this._cache.delete(j);let o=j[this.opts.schemaId];return o&&(o=(0,c.normalizeId)(o),delete this.schemas[o],delete this.refs[o]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(j){for(const O of j)this.addKeyword(O);return this}addKeyword(j,O){let o;if("string"==typeof j)o=j,"object"==typeof O&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),O.keyword=o);else{if("object"!=typeof j||void 0!==O)throw new Error("invalid addKeywords parameters");if(o=(O=j).keyword,Array.isArray(o)&&!o.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(ue.call(this,o,O),!O)return(0,_.eachItem)(o,M=>ve.call(this,M)),this;Ne.call(this,O);const p={...O,type:(0,S.getJSONTypes)(O.type),schemaType:(0,S.getJSONTypes)(O.schemaType)};return(0,_.eachItem)(o,0===p.type.length?M=>ve.call(this,M,p):M=>p.type.forEach(Y=>ve.call(this,M,p,Y))),this}getKeyword(j){const O=this.RULES.all[j];return"object"==typeof O?O.definition:!!O}removeKeyword(j){const{RULES:O}=this;delete O.keywords[j],delete O.all[j];for(const o of O.rules){const p=o.rules.findIndex(M=>M.keyword===j);p>=0&&o.rules.splice(p,1)}return this}addFormat(j,O){return"string"==typeof O&&(O=new RegExp(O)),this.formats[j]=O,this}errorsText(j=this.errors,{separator:O=", ",dataVar:o="data"}={}){return j&&0!==j.length?j.map(p=>`${o}${p.instancePath} ${p.message}`).reduce((p,M)=>p+O+M):"No errors"}$dataMetaSchema(j,O){const o=this.RULES.all;j=JSON.parse(JSON.stringify(j));for(const p of O){const M=p.split("/").slice(1);let Y=j;for(const x of M)Y=Y[x];for(const x in o){const re=o[x];if("object"!=typeof re)continue;const{$data:Ee}=re.definition,Pe=Y[x];Ee&&Pe&&(Y[x]=Oe(Pe))}}return j}_removeAllSchemas(j,O){for(const o in j){const p=j[o];(!O||O.test(o))&&("string"==typeof p?delete j[o]:p&&!p.meta&&(this._cache.delete(p.schema),delete j[o]))}}_addSchema(j,O,o,p=this.opts.validateSchema,M=this.opts.addUsedSchema){let Y;const{schemaId:x}=this.opts;if("object"==typeof j)Y=j[x];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof j)throw new Error("schema must be object or boolean")}let re=this._cache.get(j);if(void 0!==re)return re;o=(0,c.normalizeId)(Y||o);const Ee=c.getSchemaRefs.call(this,j,o);return re=new m.SchemaEnv({schema:j,schemaId:x,meta:O,baseId:o,localRefs:Ee}),this._cache.set(re.schema,re),M&&!o.startsWith("#")&&(o&&this._checkUnique(o),this.refs[o]=re),p&&this.validateSchema(j,!0),re}_checkUnique(j){if(this.schemas[j]||this.refs[j])throw new Error(`schema with key or id "${j}" already exists`)}_compileSchemaEnv(j){if(j.meta?this._compileMetaSchema(j):m.compileSchema.call(this,j),!j.validate)throw new Error("ajv implementation error");return j.validate}_compileMetaSchema(j){const O=this.opts;this.opts=this._metaOpts;try{m.compileSchema.call(this,j)}finally{this.opts=O}}}function g(G,j,O,o="error"){for(const p in G)p in j&&this.logger[o](`${O}: option ${p}. ${G[p]}`)}function v(G){return G=(0,c.normalizeId)(G),this.schemas[G]||this.refs[G]}function E(){const G=this.opts.schemas;if(G)if(Array.isArray(G))this.addSchema(G);else for(const j in G)this.addSchema(G[j],j)}function F(){for(const G in this.opts.formats){const j=this.opts.formats[G];j&&this.addFormat(G,j)}}function Z(G){if(Array.isArray(G))this.addVocabulary(G);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const j in G){const O=G[j];O.keyword||(O.keyword=j),this.addKeyword(O)}}}function H(){const G={...this.opts};for(const j of D)delete G[j];return G}r.default=C,C.ValidationError=h.default,C.MissingRefError=b.default;const B={log(){},warn(){},error(){}},te=/^[a-z_$][a-z0-9_$:-]*$/i;function ue(G,j){const{RULES:O}=this;if((0,_.eachItem)(G,o=>{if(O.keywords[o])throw new Error(`Keyword ${o} is already defined`);if(!te.test(o))throw new Error(`Keyword ${o} has invalid name`)}),j&&j.$data&&!("code"in j)&&!("validate"in j))throw new Error('$data keyword must have "code" or "validate" function')}function ve(G,j,O){var o;const p=j?.post;if(O&&p)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:M}=this;let Y=p?M.post:M.rules.find(({type:re})=>re===O);if(Y||(Y={type:O,rules:[]},M.rules.push(Y)),M.keywords[G]=!0,!j)return;const x={keyword:G,definition:{...j,type:(0,S.getJSONTypes)(j.type),schemaType:(0,S.getJSONTypes)(j.schemaType)}};j.before?Te.call(this,Y,x,j.before):Y.rules.push(x),M.all[G]=x,null===(o=j.implements)||void 0===o||o.forEach(re=>this.addKeyword(re))}function Te(G,j,O){const o=G.rules.findIndex(p=>p.keyword===O);o>=0?G.rules.splice(o,0,j):(G.rules.push(j),this.logger.warn(`rule ${O} is not defined`))}function Ne(G){let{metaSchema:j}=G;void 0!==j&&(G.$data&&this.opts.$data&&(j=Oe(j)),G.validateSchema=this.compile(j,!0))}const ce={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Oe(G){return{anyOf:[G,ce]}}},834:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(2559);t.code='require("ajv/dist/runtime/equal").default',r.default=t},6344:(W,r)=>{"use strict";function s(t){const n=t.length;let b,e=0,h=0;for(;h<n;)e++,b=t.charCodeAt(h++),b>=55296&&b<=56319&&h<n&&(b=t.charCodeAt(h),56320==(64512&b)&&h++);return e}Object.defineProperty(r,"__esModule",{value:!0}),r.default=s,s.code='require("ajv/dist/runtime/ucs2length").default'},1364:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6482);t.code='require("ajv/dist/runtime/uri").default',r.default=t},496:(W,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});class s extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}r.default=s},9282:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateAdditionalItems=void 0;const t=s(6382),n=s(7990),h={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:i}})=>t.str`must NOT have more than ${i} items`,params:({params:{len:i}})=>t._`{limit: ${i}}`},code(i){const{parentSchema:m,it:a}=i,{items:c}=m;Array.isArray(c)?b(i,c):(0,n.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas')}};function b(i,m){const{gen:a,schema:c,data:S,keyword:_,it:R}=i;R.items=!0;const T=a.const("len",t._`${S}.length`);if(!1===c)i.setParams({len:m.length}),i.pass(t._`${T} <= ${m.length}`);else if("object"==typeof c&&!(0,n.alwaysValidSchema)(R,c)){const D=a.var("valid",t._`${T} <= ${m.length}`);a.if((0,t.not)(D),()=>function A(D){a.forRange("i",m.length,T,u=>{i.subschema({keyword:_,dataProp:u,dataPropType:n.Type.Num},D),R.allErrors||a.if((0,t.not)(D),()=>a.break())})}(D)),i.ok(D)}}r.validateAdditionalItems=b,r.default=h},5459:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(2812),n=s(6382),e=s(5976),h=s(7990);r.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:m})=>n._`{additionalProperty: ${m.additionalProperty}}`},code(m){const{gen:a,schema:c,parentSchema:S,data:_,errsCount:R,it:T}=m;if(!R)throw new Error("ajv implementation error");const{allErrors:A,opts:D}=T;if(T.props=!0,"all"!==D.removeAdditional&&(0,h.alwaysValidSchema)(T,c))return;const u=(0,t.allSchemaProperties)(S.properties),d=(0,t.allSchemaProperties)(S.patternProperties);function y(v){a.code(n._`delete ${_}[${v}]`)}function C(v){if("all"===D.removeAdditional||D.removeAdditional&&!1===c)y(v);else{if(!1===c)return m.setParams({additionalProperty:v}),m.error(),void(A||a.break());if("object"==typeof c&&!(0,h.alwaysValidSchema)(T,c)){const E=a.name("valid");"failing"===D.removeAdditional?(g(v,E,!1),a.if((0,n.not)(E),()=>{m.reset(),y(v)})):(g(v,E),A||a.if((0,n.not)(E),()=>a.break()))}}}function g(v,E,F){const Z={keyword:"additionalProperties",dataProp:v,dataPropType:h.Type.Str};!1===F&&Object.assign(Z,{compositeRule:!0,createErrors:!1,allErrors:!1}),m.subschema(Z,E)}(function P(){a.forIn("key",_,v=>{u.length||d.length?a.if(function f(v){let E;if(u.length>8){const F=(0,h.schemaRefOrVal)(T,S.properties,"properties");E=(0,t.isOwnProperty)(a,F,v)}else E=u.length?(0,n.or)(...u.map(F=>n._`${v} === ${F}`)):n.nil;return d.length&&(E=(0,n.or)(E,...d.map(F=>n._`${(0,t.usePattern)(m,F)}.test(${v})`))),(0,n.not)(E)}(v),()=>C(v)):C(v)})})(),m.ok(n._`${R} === ${e.default.errors}`)}}},6186:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(7990);r.default={keyword:"allOf",schemaType:"array",code(e){const{gen:h,schema:b,it:i}=e;if(!Array.isArray(b))throw new Error("ajv implementation error");const m=h.name("valid");b.forEach((a,c)=>{if((0,t.alwaysValidSchema)(i,a))return;const S=e.subschema({keyword:"allOf",schemaProp:c},m);e.ok(m),e.mergeEvaluated(S)})}}},290:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:s(2812).validateUnion,error:{message:"must match a schema in anyOf"}};r.default=n},5738:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990);r.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:b,max:i}})=>void 0===i?t.str`must contain at least ${b} valid item(s)`:t.str`must contain at least ${b} and no more than ${i} valid item(s)`,params:({params:{min:b,max:i}})=>void 0===i?t._`{minContains: ${b}}`:t._`{minContains: ${b}, maxContains: ${i}}`},code(b){const{gen:i,schema:m,parentSchema:a,data:c,it:S}=b;let _,R;const{minContains:T,maxContains:A}=a;S.opts.next?(_=void 0===T?1:T,R=A):_=1;const D=i.const("len",t._`${c}.length`);if(b.setParams({min:_,max:R}),void 0===R&&0===_)return void(0,n.checkStrictMode)(S,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==R&&_>R)return(0,n.checkStrictMode)(S,'"minContains" > "maxContains" is always invalid'),void b.fail();if((0,n.alwaysValidSchema)(S,m)){let y=t._`${D} >= ${_}`;return void 0!==R&&(y=t._`${y} && ${D} <= ${R}`),void b.pass(y)}S.items=!0;const u=i.name("valid");function d(){const y=i.name("_valid"),C=i.let("count",0);P(y,()=>i.if(y,()=>function f(y){i.code(t._`${y}++`),void 0===R?i.if(t._`${y} >= ${_}`,()=>i.assign(u,!0).break()):(i.if(t._`${y} > ${R}`,()=>i.assign(u,!1).break()),1===_?i.assign(u,!0):i.if(t._`${y} >= ${_}`,()=>i.assign(u,!0)))}(C)))}function P(y,C){i.forRange("i",0,D,g=>{b.subschema({keyword:"contains",dataProp:g,dataPropType:n.Type.Num,compositeRule:!0},y),C()})}void 0===R&&1===_?P(u,()=>i.if(u,()=>i.break())):0===_?(i.let(u,!0),void 0!==R&&i.if(t._`${c}.length > 0`,d)):(i.let(u,!1),d()),b.result(u,()=>b.reset())}}},1886:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateSchemaDeps=r.validatePropertyDeps=r.error=void 0;const t=s(6382),n=s(7990),e=s(2812);r.error={message:({params:{property:a,depsCount:c,deps:S}})=>t.str`must have ${1===c?"property":"properties"} ${S} when property ${a} is present`,params:({params:{property:a,depsCount:c,deps:S,missingProperty:_}})=>t._`{property: ${a},
    missingProperty: ${_},
    depsCount: ${c},
    deps: ${S}}`};const h={keyword:"dependencies",type:"object",schemaType:"object",error:r.error,code(a){const[c,S]=function b({schema:a}){const c={},S={};for(const _ in a)"__proto__"!==_&&((Array.isArray(a[_])?c:S)[_]=a[_]);return[c,S]}(a);i(a,c),m(a,S)}};function i(a,c=a.schema){const{gen:S,data:_,it:R}=a;if(0===Object.keys(c).length)return;const T=S.let("missing");for(const A in c){const D=c[A];if(0===D.length)continue;const u=(0,e.propertyInData)(S,_,A,R.opts.ownProperties);a.setParams({property:A,depsCount:D.length,deps:D.join(", ")}),R.allErrors?S.if(u,()=>{for(const d of D)(0,e.checkReportMissingProp)(a,d)}):(S.if(t._`${u} && (${(0,e.checkMissingProp)(a,D,T)})`),(0,e.reportMissingProp)(a,T),S.else())}}function m(a,c=a.schema){const{gen:S,data:_,keyword:R,it:T}=a,A=S.name("valid");for(const D in c)(0,n.alwaysValidSchema)(T,c[D])||(S.if((0,e.propertyInData)(S,_,D,T.opts.ownProperties),()=>{const u=a.subschema({keyword:R,schemaProp:D},A);a.mergeValidEvaluated(u,A)},()=>S.var(A,!0)),a.ok(A))}r.validatePropertyDeps=i,r.validateSchemaDeps=m,r.default=h},3632:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990);function b(i,m){const a=i.schema[m];return void 0!==a&&!(0,n.alwaysValidSchema)(i,a)}r.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:i})=>t.str`must match "${i.ifClause}" schema`,params:({params:i})=>t._`{failingKeyword: ${i.ifClause}}`},code(i){const{gen:m,parentSchema:a,it:c}=i;void 0===a.then&&void 0===a.else&&(0,n.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const S=b(c,"then"),_=b(c,"else");if(!S&&!_)return;const R=m.let("valid",!0),T=m.name("_valid");if(function A(){const u=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},T);i.mergeEvaluated(u)}(),i.reset(),S&&_){const u=m.let("ifClause");i.setParams({ifClause:u}),m.if(T,D("then",u),D("else",u))}else S?m.if(T,D("then")):m.if((0,t.not)(T),D("else"));function D(u,d){return()=>{const P=i.subschema({keyword:u},T);m.assign(R,T),i.mergeValidEvaluated(P,R),d?m.assign(d,t._`${u}`):i.setParams({ifClause:u})}}i.pass(R,()=>i.error(!0))}}},7737:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(9282),n=s(4947),e=s(9180),h=s(1785),b=s(5738),i=s(1886),m=s(7947),a=s(5459),c=s(8415),S=s(896),_=s(6330),R=s(290),T=s(2337),A=s(6186),D=s(3632),u=s(1344);r.default=function d(P=!1){const f=[_.default,R.default,T.default,A.default,D.default,u.default,m.default,a.default,i.default,c.default,S.default];return P?f.push(n.default,h.default):f.push(t.default,e.default),f.push(b.default),f}},9180:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateTuple=void 0;const t=s(6382),n=s(7990),e=s(2812),h={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:m,it:a}=i;if(Array.isArray(m))return b(i,"additionalItems",m);a.items=!0,!(0,n.alwaysValidSchema)(a,m)&&i.ok((0,e.validateArray)(i))}};function b(i,m,a=i.schema){const{gen:c,parentSchema:S,data:_,keyword:R,it:T}=i;(function u(d){const{opts:P,errSchemaPath:f}=T,y=a.length;P.strictTuples&&!(y===d.minItems&&(y===d.maxItems||!1===d[m]))&&(0,n.checkStrictMode)(T,`"${R}" is ${y}-tuple, but minItems or maxItems/${m} are not specified or different at path "${f}"`,P.strictTuples)})(S),T.opts.unevaluated&&a.length&&!0!==T.items&&(T.items=n.mergeEvaluated.items(c,a.length,T.items));const A=c.name("valid"),D=c.const("len",t._`${_}.length`);a.forEach((d,P)=>{(0,n.alwaysValidSchema)(T,d)||(c.if(t._`${D} > ${P}`,()=>i.subschema({keyword:R,schemaProp:P,dataProp:P},A)),i.ok(A))})}r.validateTuple=b,r.default=h},1785:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990),e=s(2812),h=s(9282);r.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:m}})=>t.str`must NOT have more than ${m} items`,params:({params:{len:m}})=>t._`{limit: ${m}}`},code(m){const{schema:a,parentSchema:c,it:S}=m,{prefixItems:_}=c;S.items=!0,!(0,n.alwaysValidSchema)(S,a)&&(_?(0,h.validateAdditionalItems)(m,_):m.ok((0,e.validateArray)(m)))}}},6330:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(7990);r.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:h,schema:b,it:i}=e;if((0,t.alwaysValidSchema)(i,b))return void e.fail();const m=h.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},m),e.failResult(m,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}}},2337:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990);r.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:b})=>t._`{passingSchemas: ${b.passing}}`},code(b){const{gen:i,schema:m,parentSchema:a,it:c}=b;if(!Array.isArray(m))throw new Error("ajv implementation error");if(c.opts.discriminator&&a.discriminator)return;const S=m,_=i.let("valid",!1),R=i.let("passing",null),T=i.name("_valid");b.setParams({passing:R}),i.block(function A(){S.forEach((D,u)=>{let d;(0,n.alwaysValidSchema)(c,D)?i.var(T,!0):d=b.subschema({keyword:"oneOf",schemaProp:u,compositeRule:!0},T),u>0&&i.if(t._`${T} && ${_}`).assign(_,!1).assign(R,t._`[${R}, ${u}]`).else(),i.if(T,()=>{i.assign(_,!0),i.assign(R,u),d&&b.mergeEvaluated(d,t.Name)})})}),b.result(_,()=>b.reset(),()=>b.error(!0))}}},896:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(2812),n=s(6382),e=s(7990),h=s(7990);r.default={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:m,schema:a,data:c,parentSchema:S,it:_}=i,{opts:R}=_,T=(0,t.allSchemaProperties)(a),A=T.filter(C=>(0,e.alwaysValidSchema)(_,a[C]));if(0===T.length||A.length===T.length&&(!_.opts.unevaluated||!0===_.props))return;const D=R.strictSchema&&!R.allowMatchingProperties&&S.properties,u=m.name("valid");!0!==_.props&&!(_.props instanceof n.Name)&&(_.props=(0,h.evaluatedPropsToName)(m,_.props));const{props:d}=_;function f(C){for(const g in D)new RegExp(C).test(g)&&(0,e.checkStrictMode)(_,`property ${g} matches pattern ${C} (use allowMatchingProperties)`)}function y(C){m.forIn("key",c,g=>{m.if(n._`${(0,t.usePattern)(i,C)}.test(${g})`,()=>{const v=A.includes(C);v||i.subschema({keyword:"patternProperties",schemaProp:C,dataProp:g,dataPropType:h.Type.Str},u),_.opts.unevaluated&&!0!==d?m.assign(n._`${d}[${g}]`,!0):!v&&!_.allErrors&&m.if((0,n.not)(u),()=>m.break())})})}!function P(){for(const C of T)D&&f(C),_.allErrors?y(C):(m.var(u,!0),y(C),m.if(u))}()}}},4947:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(9180);r.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,t.validateTuple)(e,"items")}},8415:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6764),n=s(2812),e=s(7990),h=s(5459);r.default={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:m,schema:a,parentSchema:c,data:S,it:_}=i;"all"===_.opts.removeAdditional&&void 0===c.additionalProperties&&h.default.code(new t.KeywordCxt(_,h.default,"additionalProperties"));const R=(0,n.allSchemaProperties)(a);for(const d of R)_.definedProperties.add(d);_.opts.unevaluated&&R.length&&!0!==_.props&&(_.props=e.mergeEvaluated.props(m,(0,e.toHash)(R),_.props));const T=R.filter(d=>!(0,e.alwaysValidSchema)(_,a[d]));if(0===T.length)return;const A=m.name("valid");for(const d of T)D(d)?u(d):(m.if((0,n.propertyInData)(m,S,d,_.opts.ownProperties)),u(d),_.allErrors||m.else().var(A,!0),m.endIf()),i.it.definedProperties.add(d),i.ok(A);function D(d){return _.opts.useDefaults&&!_.compositeRule&&void 0!==a[d].default}function u(d){i.subschema({keyword:"properties",schemaProp:d,dataProp:d},A)}}}},7947:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990);r.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:b})=>t._`{propertyName: ${b.propertyName}}`},code(b){const{gen:i,schema:m,data:a,it:c}=b;if((0,n.alwaysValidSchema)(c,m))return;const S=i.name("valid");i.forIn("key",a,_=>{b.setParams({propertyName:_}),b.subschema({keyword:"propertyNames",data:_,dataTypes:["string"],propertyName:_,compositeRule:!0},S),i.if((0,t.not)(S),()=>{b.error(!0),c.allErrors||i.break()})}),b.ok(S)}}},1344:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(7990);r.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:h,it:b}){void 0===h.if&&(0,t.checkStrictMode)(b,`"${e}" without "if" is ignored`)}}},2812:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateUnion=r.validateArray=r.usePattern=r.callValidateCode=r.schemaProperties=r.allSchemaProperties=r.noPropertyInData=r.propertyInData=r.isOwnProperty=r.hasPropFunc=r.reportMissingProp=r.checkMissingProp=r.checkReportMissingProp=void 0;const t=s(6382),n=s(7990),e=s(5976),h=s(7990);function a(f){return f.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:t._`Object.prototype.hasOwnProperty`})}function c(f,y,C){return t._`${a(f)}.call(${y}, ${C})`}function _(f,y,C,g){const v=t._`${y}${(0,t.getProperty)(C)} === undefined`;return g?(0,t.or)(v,(0,t.not)(c(f,y,C))):v}function R(f){return f?Object.keys(f).filter(y=>"__proto__"!==y):[]}r.checkReportMissingProp=function b(f,y){const{gen:C,data:g,it:v}=f;C.if(_(C,g,y,v.opts.ownProperties),()=>{f.setParams({missingProperty:t._`${y}`},!0),f.error()})},r.checkMissingProp=function i({gen:f,data:y,it:{opts:C}},g,v){return(0,t.or)(...g.map(E=>(0,t.and)(_(f,y,E,C.ownProperties),t._`${v} = ${E}`)))},r.reportMissingProp=function m(f,y){f.setParams({missingProperty:y},!0),f.error()},r.hasPropFunc=a,r.isOwnProperty=c,r.propertyInData=function S(f,y,C,g){const v=t._`${y}${(0,t.getProperty)(C)} !== undefined`;return g?t._`${v} && ${c(f,y,C)}`:v},r.noPropertyInData=_,r.allSchemaProperties=R,r.schemaProperties=function T(f,y){return R(y).filter(C=>!(0,n.alwaysValidSchema)(f,y[C]))},r.callValidateCode=function A({schemaCode:f,data:y,it:{gen:C,topSchemaRef:g,schemaPath:v,errorPath:E},it:F},Z,H,B){const ae=B?t._`${f}, ${y}, ${g}${v}`:y,te=[[e.default.instancePath,(0,t.strConcat)(e.default.instancePath,E)],[e.default.parentData,F.parentData],[e.default.parentDataProperty,F.parentDataProperty],[e.default.rootData,e.default.rootData]];F.opts.dynamicRef&&te.push([e.default.dynamicAnchors,e.default.dynamicAnchors]);const ue=t._`${ae}, ${C.object(...te)}`;return H!==t.nil?t._`${Z}.call(${H}, ${ue})`:t._`${Z}(${ue})`};const D=t._`new RegExp`;r.usePattern=function u({gen:f,it:{opts:y}},C){const g=y.unicodeRegExp?"u":"",{regExp:v}=y.code,E=v(C,g);return f.scopeValue("pattern",{key:E.toString(),ref:E,code:t._`${"new RegExp"===v.code?D:(0,h.useFunc)(f,v)}(${C}, ${g})`})},r.validateArray=function d(f){const{gen:y,data:C,keyword:g,it:v}=f,E=y.name("valid");if(v.allErrors){const Z=y.let("valid",!0);return F(()=>y.assign(Z,!1)),Z}return y.var(E,!0),F(()=>y.break()),E;function F(Z){const H=y.const("len",t._`${C}.length`);y.forRange("i",0,H,B=>{f.subschema({keyword:g,dataProp:B,dataPropType:n.Type.Num},E),y.if((0,t.not)(E),Z)})}},r.validateUnion=function P(f){const{gen:y,schema:C,keyword:g,it:v}=f;if(!Array.isArray(C))throw new Error("ajv implementation error");if(C.some(H=>(0,n.alwaysValidSchema)(v,H))&&!v.opts.unevaluated)return;const F=y.let("valid",!1),Z=y.name("_valid");y.block(()=>C.forEach((H,B)=>{const ae=f.subschema({keyword:g,schemaProp:B,compositeRule:!0},Z);y.assign(F,t._`${F} || ${Z}`),f.mergeValidEvaluated(ae,Z)||y.if((0,t.not)(F))})),f.result(F,()=>f.reset(),()=>f.error(!0))}},1167:(W,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},1093:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(1167),n=s(4703);r.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,n.default]},4703:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.callRef=r.getValidate=void 0;const t=s(140),n=s(2812),e=s(6382),h=s(5976),b=s(7140),i=s(7990),m={keyword:"$ref",schemaType:"string",code(S){const{gen:_,schema:R,it:T}=S,{baseId:A,schemaEnv:D,validateName:u,opts:d,self:P}=T,{root:f}=D;if(("#"===R||"#/"===R)&&A===f.baseId)return function C(){if(D===f)return c(S,u,D,D.$async);const E=_.scopeValue("root",{ref:f});return c(S,e._`${E}.validate`,f,f.$async)}();const y=b.resolveRef.call(P,f,A,R);if(void 0===y)throw new t.default(T.opts.uriResolver,A,R);return y instanceof b.SchemaEnv?function g(E){const F=a(S,E);c(S,F,E,E.$async)}(y):function v(E){const F=_.scopeValue("schema",!0===d.code.source?{ref:E,code:(0,e.stringify)(E)}:{ref:E}),Z=_.name("valid"),H=S.subschema({schema:E,dataTypes:[],schemaPath:e.nil,topSchemaRef:F,errSchemaPath:R},Z);S.mergeEvaluated(H),S.ok(Z)}(y)}};function a(S,_){const{gen:R}=S;return _.validate?R.scopeValue("validate",{ref:_.validate}):e._`${R.scopeValue("wrapper",{ref:_})}.validate`}function c(S,_,R,T){const{gen:A,it:D}=S,{allErrors:u,schemaEnv:d,opts:P}=D,f=P.passContext?h.default.this:e.nil;function g(E){const F=e._`${E}.errors`;A.assign(h.default.vErrors,e._`${h.default.vErrors} === null ? ${F} : ${h.default.vErrors}.concat(${F})`),A.assign(h.default.errors,e._`${h.default.vErrors}.length`)}function v(E){var F;if(!D.opts.unevaluated)return;const Z=null===(F=R?.validate)||void 0===F?void 0:F.evaluated;if(!0!==D.props)if(Z&&!Z.dynamicProps)void 0!==Z.props&&(D.props=i.mergeEvaluated.props(A,Z.props,D.props));else{const H=A.var("props",e._`${E}.evaluated.props`);D.props=i.mergeEvaluated.props(A,H,D.props,e.Name)}if(!0!==D.items)if(Z&&!Z.dynamicItems)void 0!==Z.items&&(D.items=i.mergeEvaluated.items(A,Z.items,D.items));else{const H=A.var("items",e._`${E}.evaluated.items`);D.items=i.mergeEvaluated.items(A,H,D.items,e.Name)}}T?function y(){if(!d.$async)throw new Error("async schema referenced by sync schema");const E=A.let("valid");A.try(()=>{A.code(e._`await ${(0,n.callValidateCode)(S,_,f)}`),v(_),u||A.assign(E,!0)},F=>{A.if(e._`!(${F} instanceof ${D.ValidationError})`,()=>A.throw(F)),g(F),u||A.assign(E,!1)}),S.ok(E)}():function C(){S.result((0,n.callValidateCode)(S,_,f),()=>v(_),()=>g(_))}()}r.getValidate=a,r.callRef=c,r.default=m},1849:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(797),e=s(7140),h=s(7990);r.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:m,tagName:a}})=>m===n.DiscrError.Tag?`tag "${a}" must be string`:`value of tag "${a}" must be in oneOf`,params:({params:{discrError:m,tag:a,tagName:c}})=>t._`{error: ${m}, tag: ${c}, tagValue: ${a}}`},code(m){const{gen:a,data:c,schema:S,parentSchema:_,it:R}=m,{oneOf:T}=_;if(!R.opts.discriminator)throw new Error("discriminator: requires discriminator option");const A=S.propertyName;if("string"!=typeof A)throw new Error("discriminator: requires propertyName");if(S.mapping)throw new Error("discriminator: mapping is not supported");if(!T)throw new Error("discriminator: requires oneOf keyword");const D=a.let("valid",!1),u=a.const("tag",t._`${c}${(0,t.getProperty)(A)}`);function P(y){const C=a.name("valid"),g=m.subschema({keyword:"oneOf",schemaProp:y},C);return m.mergeEvaluated(g,t.Name),C}a.if(t._`typeof ${u} == "string"`,()=>function d(){const y=function f(){var y;const C={},g=E(_);let v=!0;for(let H=0;H<T.length;H++){let B=T[H];B?.$ref&&!(0,h.schemaHasRulesButRef)(B,R.self.RULES)&&(B=e.resolveRef.call(R.self,R.schemaEnv.root,R.baseId,B?.$ref),B instanceof e.SchemaEnv&&(B=B.schema));const ae=null===(y=B?.properties)||void 0===y?void 0:y[A];if("object"!=typeof ae)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${A}"`);v=v&&(g||E(B)),F(ae,H)}if(!v)throw new Error(`discriminator: "${A}" must be required`);return C;function E({required:H}){return Array.isArray(H)&&H.includes(A)}function F(H,B){if(H.const)Z(H.const,B);else{if(!H.enum)throw new Error(`discriminator: "properties/${A}" must have "const" or "enum"`);for(const ae of H.enum)Z(ae,B)}}function Z(H,B){if("string"!=typeof H||H in C)throw new Error(`discriminator: "${A}" values must be unique strings`);C[H]=B}}();a.if(!1);for(const C in y)a.elseIf(t._`${u} === ${C}`),a.assign(D,P(y[C]));a.else(),m.error(!1,{discrError:n.DiscrError.Mapping,tag:u,tagName:A}),a.endIf()}(),()=>m.error(!1,{discrError:n.DiscrError.Tag,tag:u,tagName:A})),m.ok(D)}}},797:(W,r)=>{"use strict";var t;Object.defineProperty(r,"__esModule",{value:!0}),r.DiscrError=void 0,(t=r.DiscrError||(r.DiscrError={})).Tag="tag",t.Mapping="mapping"},7032:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(1093),n=s(7887),e=s(7737),h=s(7447),b=s(760),i=[t.default,n.default,(0,e.default)(),h.default,b.metadataVocabulary,b.contentVocabulary];r.default=i},2364:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382);r.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:h})=>t.str`must match format "${h}"`,params:({schemaCode:h})=>t._`{format: ${h}}`},code(h,b){const{gen:i,data:m,$data:a,schema:c,schemaCode:S,it:_}=h,{opts:R,errSchemaPath:T,schemaEnv:A,self:D}=_;R.validateFormats&&(a?function u(){const P=i.scopeValue("formats",{ref:D.formats,code:R.code.formats}),f=i.const("fDef",t._`${P}[${S}]`),y=i.let("fType"),C=i.let("format");i.if(t._`typeof ${f} == "object" && !(${f} instanceof RegExp)`,()=>i.assign(y,t._`${f}.type || "string"`).assign(C,t._`${f}.validate`),()=>i.assign(y,t._`"string"`).assign(C,f)),h.fail$data((0,t.or)(function g(){return!1===R.strictSchema?t.nil:t._`${S} && !${C}`}(),function v(){const E=A.$async?t._`(${f}.async ? await ${C}(${m}) : ${C}(${m}))`:t._`${C}(${m})`,F=t._`(typeof ${C} == "function" ? ${E} : ${C}.test(${m}))`;return t._`${C} && ${C} !== true && ${y} === ${b} && !${F}`}()))}():function d(){const P=D.formats[c];if(!P)return void function g(){if(!1!==R.strictSchema)throw new Error(F());function F(){return`unknown format "${c}" ignored in schema at path "${T}"`}D.logger.warn(F())}();if(!0===P)return;const[f,y,C]=function v(F){const Z=F instanceof RegExp?(0,t.regexpCode)(F):R.code.formats?t._`${R.code.formats}${(0,t.getProperty)(c)}`:void 0,H=i.scopeValue("formats",{key:c,ref:F,code:Z});return"object"!=typeof F||F instanceof RegExp?["string",F,H]:[F.type||"string",F.validate,t._`${H}.validate`]}(P);f===b&&h.pass(function E(){if("object"==typeof P&&!(P instanceof RegExp)&&P.async){if(!A.$async)throw new Error("async format in sync schema");return t._`await ${C}(${m})`}return"function"==typeof y?t._`${C}(${m})`:t._`${C}.test(${m})`}())}())}}},7447:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=[s(2364).default];r.default=n},760:(W,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.contentVocabulary=r.metadataVocabulary=void 0,r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},7677:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990),e=s(834);r.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:i})=>t._`{allowedValue: ${i}}`},code(i){const{gen:m,data:a,$data:c,schemaCode:S,schema:_}=i;c||_&&"object"==typeof _?i.fail$data(t._`!${(0,n.useFunc)(m,e.default)}(${a}, ${S})`):i.fail(t._`${_} !== ${a}`)}}},8373:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990),e=s(834);r.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:i})=>t._`{allowedValues: ${i}}`},code(i){const{gen:m,data:a,$data:c,schema:S,schemaCode:_,it:R}=i;if(!c&&0===S.length)throw new Error("enum must have non-empty array");let A;const D=()=>A??(A=(0,n.useFunc)(m,e.default));let u;if(S.length>=R.opts.loopEnum||c)u=m.let("valid"),i.block$data(u,function d(){m.assign(u,!1),m.forOf("v",_,f=>m.if(t._`${D()}(${a}, ${f})`,()=>m.assign(u,!0).break()))});else{if(!Array.isArray(S))throw new Error("ajv implementation error");const f=m.const("vSchema",_);u=(0,t.or)(...S.map((y,C)=>function P(f,y){const C=S[y];return"object"==typeof C&&null!==C?t._`${D()}(${a}, ${f}[${y}])`:t._`${a} === ${C}`}(f,C)))}i.pass(u)}}},7887:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(7126),n=s(2018),e=s(6230),h=s(8455),b=s(5608),i=s(109),m=s(5132),a=s(4097),c=s(7677),S=s(8373);r.default=[t.default,n.default,e.default,h.default,b.default,i.default,m.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,S.default]},5132:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382);r.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:h,schemaCode:b})=>t.str`must NOT have ${"maxItems"===h?"more":"fewer"} than ${b} items`,params:({schemaCode:h})=>t._`{limit: ${h}}`},code(h){const{keyword:b,data:i,schemaCode:m}=h;h.fail$data(t._`${i}.length ${"maxItems"===b?t.operators.GT:t.operators.LT} ${m}`)}}},6230:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=s(7990),e=s(6344);r.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:i,schemaCode:m})=>t.str`must NOT have ${"maxLength"===i?"more":"fewer"} than ${m} characters`,params:({schemaCode:i})=>t._`{limit: ${i}}`},code(i){const{keyword:m,data:a,schemaCode:c,it:S}=i,_="maxLength"===m?t.operators.GT:t.operators.LT,R=!1===S.opts.unicode?t._`${a}.length`:t._`${(0,n.useFunc)(i.gen,e.default)}(${a})`;i.fail$data(t._`${R} ${_} ${c}`)}}},7126:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382),n=t.operators,e={maximum:{okStr:"<=",ok:n.LTE,fail:n.GT},minimum:{okStr:">=",ok:n.GTE,fail:n.LT},exclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},exclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},h={message:({keyword:i,schemaCode:m})=>t.str`must be ${e[i].okStr} ${m}`,params:({keyword:i,schemaCode:m})=>t._`{comparison: ${e[i].okStr}, limit: ${m}}`},b={keyword:Object.keys(e),type:"number",schemaType:"number",$data:!0,error:h,code(i){const{keyword:m,data:a,schemaCode:c}=i;i.fail$data(t._`${a} ${e[m].fail} ${c} || isNaN(${a})`)}};r.default=b},5608:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382);r.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:h,schemaCode:b})=>t.str`must NOT have ${"maxProperties"===h?"more":"fewer"} than ${b} properties`,params:({schemaCode:h})=>t._`{limit: ${h}}`},code(h){const{keyword:b,data:i,schemaCode:m}=h;h.fail$data(t._`Object.keys(${i}).length ${"maxProperties"===b?t.operators.GT:t.operators.LT} ${m}`)}}},2018:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(6382);r.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:h})=>t.str`must be multiple of ${h}`,params:({schemaCode:h})=>t._`{multipleOf: ${h}}`},code(h){const{gen:b,data:i,schemaCode:m,it:a}=h,c=a.opts.multipleOfPrecision,S=b.let("res"),_=c?t._`Math.abs(Math.round(${S}) - ${S}) > 1e-${c}`:t._`${S} !== parseInt(${S})`;h.fail$data(t._`(${m} === 0 || (${S} = ${i}/${m}, ${_}))`)}}},8455:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(2812),n=s(6382);r.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:b})=>n.str`must match pattern "${b}"`,params:({schemaCode:b})=>n._`{pattern: ${b}}`},code(b){const{data:i,$data:m,schema:a,schemaCode:c,it:S}=b,R=m?n._`(new RegExp(${c}, ${S.opts.unicodeRegExp?"u":""}))`:(0,t.usePattern)(b,a);b.fail$data(n._`!${R}.test(${i})`)}}},109:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(2812),n=s(6382),e=s(7990);r.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:i}})=>n.str`must have required property '${i}'`,params:({params:{missingProperty:i}})=>n._`{missingProperty: ${i}}`},code(i){const{gen:m,schema:a,schemaCode:c,data:S,$data:_,it:R}=i,{opts:T}=R;if(!_&&0===a.length)return;const A=a.length>=T.loopRequired;if(R.allErrors?function D(){if(A||_)i.block$data(n.nil,d);else for(const f of a)(0,t.checkReportMissingProp)(i,f)}():function u(){const f=m.let("missing");if(A||_){const y=m.let("valid",!0);i.block$data(y,()=>function P(f,y){i.setParams({missingProperty:f}),m.forOf(f,c,()=>{m.assign(y,(0,t.propertyInData)(m,S,f,T.ownProperties)),m.if((0,n.not)(y),()=>{i.error(),m.break()})},n.nil)}(f,y)),i.ok(y)}else m.if((0,t.checkMissingProp)(i,a,f)),(0,t.reportMissingProp)(i,f),m.else()}(),T.strictRequired){const f=i.parentSchema.properties,{definedProperties:y}=i.it;for(const C of a)void 0!==f?.[C]||y.has(C)||(0,e.checkStrictMode)(R,`required property "${C}" is not defined at "${R.schemaEnv.baseId+R.errSchemaPath}" (strictRequired)`,R.opts.strictRequired)}function d(){m.forOf("prop",c,f=>{i.setParams({missingProperty:f}),m.if((0,t.noPropertyInData)(m,S,f,T.ownProperties),()=>i.error())})}}}},4097:(W,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(9078),n=s(6382),e=s(7990),h=s(834);r.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:m,j:a}})=>n.str`must NOT have duplicate items (items ## ${a} and ${m} are identical)`,params:({params:{i:m,j:a}})=>n._`{i: ${m}, j: ${a}}`},code(m){const{gen:a,data:c,$data:S,schema:_,parentSchema:R,schemaCode:T,it:A}=m;if(!S&&!_)return;const D=a.let("valid"),u=R.items?(0,t.getSchemaTypes)(R.items):[];function f(C,g){const v=a.name("item"),E=(0,t.checkDataTypes)(u,v,A.opts.strictNumbers,t.DataType.Wrong),F=a.const("indices",n._`{}`);a.for(n._`;${C}--;`,()=>{a.let(v,n._`${c}[${C}]`),a.if(E,n._`continue`),u.length>1&&a.if(n._`typeof ${v} == "string"`,n._`${v} += "_"`),a.if(n._`typeof ${F}[${v}] == "number"`,()=>{a.assign(g,n._`${F}[${v}]`),m.error(),a.assign(D,!1).break()}).code(n._`${F}[${v}] = ${C}`)})}function y(C,g){const v=(0,e.useFunc)(a,h.default),E=a.name("outer");a.label(E).for(n._`;${C}--;`,()=>a.for(n._`${g} = ${C}; ${g}--;`,()=>a.if(n._`${v}(${c}[${C}], ${c}[${g}])`,()=>{m.error(),a.assign(D,!1).break(E)})))}m.block$data(D,function d(){const C=a.let("i",n._`${c}.length`),g=a.let("j");m.setParams({i:C,j:g}),a.assign(D,!0),a.if(n._`${C} > 1`,()=>(function P(){return u.length>0&&!u.some(C=>"object"===C||"array"===C)}()?f:y)(C,g))},n._`${T} === false`),m.ok(D)}}},2559:W=>{"use strict";W.exports=function r(s,t){if(s===t)return!0;if(s&&t&&"object"==typeof s&&"object"==typeof t){if(s.constructor!==t.constructor)return!1;var n,e,h;if(Array.isArray(s)){if((n=s.length)!=t.length)return!1;for(e=n;0!=e--;)if(!r(s[e],t[e]))return!1;return!0}if(s.constructor===RegExp)return s.source===t.source&&s.flags===t.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===t.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===t.toString();if((n=(h=Object.keys(s)).length)!==Object.keys(t).length)return!1;for(e=n;0!=e--;)if(!Object.prototype.hasOwnProperty.call(t,h[e]))return!1;for(e=n;0!=e--;){var b=h[e];if(!r(s[b],t[b]))return!1}return!0}return s!=s&&t!=t}},3366:W=>{"use strict";var r=W.exports=function(n,e,h){"function"==typeof e&&(h=e,e={}),s(e,"function"==typeof(h=e.cb||h)?h:h.pre||function(){},h.post||function(){},n,"",n)};function s(n,e,h,b,i,m,a,c,S,_){if(b&&"object"==typeof b&&!Array.isArray(b)){for(var R in e(b,i,m,a,c,S,_),b){var T=b[R];if(Array.isArray(T)){if(R in r.arrayKeywords)for(var A=0;A<T.length;A++)s(n,e,h,T[A],i+"/"+R+"/"+A,m,i,R,b,A)}else if(R in r.propsKeywords){if(T&&"object"==typeof T)for(var D in T)s(n,e,h,T[D],i+"/"+R+"/"+t(D),m,i,R,b,D)}else(R in r.keywords||n.allKeys&&!(R in r.skipKeywords))&&s(n,e,h,T,i+"/"+R,m,i,R,b)}h(b,i,m,a,c,S,_)}}function t(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},6482:function(W,r){!function(s){"use strict";function t(){for(var $=arguments.length,l=Array($),N=0;N<$;N++)l[N]=arguments[N];if(l.length>1){l[0]=l[0].slice(0,-1);for(var V=l.length-1,U=1;U<V;++U)l[U]=l[U].slice(1,-1);return l[V]=l[V].slice(1),l.join("")}return l[0]}function n($){return"(?:"+$+")"}function e($){return void 0===$?"undefined":null===$?"null":Object.prototype.toString.call($).split(" ").pop().split("]").shift().toLowerCase()}function h($){return $.toUpperCase()}function m($){var l="[A-Za-z]",V="[0-9]",q=t(V,"[A-Fa-f]"),le=n(n("%[EFef]"+q+"%"+q+q+"%"+q+q)+"|"+n("%[89A-Fa-f]"+q+"%"+q+q)+"|"+n("%"+q+q)),se="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ge=t("[\\:\\/\\?\\#\\[\\]\\@]",se),pe=$?"[\\uE000-\\uF8FF]":"[]",ie=t(l,V,"[\\-\\.\\_\\~]",$?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),$e=n(l+t(l,V,"[\\+\\-\\.]")+"*"),de=n(n(le+"|"+t(ie,se,"[\\:]"))+"*"),De=(n(n("25[0-5]")+"|"+n("2[0-4]"+V)+"|"+n("1"+V+V)+"|"+n("[1-9]"+V)+"|"+V),n(n("25[0-5]")+"|"+n("2[0-4]"+V)+"|"+n("1"+V+V)+"|"+n("0?[1-9]"+V)+"|0?0?"+V)),Me=n(De+"\\."+De+"\\."+De+"\\."+De),me=n(q+"{1,4}"),je=n(n(me+"\\:"+me)+"|"+Me),ke=n(n(me+"\\:")+"{6}"+je),Le=n("\\:\\:"+n(me+"\\:")+"{5}"+je),We=n(n(me)+"?\\:\\:"+n(me+"\\:")+"{4}"+je),He=n(n(n(me+"\\:")+"{0,1}"+me)+"?\\:\\:"+n(me+"\\:")+"{3}"+je),ot=n(n(n(me+"\\:")+"{0,2}"+me)+"?\\:\\:"+n(me+"\\:")+"{2}"+je),yt=n(n(n(me+"\\:")+"{0,3}"+me)+"?\\:\\:"+me+"\\:"+je),gt=n(n(n(me+"\\:")+"{0,4}"+me)+"?\\:\\:"+je),qe=n(n(n(me+"\\:")+"{0,5}"+me)+"?\\:\\:"+me),xe=n(n(n(me+"\\:")+"{0,6}"+me)+"?\\:\\:"),Je=n([ke,Le,We,He,ot,yt,gt,qe,xe].join("|")),et=n(n(ie+"|"+le)+"+"),Xe=(n(Je+"\\%25"+et),n(Je+n("\\%25|\\%(?!"+q+"{2})")+et)),It=n("[vV]"+q+"+\\."+t(ie,se,"[\\:]")+"+"),Dt=n("\\["+n(Xe+"|"+Je+"|"+It)+"\\]"),Tt=n(n(le+"|"+t(ie,se))+"*"),it=n(Dt+"|"+Me+"(?!"+Tt+")|"+Tt),ct=n(V+"*"),Ct=n(n(de+"@")+"?"+it+n("\\:"+ct)+"?"),ut=n(le+"|"+t(ie,se,"[\\:\\@]")),jt=n(ut+"*"),At=n(ut+"+"),Mt=n(n(le+"|"+t(ie,se,"[\\@]"))+"+"),Ke=n(n("\\/"+jt)+"*"),tt=n("\\/"+n(At+Ke)+"?"),Pt=n(Mt+Ke),$t=n(At+Ke),rt="(?!"+ut+")",nt=(n(Ke+"|"+tt+"|"+Pt+"|"+$t+"|"+rt),n(n(ut+"|"+t("[\\/\\?]",pe))+"*")),lt=n(n(ut+"|[\\/\\?]")+"*"),Ot=n(n("\\/\\/"+Ct+Ke)+"|"+tt+"|"+$t+"|"+rt),kt=n($e+"\\:"+Ot+n("\\?"+nt)+"?"+n("\\#"+lt)+"?"),Ft=n(n("\\/\\/"+Ct+Ke)+"|"+tt+"|"+Pt+"|"+rt),Vt=n(Ft+n("\\?"+nt)+"?"+n("\\#"+lt)+"?");return n(kt+"|"+Vt),n($e+"\\:"+Ot+n("\\?"+nt)+"?"),n(n("\\/\\/("+n("("+de+")@")+"?("+it+")"+n("\\:("+ct+")")+"?)")+"?("+Ke+"|"+tt+"|"+$t+"|"+rt+")"),n("\\?("+nt+")"),n("\\#("+lt+")"),n(n("\\/\\/("+n("("+de+")@")+"?("+it+")"+n("\\:("+ct+")")+"?)")+"?("+Ke+"|"+tt+"|"+Pt+"|"+rt+")"),n("\\?("+nt+")"),n("\\#("+lt+")"),n(n("\\/\\/("+n("("+de+")@")+"?("+it+")"+n("\\:("+ct+")")+"?)")+"?("+Ke+"|"+tt+"|"+$t+"|"+rt+")"),n("\\?("+nt+")"),n("\\#("+lt+")"),n("("+de+")@"),n("\\:("+ct+")"),{NOT_SCHEME:new RegExp(t("[^]",l,V,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",ie,se),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",ie,se),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",ie,se),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",ie,se),"g"),NOT_QUERY:new RegExp(t("[^\\%]",ie,se,"[\\:\\@\\/\\?]",pe),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",ie,se,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",ie,se),"g"),UNRESERVED:new RegExp(ie,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",ie,ge),"g"),PCT_ENCODED:new RegExp(le,"g"),IPV4ADDRESS:new RegExp("^("+Me+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Je+")"+n(n("\\%25|\\%(?!"+q+"{2})")+"("+et+")")+"?\\]?$")}}var a=m(!1),c=m(!0),S=function(l,N){if(Array.isArray(l))return l;if(Symbol.iterator in Object(l))return function $(l,N){var V=[],U=!0,q=!1,ne=void 0;try{for(var le,oe=l[Symbol.iterator]();!(U=(le=oe.next()).done)&&(V.push(le.value),!N||V.length!==N);U=!0);}catch(Se){q=!0,ne=Se}finally{try{!U&&oe.return&&oe.return()}finally{if(q)throw ne}}return V}(l,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")},R=2147483647,T=36,C=/^xn--/,g=/[^\0-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Z=Math.floor,H=String.fromCharCode;function B($){throw new RangeError(E[$])}function te($,l){var N=$.split("@"),V="";return N.length>1&&(V=N[0]+"@",$=N[1]),V+function ae($,l){for(var N=[],V=$.length;V--;)N[V]=l($[V]);return N}(($=$.replace(v,".")).split("."),l).join(".")}function ue($){for(var l=[],N=0,V=$.length;N<V;){var U=$.charCodeAt(N++);if(U>=55296&&U<=56319&&N<V){var q=$.charCodeAt(N++);56320==(64512&q)?l.push(((1023&U)<<10)+(1023&q)+65536):(l.push(U),N--)}else l.push(U)}return l}var Te=function(l){return l-48<10?l-22:l-65<26?l-65:l-97<26?l-97:T},Ne=function(l,N){return l+22+75*(l<26)-((0!=N)<<5)},ce=function(l,N,V){var U=0;for(l=V?Z(l/700):l>>1,l+=Z(l/N);l>455;U+=T)l=Z(l/35);return Z(U+36*l/(l+38))},Oe=function(l){var N=[],V=l.length,U=0,q=128,ne=72,oe=l.lastIndexOf("-");oe<0&&(oe=0);for(var le=0;le<oe;++le)l.charCodeAt(le)>=128&&B("not-basic"),N.push(l.charCodeAt(le));for(var Se=oe>0?oe+1:0;Se<V;){for(var se=U,ge=1,we=T;;we+=T){Se>=V&&B("invalid-input");var pe=Te(l.charCodeAt(Se++));(pe>=T||pe>Z((R-U)/ge))&&B("overflow"),U+=pe*ge;var ie=we<=ne?1:we>=ne+26?26:we-ne;if(pe<ie)break;var $e=T-ie;ge>Z(R/$e)&&B("overflow"),ge*=$e}var de=N.length+1;ne=ce(U-se,de,0==se),Z(U/de)>R-q&&B("overflow"),q+=Z(U/de),U%=de,N.splice(U++,0,q)}return String.fromCodePoint.apply(String,N)},G=function(l){var N=[],V=(l=ue(l)).length,U=128,q=0,ne=72,oe=!0,le=!1,Se=void 0;try{for(var ge,se=l[Symbol.iterator]();!(oe=(ge=se.next()).done);oe=!0){var we=ge.value;we<128&&N.push(H(we))}}catch(Xe){le=!0,Se=Xe}finally{try{!oe&&se.return&&se.return()}finally{if(le)throw Se}}var pe=N.length,ie=pe;for(pe&&N.push("-");ie<V;){var $e=R,de=!0,Be=!1,De=void 0;try{for(var me,Me=l[Symbol.iterator]();!(de=(me=Me.next()).done);de=!0){var je=me.value;je>=U&&je<$e&&($e=je)}}catch(Xe){Be=!0,De=Xe}finally{try{!de&&Me.return&&Me.return()}finally{if(Be)throw De}}var ke=ie+1;$e-U>Z((R-q)/ke)&&B("overflow"),q+=($e-U)*ke,U=$e;var Le=!0,We=!1,He=void 0;try{for(var yt,ot=l[Symbol.iterator]();!(Le=(yt=ot.next()).done);Le=!0){var gt=yt.value;if(gt<U&&++q>R&&B("overflow"),gt==U){for(var qe=q,xe=T;;xe+=T){var Je=xe<=ne?1:xe>=ne+26?26:xe-ne;if(qe<Je)break;var et=qe-Je,Nt=T-Je;N.push(H(Ne(Je+et%Nt,0))),qe=Z(et/Nt)}N.push(H(Ne(qe,0))),ne=ce(q,ke,ie==pe),q=0,++ie}}}catch(Xe){We=!0,He=Xe}finally{try{!Le&&ot.return&&ot.return()}finally{if(We)throw He}}++q,++U}return N.join("")},o={version:"2.1.0",ucs2:{decode:ue,encode:function(l){return String.fromCodePoint.apply(String,function($){if(Array.isArray($)){for(var l=0,N=Array($.length);l<$.length;l++)N[l]=$[l];return N}return Array.from($)}(l))}},decode:Oe,encode:G,toASCII:function(l){return te(l,function(N){return g.test(N)?"xn--"+G(N):N})},toUnicode:function(l){return te(l,function(N){return C.test(N)?Oe(N.slice(4).toLowerCase()):N})}},p={};function M($){var l=$.charCodeAt(0);return l<16?"%0"+l.toString(16).toUpperCase():l<128?"%"+l.toString(16).toUpperCase():l<2048?"%"+(l>>6|192).toString(16).toUpperCase()+"%"+(63&l|128).toString(16).toUpperCase():"%"+(l>>12|224).toString(16).toUpperCase()+"%"+(l>>6&63|128).toString(16).toUpperCase()+"%"+(63&l|128).toString(16).toUpperCase()}function Y($){for(var l="",N=0,V=$.length;N<V;){var U=parseInt($.substr(N+1,2),16);if(U<128)l+=String.fromCharCode(U),N+=3;else if(U>=194&&U<224){if(V-N>=6){var q=parseInt($.substr(N+4,2),16);l+=String.fromCharCode((31&U)<<6|63&q)}else l+=$.substr(N,6);N+=6}else if(U>=224){if(V-N>=9){var ne=parseInt($.substr(N+4,2),16),oe=parseInt($.substr(N+7,2),16);l+=String.fromCharCode((15&U)<<12|(63&ne)<<6|63&oe)}else l+=$.substr(N,9);N+=9}else l+=$.substr(N,3),N+=3}return l}function x($,l){function N(V){var U=Y(V);return U.match(l.UNRESERVED)?U:V}return $.scheme&&($.scheme=String($.scheme).replace(l.PCT_ENCODED,N).toLowerCase().replace(l.NOT_SCHEME,"")),void 0!==$.userinfo&&($.userinfo=String($.userinfo).replace(l.PCT_ENCODED,N).replace(l.NOT_USERINFO,M).replace(l.PCT_ENCODED,h)),void 0!==$.host&&($.host=String($.host).replace(l.PCT_ENCODED,N).toLowerCase().replace(l.NOT_HOST,M).replace(l.PCT_ENCODED,h)),void 0!==$.path&&($.path=String($.path).replace(l.PCT_ENCODED,N).replace($.scheme?l.NOT_PATH:l.NOT_PATH_NOSCHEME,M).replace(l.PCT_ENCODED,h)),void 0!==$.query&&($.query=String($.query).replace(l.PCT_ENCODED,N).replace(l.NOT_QUERY,M).replace(l.PCT_ENCODED,h)),void 0!==$.fragment&&($.fragment=String($.fragment).replace(l.PCT_ENCODED,N).replace(l.NOT_FRAGMENT,M).replace(l.PCT_ENCODED,h)),$}function re($){return $.replace(/^0*(.*)/,"$1")||"0"}function Ee($,l){var N=$.match(l.IPV4ADDRESS)||[],U=S(N,2)[1];return U?U.split(".").map(re).join("."):$}function Pe($,l){var N=$.match(l.IPV6ADDRESS)||[],V=S(N,3),U=V[1],q=V[2];if(U){for(var ne=U.toLowerCase().split("::").reverse(),oe=S(ne,2),le=oe[0],Se=oe[1],se=Se?Se.split(":").map(re):[],ge=le.split(":").map(re),we=l.IPV4ADDRESS.test(ge[ge.length-1]),pe=we?7:8,ie=ge.length-pe,$e=Array(pe),de=0;de<pe;++de)$e[de]=se[de]||ge[ie+de]||"";we&&($e[pe-1]=Ee($e[pe-1],l));var De=$e.reduce(function(ke,Le,We){if(!Le||"0"===Le){var He=ke[ke.length-1];He&&He.index+He.length===We?He.length++:ke.push({index:We,length:1})}return ke},[]).sort(function(ke,Le){return Le.length-ke.length})[0],Me=void 0;if(De&&De.length>1){var me=$e.slice(0,De.index),je=$e.slice(De.index+De.length);Me=me.join(":")+"::"+je.join(":")}else Me=$e.join(":");return q&&(Me+="%"+q),Me}return $}var I=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,k=void 0==="".match(/(){0}/)[1];function z($){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},N={},V=!1!==l.iri?c:a;"suffix"===l.reference&&($=(l.scheme?l.scheme+":":"")+"//"+$);var U=$.match(I);if(U){k?(N.scheme=U[1],N.userinfo=U[3],N.host=U[4],N.port=parseInt(U[5],10),N.path=U[6]||"",N.query=U[7],N.fragment=U[8],isNaN(N.port)&&(N.port=U[5])):(N.scheme=U[1]||void 0,N.userinfo=-1!==$.indexOf("@")?U[3]:void 0,N.host=-1!==$.indexOf("//")?U[4]:void 0,N.port=parseInt(U[5],10),N.path=U[6]||"",N.query=-1!==$.indexOf("?")?U[7]:void 0,N.fragment=-1!==$.indexOf("#")?U[8]:void 0,isNaN(N.port)&&(N.port=$.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?U[4]:void 0)),N.host&&(N.host=Pe(Ee(N.host,V),V)),N.reference=void 0!==N.scheme||void 0!==N.userinfo||void 0!==N.host||void 0!==N.port||N.path||void 0!==N.query?void 0===N.scheme?"relative":void 0===N.fragment?"absolute":"uri":"same-document",l.reference&&"suffix"!==l.reference&&l.reference!==N.reference&&(N.error=N.error||"URI is not a "+l.reference+" reference.");var q=p[(l.scheme||N.scheme||"").toLowerCase()];if(l.unicodeSupport||q&&q.unicodeSupport)x(N,V);else{if(N.host&&(l.domainHost||q&&q.domainHost))try{N.host=o.toASCII(N.host.replace(V.PCT_ENCODED,Y).toLowerCase())}catch(ne){N.error=N.error||"Host's domain name can not be converted to ASCII via punycode: "+ne}x(N,a)}q&&q.parse&&q.parse(N,l)}else N.error=N.error||"URI can not be parsed.";return N}var K=/^\.\.?\//,ee=/^\/\.(\/|$)/,he=/^\/\.\.(\/|$)/,Ce=/^\/?(?:.|\n)*?(?=\/|$)/;function ye($){for(var l=[];$.length;)if($.match(K))$=$.replace(K,"");else if($.match(ee))$=$.replace(ee,"/");else if($.match(he))$=$.replace(he,"/"),l.pop();else if("."===$||".."===$)$="";else{var N=$.match(Ce);if(!N)throw new Error("Unexpected dot segment condition");var V=N[0];$=$.slice(V.length),l.push(V)}return l.join("")}function fe($){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},N=l.iri?c:a,V=[],U=p[(l.scheme||$.scheme||"").toLowerCase()];if(U&&U.serialize&&U.serialize($,l),$.host&&!N.IPV6ADDRESS.test($.host)&&(l.domainHost||U&&U.domainHost))try{$.host=l.iri?o.toUnicode($.host):o.toASCII($.host.replace(N.PCT_ENCODED,Y).toLowerCase())}catch(oe){$.error=$.error||"Host's domain name can not be converted to "+(l.iri?"Unicode":"ASCII")+" via punycode: "+oe}x($,N),"suffix"!==l.reference&&$.scheme&&(V.push($.scheme),V.push(":"));var q=function Q($,l){var N=!1!==l.iri?c:a,V=[];return void 0!==$.userinfo&&(V.push($.userinfo),V.push("@")),void 0!==$.host&&V.push(Pe(Ee(String($.host),N),N).replace(N.IPV6ADDRESS,function(U,q,ne){return"["+q+(ne?"%25"+ne:"")+"]"})),("number"==typeof $.port||"string"==typeof $.port)&&(V.push(":"),V.push(String($.port))),V.length?V.join(""):void 0}($,l);if(void 0!==q&&("suffix"!==l.reference&&V.push("//"),V.push(q),$.path&&"/"!==$.path.charAt(0)&&V.push("/")),void 0!==$.path){var ne=$.path;!l.absolutePath&&(!U||!U.absolutePath)&&(ne=ye(ne)),void 0===q&&(ne=ne.replace(/^\/\//,"/%2F")),V.push(ne)}return void 0!==$.query&&(V.push("?"),V.push($.query)),void 0!==$.fragment&&(V.push("#"),V.push($.fragment)),V.join("")}function _e($,l){var N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},U={};return arguments[3]||($=z(fe($,N),N),l=z(fe(l,N),N)),!(N=N||{}).tolerant&&l.scheme?(U.scheme=l.scheme,U.userinfo=l.userinfo,U.host=l.host,U.port=l.port,U.path=ye(l.path||""),U.query=l.query):(void 0!==l.userinfo||void 0!==l.host||void 0!==l.port?(U.userinfo=l.userinfo,U.host=l.host,U.port=l.port,U.path=ye(l.path||""),U.query=l.query):(l.path?("/"===l.path.charAt(0)?U.path=ye(l.path):(U.path=void 0===$.userinfo&&void 0===$.host&&void 0===$.port||$.path?$.path?$.path.slice(0,$.path.lastIndexOf("/")+1)+l.path:l.path:"/"+l.path,U.path=ye(U.path)),U.query=l.query):(U.path=$.path,U.query=void 0!==l.query?l.query:$.query),U.userinfo=$.userinfo,U.host=$.host,U.port=$.port),U.scheme=$.scheme),U.fragment=l.fragment,U}function be($,l){return $&&$.toString().replace(l&&l.iri?c.PCT_ENCODED:a.PCT_ENCODED,Y)}var Ve={scheme:"http",domainHost:!0,parse:function(l,N){return l.host||(l.error=l.error||"HTTP URIs must have a host."),l},serialize:function(l,N){var V="https"===String(l.scheme).toLowerCase();return(l.port===(V?443:80)||""===l.port)&&(l.port=void 0),l.path||(l.path="/"),l}},Ie={scheme:"https",domainHost:Ve.domainHost,parse:Ve.parse,serialize:Ve.serialize};function Ye($){return"boolean"==typeof $.secure?$.secure:"wss"===String($.scheme).toLowerCase()}var ze={scheme:"ws",domainHost:!0,parse:function(l,N){var V=l;return V.secure=Ye(V),V.resourceName=(V.path||"/")+(V.query?"?"+V.query:""),V.path=void 0,V.query=void 0,V},serialize:function(l,N){if((l.port===(Ye(l)?443:80)||""===l.port)&&(l.port=void 0),"boolean"==typeof l.secure&&(l.scheme=l.secure?"wss":"ws",l.secure=void 0),l.resourceName){var V=l.resourceName.split("?"),U=S(V,2),q=U[0],ne=U[1];l.path=q&&"/"!==q?q:void 0,l.query=ne,l.resourceName=void 0}return l.fragment=void 0,l}},at={scheme:"wss",domainHost:ze.domainHost,parse:ze.parse,serialize:ze.serialize},dt={},mt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ae="[0-9A-Fa-f]",ht=n(n("%[EFef]"+Ae+"%"+Ae+Ae+"%"+Ae+Ae)+"|"+n("%[89A-Fa-f]"+Ae+"%"+Ae+Ae)+"|"+n("%"+Ae+Ae)),St=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Ze=new RegExp(mt,"g"),Ue=new RegExp(ht,"g"),bt=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',St),"g"),pt=new RegExp(t("[^]",mt,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Rt=pt;function st($){var l=Y($);return l.match(Ze)?l:$}var vt={scheme:"mailto",parse:function(l,N){var V=l,U=V.to=V.path?V.path.split(","):[];if(V.path=void 0,V.query){for(var q=!1,ne={},oe=V.query.split("&"),le=0,Se=oe.length;le<Se;++le){var se=oe[le].split("=");switch(se[0]){case"to":for(var ge=se[1].split(","),we=0,pe=ge.length;we<pe;++we)U.push(ge[we]);break;case"subject":V.subject=be(se[1],N);break;case"body":V.body=be(se[1],N);break;default:q=!0,ne[be(se[0],N)]=be(se[1],N)}}q&&(V.headers=ne)}V.query=void 0;for(var ie=0,$e=U.length;ie<$e;++ie){var de=U[ie].split("@");if(de[0]=be(de[0]),N.unicodeSupport)de[1]=be(de[1],N).toLowerCase();else try{de[1]=o.toASCII(be(de[1],N).toLowerCase())}catch(Be){V.error=V.error||"Email address's domain name can not be converted to ASCII via punycode: "+Be}U[ie]=de.join("@")}return V},serialize:function(l,N){var V=l,U=function b($){return null!=$?$ instanceof Array?$:"number"!=typeof $.length||$.split||$.setInterval||$.call?[$]:Array.prototype.slice.call($):[]}(l.to);if(U){for(var q=0,ne=U.length;q<ne;++q){var oe=String(U[q]),le=oe.lastIndexOf("@"),Se=oe.slice(0,le).replace(Ue,st).replace(Ue,h).replace(bt,M),se=oe.slice(le+1);try{se=N.iri?o.toUnicode(se):o.toASCII(be(se,N).toLowerCase())}catch(ie){V.error=V.error||"Email address's domain name can not be converted to "+(N.iri?"Unicode":"ASCII")+" via punycode: "+ie}U[q]=Se+"@"+se}V.path=U.join(",")}var ge=l.headers=l.headers||{};l.subject&&(ge.subject=l.subject),l.body&&(ge.body=l.body);var we=[];for(var pe in ge)ge[pe]!==dt[pe]&&we.push(pe.replace(Ue,st).replace(Ue,h).replace(pt,M)+"="+ge[pe].replace(Ue,st).replace(Ue,h).replace(Rt,M));return we.length&&(V.query=we.join("&")),V}},w=/^([^\:]+)\:(.*)/,J={scheme:"urn",parse:function(l,N){var V=l.path&&l.path.match(w),U=l;if(V){var q=N.scheme||U.scheme||"urn",ne=V[1].toLowerCase(),oe=V[2],Se=p[q+":"+(N.nid||ne)];U.nid=ne,U.nss=oe,U.path=void 0,Se&&(U=Se.parse(U,N))}else U.error=U.error||"URN can not be parsed.";return U},serialize:function(l,N){var U=l.nid,ne=p[(N.scheme||l.scheme||"urn")+":"+(N.nid||U)];ne&&(l=ne.serialize(l,N));var oe=l;return oe.path=(U||N.nid)+":"+l.nss,oe}},L=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,X={scheme:"urn:uuid",parse:function(l,N){var V=l;return V.uuid=V.nss,V.nss=void 0,!N.tolerant&&(!V.uuid||!V.uuid.match(L))&&(V.error=V.error||"UUID is not valid."),V},serialize:function(l,N){var V=l;return V.nss=(l.uuid||"").toLowerCase(),V}};p[Ve.scheme]=Ve,p[Ie.scheme]=Ie,p[ze.scheme]=ze,p[at.scheme]=at,p[vt.scheme]=vt,p[J.scheme]=J,p[X.scheme]=X,s.SCHEMES=p,s.pctEncChar=M,s.pctDecChars=Y,s.parse=z,s.removeDotSegments=ye,s.serialize=fe,s.resolveComponents=_e,s.resolve=function Fe($,l,N){var V=function i($,l){var N=$;if(l)for(var V in l)N[V]=l[V];return N}({scheme:"null"},N);return fe(_e(z($,V),z(l,V),V,!0),V)},s.normalize=function Re($,l){return"string"==typeof $?$=fe(z($,l),l):"object"===e($)&&($=z(fe($,l),l)),$},s.equal=function Ge($,l,N){return"string"==typeof $?$=fe(z($,N),N):"object"===e($)&&($=fe($,N)),"string"==typeof l?l=fe(z(l,N),N):"object"===e(l)&&(l=fe(l,N)),$===l},s.escapeComponent=function Qe($,l){return $&&$.toString().replace(l&&l.iri?c.ESCAPE:a.ESCAPE,M)},s.unescapeComponent=be,Object.defineProperty(s,"__esModule",{value:!0})}(r)},9344:W=>{function r(t,n,e,h,b,i,m){try{var a=t[i](m),c=a.value}catch(S){return void e(S)}a.done?n(c):Promise.resolve(c).then(h,b)}W.exports=function s(t){return function(){var n=this,e=arguments;return new Promise(function(h,b){var i=t.apply(n,e);function m(c){r(i,h,b,m,a,"next",c)}function a(c){r(i,h,b,m,a,"throw",c)}m(void 0)})}},W.exports.__esModule=!0,W.exports.default=W.exports},4775:W=>{"use strict";W.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},98:W=>{"use strict";W.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}}]);