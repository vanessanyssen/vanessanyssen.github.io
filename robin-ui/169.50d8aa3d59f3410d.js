"use strict";(self.webpackChunkrobin=self.webpackChunkrobin||[]).push([[169],{797:(U,y,r)=>{r.d(y,{dU:()=>D,t4:()=>k,Ox:()=>R,Pu:()=>b,X8:()=>A,WS:()=>g,kn:()=>p,jH:()=>F,Cy:()=>Z});var i=r(5158);const e={showMaskOnFocus:!1,showMaskOnHover:!1,undoOnEscape:!1},a={groupSeparator:" ",allowMinus:!1,shortcuts:{k:"",m:""}},M=(0,i.Xf)({...e,mask:"99.99.99-999.99"}),C=(0,i.Xf)({...e,regex:"^[1-9]\\d*/[1-9]\\d*$"}),c=(0,i.Xf)({...e,alias:"integer",...a}),m=(0,i.Xf)({...e,alias:"currency",...a,radixPoint:","}),f=(0,i.Xf)({...m,digits:4}),u=(0,i.Xf)({...e,inputmode:"text",alias:"datetime",inputFormat:"dd/mm/yyyy",placeholder:"_"}),v=(0,i.Xf)({...u,inputFormat:"mm/yyyy"}),T={inputMask:l=>({key:"INVALID_MONTH_FORMAT",interpolateParams:{requiredMask:v.inputFormat?.toUpperCase()}})},N={inputMask:l=>({key:"INVALID_DATE_FORMAT",interpolateParams:{requiredMask:u.inputFormat?.toUpperCase()}})},p={options:M,placeholder:"00.00.00-000.00",errorMessage:{inputMask:l=>({key:"INVALID_FORMAT",interpolateParams:{requiredMask:"00.00.00-000.00"}})}},g={options:C,placeholder:"1/1",errorMessage:{inputMask:l=>({key:"INVALID_FRACTION"})}},F={options:c,placeholder:"0"},b={options:m,placeholder:"0,00"},R={options:f,placeholder:"0,0000"},A={options:u,errorMessage:N},Z={options:v,errorMessage:T};var d=r(4650),E=r(4006);let k=(()=>{class l{constructor(){this.elRef=(0,d.f3M)(d.SBq,{self:!0}),this.formControlNameDirective=(0,d.f3M)(E.u,{self:!0})}onBlur(){""!==this.formControlNameDirective.control.value&&""===this.elRef.nativeElement.value&&this.formControlNameDirective.control.setValue("")}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275dir=d.lG2({type:l,selectors:[["input","formControlName","","vwResetValueIfEmpty",""]],hostBindings:function(o,s){1&o&&d.NdJ("blur",function(){return s.onBlur()})},standalone:!0}),l})();const D=[i.zz,k]},4169:(U,y,r)=>{r.r(y),r.d(y,{ReductionFromIncomePage:()=>O});var i=r(6895),e=r(4650),a=r(4006),M=r(6113),C=r(7665),c=r(8453),m=r(7508),f=r(4290),u=r(8723);const v=o=>({startDate:(0,u.Vn)(o.month),income:(0,u.W_)(o.income),householdCategory:o.householdCategory,..."DUO"===o.householdCategory&&{duoThab:o.bothEntitled}}),T=o=>({form:{month:{data:o.month},householdCategory:{data:o.householdCategory,pipe:"enum"},bothEntitled:{data:o.bothEntitled,class:"MONO"===o.householdCategory?"d-none":"",pipe:"enum"},income:{data:(0,u.R3)(o.income," \u20ac")}}}),N=({reduction:o,allowance:s})=>({reduction:{income:{data:o.income,pipe:"number",args:"2"},exoneration:{data:o.exoneration,pipe:"number",args:"2"},category:{data:o.category,pipe:"enum"},exonerated:{data:o.exonerated,pipe:"number",args:"2"},correctionFactor:{data:o.correctionFactor},reduction:{data:o.reduction,pipe:"number",args:"2"}},allowance:s.map(t=>({category:{data:t.category.slice(-1)},maximum:{data:t.maximum,pipe:"number",args:"2"},yearly:{data:t.yearly,pipe:"number",args:"2"},majoration:{data:!!t.majoration},monthly:{data:t.monthly,pipe:"currency"}}))});var h=r(797),I=r(7402),p=r(167),g=r(3416),F=r(5158);let R=(()=>{class o{constructor(){this.formGroupDirective=(0,e.f3M)(a.sg),this.currencyMask=h.Pu,this.householdCategory=I.XH,this.householdCategoryOptions=I.k0,this.monthMask=h.Cy,this.t=(0,e.f3M)(m.$z)}ngOnInit(){this.ctrls=this.formGroupDirective.form.controls}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-reduction-from-income-form-inline"]],standalone:!0,features:[e._Bn([],[{provide:a.gN,useExisting:a.sg}]),e.jDz],decls:25,vars:26,consts:[["vwFormResetObserver","",1,"row","g-2"],[1,"col-lg-3","col-md-6","mb-5"],["labelClass","form-label",3,"label"],["appFormControlErrorsContainer","",1,"input-group"],["formControlName","month","type","text",1,"form-control",3,"inputMask","placeholder","overriddenMessages"],[1,"input-group-text"],[1,"fa-regular","fa-calendar-check"],[1,"col-lg-3","col-md-6","mb-3"],["formControlName","householdCategory","vw-form-select-options","",1,"form-select",3,"placeholder","options","ariaSelected","change"],[1,"mt-2",3,"vwVisibleIf"],["labelClass","form-check-label",1,"form-check",3,"label"],["formControlName","bothEntitled","type","checkbox",1,"form-check-input"],["vwResetValueIfEmpty","","formControlName","income","type","text",1,"form-control",3,"inputMask","placeholder"],[1,"fa-solid","fa-euro-sign"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"vw-form-field",2),e.ALo(3,"translate"),e.TgZ(4,"div",3),e._UZ(5,"input",4),e.ALo(6,"translate"),e.TgZ(7,"span",5),e._UZ(8,"i",6),e.qZA()()()(),e.TgZ(9,"div",7)(10,"vw-form-field",2),e.ALo(11,"translate"),e.TgZ(12,"select",8),e.NdJ("change",function(){return n.ctrls.bothEntitled.reset()}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",9)(15,"vw-form-field",10),e.ALo(16,"translate"),e._UZ(17,"input",11),e.qZA()()(),e.TgZ(18,"div",1)(19,"vw-form-field",2),e.ALo(20,"translate"),e.TgZ(21,"div",3),e._UZ(22,"input",12),e.TgZ(23,"span",5),e._UZ(24,"i",13),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("label",e.lcZ(3,14,n.t.REDUCTION.month)),e.xp6(3),e.s9C("placeholder",e.lcZ(6,16,n.t.FORM.MONTH_FORMAT)),e.Q6J("inputMask",n.monthMask.options)("overriddenMessages",n.monthMask.errorMessage),e.xp6(5),e.Q6J("label",e.lcZ(11,18,n.t.REDUCTION.householdCategory)),e.xp6(2),e.s9C("placeholder",e.lcZ(13,20,n.t.FORM.CHOOSE)),e.Q6J("options",n.householdCategoryOptions)("ariaSelected",n.ctrls.householdCategory.value),e.xp6(2),e.Q6J("vwVisibleIf",n.ctrls.householdCategory.value===n.householdCategory.Duo),e.xp6(1),e.Q6J("label",e.lcZ(16,22,n.t.REDUCTION.bothEntitled)),e.xp6(2),e.uIk("aria-checked",n.ctrls.bothEntitled.value),e.xp6(2),e.Q6J("label",e.lcZ(20,24,n.t.REDUCTION.income)),e.xp6(3),e.s9C("placeholder",n.currencyMask.placeholder),e.Q6J("inputMask",n.currencyMask.options))},dependencies:[a.UX,a.Fj,a.Wl,a.EJ,a.JJ,a.u,g.aw,g.X$,c.Zg,c.tS,c._c,p.hg,p.LW,p.vA,p.IQ,F.zz,F.J6,h.t4,f.zm],encapsulation:2,changeDetection:0}),o})();var A=r(1004);let d=(()=>{class o extends m.i8{constructor(){super(...arguments),this.api=(0,e.f3M)(m.SZ)}getResult(t){return this.api.post(this.api.endpoints.reductionFromIncome,t)}}return o.\u0275fac=function(){let s;return function(n){return(s||(s=e.n5z(o)))(n||o)}}(),o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();function E(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"app-allowance-response",6),e.BQk()),2&o){const t=s.$implicit,n=e.oxw().$implicit;e.xp6(1),e.Q6J("reduction",n.reduction.reduction)("allowance",t)("isSerie",!0)}}function k(o,s){if(1&o&&(e._UZ(0,"app-reduction-response",2),e.TgZ(1,"h6",3),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",4),e.YNc(5,E,2,3,"ng-container",5),e.qZA()),2&o){const t=s.$implicit,n=e.oxw();e.Q6J("reduction",t.reduction)("isResult",!0),e.xp6(2),e.Oqu(e.lcZ(3,4,n.t.ALLOWANCE.ALLOWANCE)),e.xp6(3),e.Q6J("ngForOf",t.allowance)}}let l=(()=>{class o{constructor(){this.form=function Z(){const o=(0,e.f3M)(a.qu);return o.group({month:o.nonNullable.control("",{validators:[a.kI.required,A.D0.min(I.pw)],updateOn:"blur"}),householdCategory:o.control(null,a.kI.required),bothEntitled:o.nonNullable.control(!1),income:o.nonNullable.control("",a.kI.required)})}(),this.t=(0,e.f3M)(m.$z)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-reduction-from-income-container"]],standalone:!0,features:[e._Bn([],[{provide:m.OC,useClass:d},{provide:c.TO,useValue:T},{provide:c.Me,useValue:v},{provide:c.Ng,useValue:N}]),e.jDz],decls:3,vars:2,consts:[[3,"formGroup"],[3,"typeOf"],[3,"reduction","isResult"],[1,"card-subtitle","mb-3"],[1,"d-flex","flex-wrap","mb-3"],[4,"ngFor","ngForOf"],[3,"reduction","allowance","isSerie"]],template:function(t,n){1&t&&(e.TgZ(0,"app-base-form-container",0),e._UZ(1,"app-reduction-from-income-form-inline"),e.YNc(2,k,6,6,"ng-template",1),e.qZA()),2&t&&(e.Q6J("formGroup",n.form),e.xp6(2),e.Q6J("typeOf",n.reductionFromIncomeView))},dependencies:[a.UX,a.JL,a.sg,g.aw,g.X$,c.wM,R,M.b,C.E,i.ax,f.Co],encapsulation:2,changeDetection:0}),o})(),O=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["page-reduction-from-income"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"app-reduction-from-income-container")},dependencies:[l],encapsulation:2,changeDetection:0}),o})()}}]);