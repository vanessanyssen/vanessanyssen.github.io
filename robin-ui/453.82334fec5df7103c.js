"use strict";(self.webpackChunkrobin=self.webpackChunkrobin||[]).push([[453],{8268:(k,E,s)=>{s.d(E,{wM:()=>o,TO:()=>j,Me:()=>M,Ng:()=>e});var d=s(655),m=s(6895),t=s(4650),u=s(4006),h=s(9646),r=s(1884),O=s(8505),A=s(4004),D=s(8746),N=s(8502),S=s(262),P=s(8490),L=s(7402),x=s(7508),C=s(4290),R=s(167),Q=s(6664),b=s(6926),F=s(8115),g=s(2720),_=s(3416);function p(i,f){1&i&&t.GkF(0)}function y(i,f){if(1&i&&(t.TgZ(0,"div",13),t._uU(1),t.ALo(2,"json"),t.qZA()),2&i){const c=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,c.formGroup.value))}}function w(i,f){1&i&&t._UZ(0,"app-form-response-error",14),2&i&&t.Q6J("error",f.ngIf)}function H(i,f){if(1&i&&t._UZ(0,"app-form-data",15),2&i){const c=t.oxw();t.Q6J("formView",c.formView)}}function T(i,f){if(1&i&&t._UZ(0,"app-form-response-amounts",20),2&i){const c=t.oxw().ngIf;t.Q6J("responseView",c)}}function U(i,f){if(1&i&&t._UZ(0,"app-form-response-formulas",20),2&i){const c=t.oxw().ngIf;t.Q6J("responseView",c)}}function G(i,f){1&i&&t.GkF(0)}function J(i,f){if(1&i&&t._UZ(0,"span",23),2&i){const c=t.oxw(3);t.MGl("throwClientError","'TypeOfDirective' is required on 'ContentChild' of ",c.constructor.name,"")}}const $=function(i){return{$implicit:i}};function Y(i,f){if(1&i&&(t.ynx(0),t.YNc(1,G,1,0,"ng-container",21),t.YNc(2,J,1,1,"ng-template",null,22,t.W1O),t.BQk()),2&i){const c=t.MAs(3),Z=t.oxw().ngIf,a=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",a.typeOfDirectiveRef||c)("ngTemplateOutletContext",t.VKq(2,$,Z))}}function V(i,f){if(1&i&&(t.TgZ(0,"vw-card",16),t.ALo(1,"translate"),t.YNc(2,T,1,1,"app-form-response-amounts",17),t.YNc(3,U,1,1,"app-form-response-formulas",17),t.YNc(4,Y,4,4,"ng-container",18),t.TgZ(5,"vw-print-button",19),t._uU(6),t.ALo(7,"translate"),t.qZA()()),2&i){const c=f.ngIf,Z=t.oxw();t.Q6J("header",t.lcZ(1,5,Z.t.FORM.RESULT)),t.xp6(2),t.Q6J("ngIf",c.amounts),t.xp6(1),t.Q6J("ngIf",c.formulas),t.xp6(1),t.Q6J("ngIf",!c.amounts&&!c.formulas),t.xp6(2),t.Oqu(t.lcZ(7,7,Z.t.FORM.PRINT))}}const j=new t.OlP("FormView adapter"),M=new t.OlP("Request adapter"),e=new t.OlP("ResponseView adapter");class o{constructor(){this.featureService=(0,t.f3M)(x.OC,{host:!0}),this.formReset=(0,t.f3M)(F.D),this.formViewAdapter=(0,t.f3M)(j,{host:!0}),this.requestAdapter=(0,t.f3M)(M,{host:!0}),this.responseViewAdapter=(0,t.f3M)(e,{host:!0}),this.debug="local"===(0,t.f3M)(P._Z).ENV_NAME,this.t=(0,t.f3M)(x.$z),this.error$=(0,h.of)(),this.formView=null,this.response$=(0,h.of)(),this.isReset=new t.vpe}ngOnInit(){this.formValueChanges$=this.formGroup.valueChanges.pipe((0,r.x)())}resetForm(){this.formGroupDirective.resetForm(),this.isReset.emit(),this.formReset.emit(),this.formGroup.disabled&&this.formGroup.enable(L.rA),this.clearResultView()}submitForm(f){this.formGroup.valid&&(this.clearResultView(),this.formGroup.disable(L.rA),this.response$=this.featureService.getResult(this.requestAdapter(f)).pipe((0,O.b)(()=>this.formView=this.formViewAdapter(f)),(0,A.U)(c=>this.responseViewAdapter(c)),(0,D.x)(()=>this.formGroup.enable(L.rA))),this.error$=this.response$.pipe((0,N.l)(),(0,S.K)(c=>(0,h.of)(c))))}clearResultView(){this.formView=null,this.response$=this.error$=(0,h.of)()}}o.\u0275fac=function(f){return new(f||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-base-form-container"]],contentQueries:function(f,c,Z){if(1&f&&t.Suo(Z,C.Co,5,t.Rgc),2&f){let a;t.iGM(a=t.CRH())&&(c.typeOfDirectiveRef=a.first)}},viewQuery:function(f,c){if(1&f&&t.Gf(u.sg,5),2&f){let Z;t.iGM(Z=t.CRH())&&(c.formGroupDirective=Z.first)}},inputs:{formGroup:"formGroup"},outputs:{isReset:"isReset"},standalone:!0,features:[t.jDz],ngContentSelectors:["*"],decls:22,vars:20,consts:[[4,"vwSubscribe"],["vwNoPrint",""],["vwCardTitle",""],["aria-label","form",3,"formGroup","ngSubmit"],[3,"disableSubmit","clickCancel"],["vwSubmit",""],[1,"fa-solid","fa-calculator","me-2"],["vwCancel",""],[1,"fa-solid","fa-eraser","me-2"],["class","spy mb-3",4,"ngIf"],[3,"error",4,"ngIf"],["vwOnlyPrint","",3,"formView",4,"ngIf"],[3,"header",4,"ngIf"],[1,"spy","mb-3"],[3,"error"],["vwOnlyPrint","",3,"formView"],[3,"header"],[3,"responseView",4,"ngIf"],[4,"ngIf"],["vwNoPrint","",1,"float-end"],[3,"responseView"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["emptyRef",""],[3,"throwClientError"]],template:function(f,c){1&f&&(t.F$t(),t.YNc(0,p,1,0,"ng-container",0),t.TgZ(1,"vw-card",1),t.ynx(2,2),t._uU(3),t.ALo(4,"translate"),t.BQk(),t.TgZ(5,"form",3),t.NdJ("ngSubmit",function(){return c.submitForm(c.formGroup.value)}),t.Hsn(6),t.TgZ(7,"vw-form-footer",4),t.NdJ("clickCancel",function(){return c.resetForm()}),t.ynx(8,5),t._UZ(9,"i",6),t._uU(10),t.ALo(11,"translate"),t.BQk(),t.ynx(12,7),t._UZ(13,"i",8),t._uU(14),t.ALo(15,"translate"),t.BQk(),t.qZA()(),t.YNc(16,y,3,3,"div",9),t.qZA(),t.YNc(17,w,1,1,"app-form-response-error",10),t.ALo(18,"async"),t.YNc(19,H,1,1,"app-form-data",11),t.YNc(20,V,8,9,"vw-card",12),t.ALo(21,"async")),2&f&&(t.Q6J("vwSubscribe",c.formValueChanges$),t.xp6(3),t.Oqu(t.lcZ(4,10,c.t.FORM.ENTER_DATA)),t.xp6(2),t.Q6J("formGroup",c.formGroup),t.xp6(2),t.Q6J("disableSubmit",!c.formGroup.valid),t.xp6(3),t.hij("",t.lcZ(11,12,c.t.FORM.SUBMIT)," "),t.xp6(4),t.Oqu(t.lcZ(15,14,c.t.FORM.RESET)),t.xp6(2),t.Q6J("ngIf",c.debug),t.xp6(1),t.Q6J("ngIf",t.lcZ(18,16,c.error$)),t.xp6(2),t.Q6J("ngIf",c.formView),t.xp6(1),t.Q6J("ngIf",t.lcZ(21,18,c.response$)))},dependencies:[u.UX,u._Y,u.JL,u.sg,m.tP,m.O5,m.Ov,m.Ts,_.aw,_.X$,C.KX,R.Ak,C.Hr,b.W,R.Lz,C.cu,Q.d,g.xm,g.X6,g.Ty,C.Sn],encapsulation:2,changeDetection:0}),(0,d.gn)([C.aH],o.prototype,"formGroup",void 0)},6664:(k,E,s)=>{s.d(E,{d:()=>F});var d=s(655),m=s(6895),t=s(4650),u=s(4370),h=s(4290),r=s(353),O=s(167),A=s(8723),D=s(7600),N=s(3416),S=s(3476);function P(g,_){if(1&g&&(t.TgZ(0,"tr")(1,"th",5),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"t9nIn"),t.qZA(),t.TgZ(5,"td",6),t._uU(6),t.ALo(7,"dynamicPipe"),t.qZA()()),2&g){const p=_.$implicit,y=t.oxw(2);t.Tol(null==p.value?null:p.value.class),t.xp6(2),t.hij(" ",t.lcZ(3,4,t.xi3(4,6,p.key,y.t[y.prefix])),""),t.xp6(4),t.hij(" ",t.Dn7(7,9,null==p.value?null:p.value.data,null==p.value?null:p.value.pipe,null==p.value?null:p.value.args)," ")}}function L(g,_){if(1&g&&(t.TgZ(0,"div",2)(1,"table",3)(2,"tbody"),t.YNc(3,P,8,13,"tr",4),t.ALo(4,"keyvalue"),t.qZA()()()),2&g){const p=_.ngIf,y=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.xi3(4,1,p,y.sort))}}function x(g,_){if(1&g&&(t.ynx(0),t.TgZ(1,"th"),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"t9nIn"),t.qZA(),t.BQk()),2&g){const p=_.$implicit,y=t.oxw(2);let w;t.xp6(1),t.Tol(null!==(w=null==p.value?null:p.value.class)&&void 0!==w?w:"text-end pe-4"),t.xp6(1),t.hij(" ",t.lcZ(3,3,t.xi3(4,5,p.key,y.t[y.prefix])),"")}}function C(g,_){if(1&g&&(t.ynx(0),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"dynamicPipe"),t.qZA(),t.BQk()),2&g){const p=_.$implicit;let y;t.xp6(1),t.Tol(null!==(y=null==p.value?null:p.value.class)&&void 0!==y?y:"text-end pe-4"),t.xp6(1),t.hij(" ",t.Dn7(3,3,null==p.value?null:p.value.data,null==p.value?null:p.value.pipe,null==p.value?null:p.value.args)," ")}}function R(g,_){if(1&g&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.YNc(3,C,4,7,"ng-container",8),t.ALo(4,"keyvalue"),t.qZA()),2&g){const p=_.$implicit,y=_.index,w=t.oxw(2);t.xp6(2),t.Oqu(y+1),t.xp6(1),t.Q6J("ngForOf",t.xi3(4,2,p,w.sort))}}function Q(g,_){if(1&g&&(t.TgZ(0,"div",2)(1,"table",3)(2,"caption",7),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"thead")(6,"tr")(7,"th",5),t._uU(8,"#"),t.qZA(),t.YNc(9,x,5,8,"ng-container",8),t.ALo(10,"keyvalue"),t.qZA()(),t.TgZ(11,"tbody"),t.YNc(12,R,5,5,"tr",8),t.qZA()()()),2&g){const p=_.ngIf,y=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,3,y.t.DOMAIN[y.prefix])),t.xp6(6),t.Q6J("ngForOf",t.xi3(10,5,p[0],y.sort)),t.xp6(3),t.Q6J("ngForOf",p)}}class F{constructor(){this.prefix=(0,t.f3M)(D.pv).getValue(),this.sort=A.qF,this.t=(0,t.f3M)(u.$z)}}F.\u0275fac=function(_){return new(_||F)},F.\u0275cmp=t.Xpm({type:F,selectors:[["app-form-data"]],inputs:{formView:"formView"},standalone:!0,features:[t.jDz],decls:4,vars:5,consts:[[3,"header"],["class","table-responsive mb-3",4,"ngIf"],[1,"table-responsive","mb-3"],[1,"table","table-sm","w-auto"],[3,"class",4,"ngFor","ngForOf"],[1,"pe-4"],[1,"text-end","pe-4"],[1,"caption-top"],[4,"ngFor","ngForOf"]],template:function(_,p){1&_&&(t.TgZ(0,"vw-card",0),t.ALo(1,"translate"),t.YNc(2,L,5,4,"div",1),t.YNc(3,Q,13,8,"div",1),t.qZA()),2&_&&(t.Q6J("header",t.lcZ(1,3,p.t.FORM.DATA)),t.xp6(2),t.Q6J("ngIf",p.formView.form),t.xp6(1),t.Q6J("ngIf",p.formView.array))},dependencies:[m.O5,m.ax,m.Nd,u.H7,N.aw,N.X$,O.Ak,r.m,S.e],encapsulation:2,changeDetection:0}),(0,d.gn)([h.aH],F.prototype,"formView",void 0)},6926:(k,E,s)=>{s.d(E,{W:()=>u});var d=s(4650);const m=[[["","vwSubmit",""]],[["","vwCancel",""]]],t=["[vwSubmit]","[vwCancel]"];let u=(()=>{class h{constructor(){this.disableCancel=!1,this.disableSubmit=!1,this.clickCancel=new d.vpe}}return h.\u0275fac=function(O){return new(O||h)},h.\u0275cmp=d.Xpm({type:h,selectors:[["vw-form-footer"]],inputs:{disableCancel:"disableCancel",disableSubmit:"disableSubmit"},outputs:{clickCancel:"clickCancel"},standalone:!0,features:[d.jDz],ngContentSelectors:t,decls:6,vars:4,consts:[[1,"float-end"],["type","submit",1,"btn","btn-primary","me-3",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],[1,"clearfix"]],template:function(O,A){1&O&&(d.F$t(m),d.TgZ(0,"div",0)(1,"button",1),d.Hsn(2),d.qZA(),d.TgZ(3,"button",2),d.NdJ("click",function(){return A.clickCancel.emit()}),d.Hsn(4,1),d.qZA()(),d._UZ(5,"div",3)),2&O&&(d.xp6(1),d.Q6J("disabled",A.disableSubmit),d.uIk("aria-disabled",A.disableSubmit),d.xp6(2),d.Q6J("disabled",A.disableCancel),d.uIk("aria-disabled",A.disableCancel))},encapsulation:2,changeDetection:0}),h})()},8115:(k,E,s)=>{s.d(E,{D:()=>t});var d=s(7579),m=s(4650);let t=(()=>{class u{constructor(){this._emitter$=new d.x,this.emitter$=this._emitter$.asObservable()}emit(){this._emitter$.next()}}return u.\u0275fac=function(r){return new(r||u)},u.\u0275prov=m.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},2720:(k,E,s)=>{s.d(E,{xm:()=>F,Ty:()=>T,X6:()=>M});var d=s(655),m=s(6895),t=s(4650),u=s(7508),h=s(4290),r=s(167),O=s(8723),A=s(7600),D=s(3416),N=s(3476);function S(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"th"),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"t9nIn"),t.qZA(),t.BQk()),2&e){const o=n.$implicit,i=t.oxw(2);let f;t.xp6(1),t.Tol(null!==(f=null==o.value?null:o.value.class)&&void 0!==f?f:"text-end pe-4"),t.xp6(1),t.hij(" ",t.lcZ(3,3,t.xi3(4,5,o.key,i.t[i.prefix]))," ")}}function P(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"dynamicPipe"),t.qZA(),t.BQk()),2&e){const o=n.$implicit;let i;t.xp6(1),t.Tol(null!==(i=null==o.value?null:o.value.class)&&void 0!==i?i:"text-end pe-4"),t.xp6(1),t.hij(" ",t.Dn7(3,3,null==o.value?null:o.value.data,null==o.value?null:o.value.pipe,null==o.value?null:o.value.args)," ")}}function L(e,n){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.YNc(3,P,4,7,"ng-container",7),t.ALo(4,"keyvalue"),t.qZA()),2&e){const o=n.$implicit,i=n.index,f=t.oxw(2);t.xp6(2),t.Oqu(i+1),t.xp6(1),t.Q6J("ngForOf",t.xi3(4,2,o.amounts,f.sort))}}function x(e,n){if(1&e&&(t.TgZ(0,"div",3)(1,"table",4)(2,"caption",5),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"thead")(6,"tr")(7,"th",6),t._uU(8,"#"),t.qZA(),t.YNc(9,S,5,8,"ng-container",7),t.ALo(10,"keyvalue"),t.qZA()(),t.TgZ(11,"tbody"),t.YNc(12,L,5,5,"tr",7),t.qZA()(),t.Hsn(13),t.qZA()),2&e){const o=n.ngIf,i=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,3,i.t.DOMAIN[i.prefix])),t.xp6(6),t.Q6J("ngForOf",t.xi3(10,5,null==o[0]?null:o[0].amounts,i.sort)),t.xp6(3),t.Q6J("ngForOf",o)}}function C(e,n){if(1&e&&(t.TgZ(0,"tr")(1,"th",6),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"t9nIn"),t.qZA(),t.TgZ(5,"td",9),t._uU(6),t.ALo(7,"dynamicPipe"),t.qZA()()),2&e){const o=n.$implicit,i=t.oxw(2);t.Tol(null==o.value?null:o.value.class),t.xp6(2),t.Oqu(t.lcZ(3,4,t.xi3(4,6,o.key,i.t[i.prefix]))),t.xp6(4),t.hij(" ",t.Dn7(7,9,null==o.value?null:o.value.data,null==o.value?null:o.value.pipe,null==o.value?null:o.value.args)," ")}}function R(e,n){if(1&e&&(t.TgZ(0,"div",3)(1,"table",4)(2,"tbody"),t.YNc(3,C,8,13,"tr",8),t.ALo(4,"keyvalue"),t.qZA()()()),2&e){const o=n.ngIf,i=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.xi3(4,1,o,i.sort))}}class F{constructor(){this.prefix=(0,t.f3M)(A.pv).getValue(),this.sort=O.qF,this.t=(0,t.f3M)(u.$z)}}F.\u0275fac=function(n){return new(n||F)},F.\u0275cmp=t.Xpm({type:F,selectors:[["app-form-response-amounts"]],inputs:{responseView:"responseView"},standalone:!0,features:[t.jDz],ngContentSelectors:["*"],decls:7,vars:8,consts:[[3,"ariaLabel"],["vwCardSubtitle",""],["class","table-responsive mb-3",4,"ngIf"],[1,"table-responsive","mb-3"],[1,"table","table-sm","w-auto"],[1,"caption-top"],[1,"pe-4"],[4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],[1,"text-end","pe-4"]],template:function(n,o){1&n&&(t.F$t(),t.TgZ(0,"vw-card",0),t.ALo(1,"translate"),t.ynx(2,1),t._uU(3),t.ALo(4,"translate"),t.BQk(),t.YNc(5,x,14,8,"div",2),t.YNc(6,R,5,4,"div",2),t.qZA()),2&n&&(t.s9C("ariaLabel",t.lcZ(1,4,o.t.FORM.AMOUNTS)),t.xp6(3),t.Oqu(t.lcZ(4,6,o.t.FORM.AMOUNTS)),t.xp6(2),t.Q6J("ngIf",o.responseView.items),t.xp6(1),t.Q6J("ngIf",o.responseView.amounts))},dependencies:[m.O5,m.ax,m.Nd,u.H7,D.aw,D.X$,r.Ak,h.mK,N.e],encapsulation:2,changeDetection:0}),(0,d.gn)([h.aH],F.prototype,"responseView",void 0);var g=s(7402);function _(e,n){if(1&e&&(t.TgZ(0,"span",6),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Oqu(t.xi3(2,1,o.description,o.descriptionParam))}}function p(e,n){if(1&e&&(t.TgZ(0,"pre",6),t._uU(1),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Oqu(o.rawError)}}function y(e,n){if(1&e&&(t._UZ(0,"span",7),t.ALo(1,"translate")),2&e){const o=t.oxw(2);t.Q6J("innerHTML",t.xi3(1,1,o.t.ALERT_KO.CONTACT_SUPPORT,o.emailParam),t.oJD)}}function w(e,n){if(1&e&&(t.TgZ(0,"vw-alert",2)(1,"span",3),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,_,3,4,"span",4),t.YNc(5,p,2,1,"pre",4),t.YNc(6,y,2,4,"span",5),t.qZA()),2&e){const o=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,4,o.t.ALERT_KO[o.key])),t.xp6(2),t.Q6J("ngIf",o.description),t.xp6(1),t.Q6J("ngIf",o.rawError),t.xp6(1),t.Q6J("ngIf",o.hasSupport)}}class T{constructor(){this.emailMsg="",this.t=(0,t.f3M)(u.$z),this.description="",this.descriptionParam={},this.emailParam={email:""},this.hasSupport=!1,this.rawError=""}set error(n){n&&(this.key=n.error,this.key===g.jK.UNPROCESSABLE_ENTITY?this.setUnprocessableEntityError(n):this.key===g.jK.JSON_VALIDATION_ERROR?this.setJsonValidationError(n):this.setGenericServerSideError(n))}setGenericServerSideError(n){this.hasSupport=!0,this.emailMsg="string"==typeof n.message?n.message:JSON.stringify(n.message),this.emailParam={email:`${g.yC}?subject=[ROBIN] ${this.key}&body=${(new Date).toLocaleString()}: ${this.emailMsg}`}}setJsonValidationError(n){this.rawError="string"==typeof n.message?n.message:n.message.message}setUnprocessableEntityError(n){const o=n.message,{name:i,property:f,param:c}=o.constraint;this.description=`${g.jK.UNPROCESSABLE_ENTITY}.${i}.${f}`,this.descriptionParam=c}}function U(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"th"),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"t9nIn"),t.qZA(),t.BQk()),2&e){const o=n.$implicit,i=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,1,t.xi3(4,3,o.key,i.t[i.prefix])))}}function G(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"td")(2,"code"),t._uU(3),t.qZA()(),t.BQk()),2&e){const o=n.$implicit;t.xp6(3),t.Oqu(o.value)}}function J(e,n){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.YNc(3,G,4,1,"ng-container",9),t.ALo(4,"keyvalue"),t.qZA()),2&e){const o=n.$implicit,i=n.index,f=t.oxw(3);t.xp6(2),t.Oqu(i+1),t.xp6(1),t.Q6J("ngForOf",t.xi3(4,2,o.formulas,f.sort))}}function $(e,n){if(1&e&&(t.TgZ(0,"div",5)(1,"table",6)(2,"caption",7),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"thead")(6,"tr")(7,"th",8),t._uU(8,"#"),t.qZA(),t.YNc(9,U,5,6,"ng-container",9),t.ALo(10,"keyvalue"),t.qZA()(),t.TgZ(11,"tbody"),t.YNc(12,J,5,5,"tr",9),t.qZA()()()),2&e){const o=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,3,o.t.DOMAIN[o.prefix])),t.xp6(6),t.Q6J("ngForOf",t.xi3(10,5,null==o.responseView.items[0]?null:o.responseView.items[0].formulas,o.sort)),t.xp6(3),t.Q6J("ngForOf",o.responseView.items)}}function Y(e,n){if(1&e&&(t.TgZ(0,"tr")(1,"th"),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"t9nIn"),t.qZA(),t.TgZ(5,"td")(6,"code"),t._uU(7),t.qZA()()()),2&e){const o=n.$implicit,i=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,t.xi3(4,4,o.key,i.t[i.prefix]))),t.xp6(5),t.Oqu(o.value)}}function V(e,n){if(1&e&&(t.TgZ(0,"div",10)(1,"table",11)(2,"tbody"),t.YNc(3,Y,8,7,"tr",9),t.ALo(4,"keyvalue"),t.qZA()()()),2&e){const o=n.ngIf,i=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",t.xi3(4,1,o,i.sort))}}function I(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"vw-card",1),t.ALo(2,"translate"),t.ynx(3,2),t._uU(4),t.ALo(5,"translate"),t.BQk(),t.YNc(6,$,13,8,"div",3),t.YNc(7,V,5,4,"div",4),t.qZA(),t.BQk()),2&e){const o=t.oxw();t.xp6(1),t.s9C("ariaLabel",t.lcZ(2,4,o.t.FORM.FORMULA)),t.xp6(3),t.Oqu(t.lcZ(5,6,o.t.FORM.FORMULA)),t.xp6(2),t.Q6J("ngIf",o.responseView.items&&(null==o.responseView.items[0]?null:o.responseView.items[0].formulas)),t.xp6(1),t.Q6J("ngIf",o.responseView.formulas)}}T.\u0275fac=function(n){return new(n||T)},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-form-response-error"]],inputs:{error:"error"},standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[[1,"clearfix"],["level","danger",4,"ngIf"],["level","danger"],[1,"me-2","fw-bold"],["class","mt-1 mb-0",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"mt-1","mb-0"],[3,"innerHTML"]],template:function(n,o){1&n&&(t._UZ(0,"div",0),t.YNc(1,w,7,6,"vw-alert",1)),2&n&&(t.xp6(1),t.Q6J("ngIf",o.key))},dependencies:[m.O5,D.aw,D.X$,r.wx],encapsulation:2,changeDetection:0}),(0,d.gn)([h.aH],T.prototype,"error",null);class M{constructor(){this.prefix=(0,t.f3M)(A.pv).getValue(),this.sort=O.qF,this.t=(0,t.f3M)(u.$z)}}M.\u0275fac=function(n){return new(n||M)},M.\u0275cmp=t.Xpm({type:M,selectors:[["app-form-response-formulas"]],inputs:{responseView:"responseView"},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ariaLabel"],["vwCardSubtitle",""],["class","table-responsive mb-3",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"table-responsive","mb-3"],[1,"table","table-sm","col-12"],[1,"caption-top"],[2,"max-width","25px"],[4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table","table-sm"]],template:function(n,o){1&n&&t.YNc(0,I,8,8,"ng-container",0),2&n&&t.Q6J("ngIf",o.responseView.items&&(null==o.responseView.items[0]?null:o.responseView.items[0].formulas)||o.responseView.formulas)},dependencies:[m.O5,m.ax,m.Nd,u.H7,D.aw,D.X$,r.Ak],encapsulation:2,changeDetection:0}),(0,d.gn)([h.aH],M.prototype,"responseView",void 0)},8453:(k,E,s)=>{s.d(E,{Mp:()=>n,wM:()=>d.wM,TO:()=>d.TO,$9:()=>o,tJ:()=>p,wh:()=>T,Uw:()=>i,tS:()=>U,Zg:()=>I,WX:()=>c.W,Ty:()=>Z.Ty,_c:()=>e,Me:()=>d.Me,Ng:()=>d.Ng});var d=s(8268),m=s(4006),t=s(7508),u=s(655),h=s(6895),r=s(4650),O=s(4290),A=s(2856),D=s(1884),N=s(8505),S=s(8723);const L=new r.OlP("FORM_ERRORS_MESSAGES",{factory:()=>({invalid:a=>({key:"DEFAULT_ERROR"}),required:a=>({key:"REQUIRED_FIELD"}),max:({max:a})=>({key:"VALUE_LESS_THAN",interpolateParams:{max:a}}),min:({min:a})=>({key:"VALUE_GREATER_THAN",interpolateParams:{min:a}}),invalidInss:({wrongBirthDate:l})=>({key:l?"INVALID_INSS_BIRTH_DATE":"INVALID_INSS_CHECK_DIGIT"}),invalidJson:({})=>({key:"INVALID_JSON"}),differentThan:({errorMessage:a})=>({key:a||"DIFFERENT_THAN"}),invalidSumOfFractions:a=>({key:"INVALID_SUM_OF_FRACTIONS"}),date:({min:l,max:v})=>l&&l instanceof Date?{key:"DATE_AFTER",interpolateParams:{minDate:(0,S.UW)(l)}}:v&&v instanceof Date?{key:"DATE_BEFORE",interpolateParams:{maxDate:(0,S.UW)(v)}}:{key:"INVALID_DATE"},allFilledOrNone:({number:a})=>({key:"ALL_FILLED_OR_NONE",interpolateParams:{number:a}})})});let x=class{constructor(){this.cdRef=(0,r.f3M)(r.sBO),this.formErrorsMessages=(0,r.f3M)(L),this.t=(0,r.f3M)(t.$z)}transform(l,v={}){if(!l)return"";const B=Object.keys(l).shift();if(!B)return"";const X=(0,S.qg)("inputMask",l)?"inputMask":B,z=Object.assign(this.formErrorsMessages,v),K=z[X]??z.invalid,{key:W,interpolateParams:q}=K(l[X]);return this.t.translation$(this.t.VALIDATION_ERROR[W],q).pipe((0,D.x)(),(0,N.b)(tt=>{this.translation=tt,this.cdRef.markForCheck()}),(0,A.t)(this)).subscribe(),this.translation}};x.\u0275fac=function(l){return new(l||x)},x.\u0275pipe=r.Yjl({name:"translateFormErrors",type:x,pure:!1,standalone:!0}),x=(0,u.gn)([(0,A.c)()],x);var C=s(3416);function R(a,l){if(1&a&&(r.TgZ(0,"small",2),r._UZ(1,"i",3),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translateFormErrors"),r.qZA()),2&a){const v=l.$implicit,B=l.index,X=r.oxw();r.xp6(2),r.lnq(" ",r.lcZ(3,3,X.t.VALIDATION_ERROR.INVALID_GENERIC)," #",B+1," : ",r.xi3(4,5,v,X.overriddenMessages)," ")}}class b{constructor(){this.cdRef=(0,r.f3M)(r.sBO),this.t=(0,r.f3M)(t.$z),this.errorClass="",this.overriddenMessages={}}set errors(l){this._errors=l,this.cdRef.markForCheck()}get errors(){return this._errors}}function F(a,l){if(1&a&&(r.TgZ(0,"div")(1,"small",1),r._uU(2),r.ALo(3,"translateFormErrors"),r.qZA()()),2&a){const v=r.oxw();r.xp6(1),r.Tol(v.errorClass),r.MGl("id","",v.id,"-errormessage"),r.xp6(1),r.hij(" ",r.xi3(3,4,v.errors,v.overriddenMessages)," ")}}b.\u0275fac=function(l){return new(l||b)},b.\u0275cmp=r.Xpm({type:b,selectors:[["ng-component"]],inputs:{errorClass:"errorClass",overriddenMessages:"overriddenMessages",errors:"errors"},standalone:!0,features:[r.jDz],decls:2,vars:3,consts:[[1,"text-end","mb-3"],["role","alert","class","d-block",4,"ngFor","ngForOf"],["role","alert",1,"d-block"],[1,"fa-regular","fa-circle-xmark"]],template:function(l,v){1&l&&(r.TgZ(0,"div",0),r.YNc(1,R,5,8,"small",1),r.qZA()),2&l&&(r.Tol(v.errorClass),r.xp6(1),r.Q6J("ngForOf",v.errors))},dependencies:[h.ax,C.aw,C.X$,x],encapsulation:2,changeDetection:0}),(0,u.gn)([O.aH],b.prototype,"errors",null);class _{constructor(){this.cdRef=(0,r.f3M)(r.sBO),this.errorClass="",this.overriddenMessages={}}set errors(l){this._errors=l,this.cdRef.markForCheck()}get errors(){return this._errors}}_.\u0275fac=function(l){return new(l||_)},_.\u0275cmp=r.Xpm({type:_,selectors:[["ng-component"]],inputs:{errorClass:"errorClass",overriddenMessages:"overriddenMessages",id:"id",errors:"errors"},standalone:!0,features:[r.jDz],decls:1,vars:1,consts:[[4,"ngIf"],[3,"id"]],template:function(l,v){1&l&&r.YNc(0,F,4,7,"div",0),2&l&&r.Q6J("ngIf",v.errors)},dependencies:[h.O5,x],encapsulation:2,changeDetection:0}),(0,u.gn)([O.aH],_.prototype,"id",void 0),(0,u.gn)([O.aH],_.prototype,"errors",null);let p=(()=>{class a{constructor(){this.vcr=(0,r.f3M)(r.s_b)}}return a.\u0275fac=function(v){return new(v||a)},a.\u0275dir=r.lG2({type:a,selectors:[["","appFormArrayErrorsContainer",""]],standalone:!0}),a})(),T=class{constructor(){this.container=(0,r.f3M)(p,{optional:!0})?.vcr??(0,r.f3M)(r.s_b),this.formArrayDirective=(0,r.f3M)(m.CE)}ngOnDestroy(){this.component&&this.component.destroy()}ngOnInit(){this.formArray=this.formArrayDirective.control,this.formArray.valueChanges.pipe((0,D.x)(),(0,N.b)(()=>this.setArrayError(this.formArray,this.overriddenMessages)),(0,A.t)(this)).subscribe()}setArrayError(l,v={}){this.component||(this.component=this.container.createComponent(b),this.component.setInput("errorClass","text-error")),this.component.setInput("errors",l.controls.map(B=>B.errors).filter(S.K0)),v&&this.component.setInput("overriddenMessages",v)}};T.\u0275fac=function(l){return new(l||T)},T.\u0275dir=r.lG2({type:T,selectors:[["","formArrayName",""]],inputs:{overriddenMessages:"overriddenMessages"},standalone:!0}),T=(0,u.gn)([(0,A.c)()],T);let U=(()=>{class a{constructor(){this.vcr=(0,r.f3M)(r.s_b)}}return a.\u0275fac=function(v){return new(v||a)},a.\u0275dir=r.lG2({type:a,selectors:[["","appFormControlErrorsContainer",""]],standalone:!0}),a})();var G=s(6451);const $="errors",V="overriddenMessages";let I=class{constructor(){this.cdr=(0,r.f3M)(r.sBO),this.container=(0,r.f3M)(U,{optional:!0})?.vcr??(0,r.f3M)(r.s_b),this.formControlNameDirective=(0,r.f3M)(m.u)}ngOnDestroy(){this.component&&this.component.destroy()}ngOnInit(){this.formControl=this.formControlNameDirective.control,(0,G.T)(this.formControl.valueChanges).pipe((0,N.b)(()=>{this.formControl.pristine&&this.removeError(),this.formControl.dirty&&this.formControl.errors?this.setError(this.formControl,this.overriddenMessages):this.removeError()}),(0,A.t)(this)).subscribe()}removeError(){this.component&&(this.component.setInput("id",null),this.component.setInput($,null),this.component.setInput(V,void 0),this.cdr.markForCheck())}setError(l,v={}){this.component||(this.component=this.container.createComponent(_),this.component.setInput("errorClass","text-error")),this.component.setInput("id",this.formControlNameDirective.name),this.component.setInput($,l.errors),v&&this.component.setInput(V,v)}};I.\u0275fac=function(l){return new(l||I)},I.\u0275dir=r.lG2({type:I,selectors:[["","formControlName",""]],inputs:{overriddenMessages:"overriddenMessages"},standalone:!0}),I=(0,u.gn)([(0,A.c)()],I);const j=[_,I,U,b,T,p];var M=s(8115);let e=(()=>{class a{constructor(){this.cdr=(0,r.f3M)(r.sBO),this.isReset$=(0,r.f3M)(M.D).emitter$}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}ngOnInit(){this.subscription&&this.subscription.unsubscribe(),this.subscription=this.isReset$.subscribe(()=>{this.cdr.markForCheck()})}}return a.\u0275fac=function(v){return new(v||a)},a.\u0275dir=r.lG2({type:a,selectors:[["","vwFormResetObserver",""]],standalone:!0}),a})();const n=[m.UX,...t.by,...j,e];class o{constructor(){this.arrayDirective=(0,r.f3M)(m.CE,{host:!0})}ngOnInit(){this.parentArray=this.arrayDirective.control}addRow(){this.parentArray.push(this.newItemFactory())}}o.\u0275fac=function(l){return new(l||o)},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-form-array-add-row"]],inputs:{newItemFactory:"newItemFactory"},standalone:!0,features:[r.jDz],decls:2,vars:2,consts:[["type","button",1,"btn","btn-sm","btn-outline-primary",3,"disabled","click"],[1,"fa-solid","fa-plus"]],template:function(l,v){1&l&&(r.TgZ(0,"button",0),r.NdJ("click",function(){return v.addRow()}),r._UZ(1,"i",1),r.qZA()),2&l&&(r.Q6J("disabled",v.parentArray.disabled),r.uIk("aria-disabled",v.parentArray.disabled))},encapsulation:2,changeDetection:0}),(0,u.gn)([O.aH],o.prototype,"newItemFactory",void 0);class i{constructor(){this.arrayDirective=(0,r.f3M)(m.CE,{host:!0})}ngOnInit(){this.parentArray=this.arrayDirective.control}removeRow(){this.parentArray.removeAt(this.rowIndex)}}i.\u0275fac=function(l){return new(l||i)},i.\u0275cmp=r.Xpm({type:i,selectors:[["app-form-array-remove-row"]],inputs:{rowIndex:"rowIndex"},standalone:!0,features:[r.jDz],decls:2,vars:2,consts:[["type","button",1,"btn","btn-outline-danger","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-xmark"]],template:function(l,v){1&l&&(r.TgZ(0,"button",0),r.NdJ("click",function(){return v.removeRow()}),r._UZ(1,"i",1),r.qZA()),2&l&&(r.Q6J("disabled",v.parentArray.disabled),r.uIk("aria-disabled",v.parentArray.disabled))},encapsulation:2,changeDetection:0}),(0,u.gn)([O.aH],i.prototype,"rowIndex",void 0),s(6664);var c=s(6926),Z=s(2720)},8502:(k,E,s)=>{s.d(E,{l:()=>u});var d=s(4482),m=s(5403),t=s(5032);function u(){return(0,d.e)((h,r)=>{h.subscribe((0,m.x)(r,t.Z))})}},2856:(k,E,s)=>{s.d(E,{c:()=>H,t:()=>j});var d=s(7579),m=s(727),h=(s(2076),s(515),s(4650)),O=(s(5577),s(4482)),A=s(5403),D=s(8421),N=s(5032);const P=h.GuJ,x=Symbol("__destroy"),C=Symbol("__decoratorApplied");function R(e){return"string"==typeof e?Symbol(`__destroy__${e}`):x}function b(e,n){e[n]||(e[n]=new d.x)}function F(e,n){e[n]&&(e[n].next(),e[n].complete(),e[n]=null)}function g(e){e instanceof m.w0&&e.unsubscribe()}function p(e,n){return function(){if(e&&e.call(this),F(this,R()),n.arrayName&&function _(e){Array.isArray(e)&&e.forEach(g)}(this[n.arrayName]),n.checkProperties)for(const o in this)n.blackList?.includes(o)||g(this[o])}}function H(e={}){return n=>{!function L(e){return!!e[P]}(n)?function y(e,n){e.prototype.ngOnDestroy=p(e.prototype.ngOnDestroy,n)}(n,e):function w(e,n){const o=e.\u0275pipe;o.onDestroy=p(o.onDestroy,n)}(n,e),function Q(e){e.prototype[C]=!0}(n)}}function j(e,n){return o=>{const i=R(n);"string"==typeof n?function I(e,n,o){const i=e[n];b(e,o),e[n]=function(){i.apply(this,arguments),F(this,o),e[n]=i}}(e,n,i):b(e,i);return o.pipe(function S(e){return(0,O.e)((n,o)=>{(0,D.Xf)(e).subscribe((0,A.x)(o,()=>o.complete(),N.Z)),!o.closed&&n.subscribe(o)})}(e[i]))}}Symbol("CheckerHasBeenSet")}}]);