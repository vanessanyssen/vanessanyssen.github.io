(self.webpackChunkrobin=self.webpackChunkrobin||[]).push([[638],{1638:(W,t,a)=>{"use strict";a.r(t),a.d(t,{HandiServicePage:()=>Pt});var r=a(6895),e=a(4650),v=a(4006),h=a(8453),b=a(7402),o=a(7508),m=a(4290),n=a(167),i=a(8723),E=a(3416),w=a(5158);let A=(()=>{class S{constructor(){this.t=(0,e.f3M)(o.$z),this.disableFormat=!1,this.clickFormat=new e.vpe}onClickFormat(){this.clickFormat.emit()}}return S.\u0275fac=function(U){return new(U||S)},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-handiservice-form-inline"]],inputs:{disableFormat:"disableFormat"},outputs:{clickFormat:"clickFormat"},standalone:!0,features:[e._Bn([],[{provide:v.gN,useExisting:v.sg}]),e.jDz],decls:10,vars:11,consts:[[1,"row"],[1,"col-12","mb-3"],["labelClass","form-label",3,"label"],["type","button",1,"btn","btn-sm","btn-outline-primary","float-end","mb-1",3,"disabled","click"],[1,"fa-solid","fa-bars-staggered","me-2"],["formControlName","json","placeholder","schema handiservice-v3",1,"form-control","rows-10",3,"title"]],template:function(U,c){1&U&&(e.TgZ(0,"div",0)(1,"div",1)(2,"vw-form-field",2),e.ALo(3,"translate"),e.TgZ(4,"button",3),e.NdJ("click",function(){return c.onClickFormat()}),e._UZ(5,"i",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"textarea",5),e.ALo(9,"translate"),e.qZA()()()),2&U&&(e.xp6(2),e.Q6J("label",e.lcZ(3,5,c.t.JSON.INPUT)),e.xp6(2),e.Q6J("disabled",c.disableFormat),e.uIk("aria-disabled",c.disableFormat),e.xp6(2),e.hij("",e.lcZ(7,7,c.t.JSON.FORMAT)," "),e.xp6(2),e.Q6J("title",e.lcZ(9,9,c.t.VALIDATION_ERROR.REQUIRED_FIELD)))},dependencies:[v.UX,v.Fj,v.JJ,v.u,E.aw,E.X$,h.Zg,n.hg,n.LW,n.vA,w.zz],encapsulation:2,changeDetection:0}),S})();var C=a(1004),l=a(655),d=a(7600),N=(()=>{return(S=N||(N={}))[S.NO_REQUEST=0]="NO_REQUEST",S[S.CHILD_OLD_SUPPLEMENT=1]="CHILD_OLD_SUPPLEMENT",S[S.CHILD_NEW_SUPPLEMENT=2]="CHILD_NEW_SUPPLEMENT",S[S.INCOME_REPLACEMENT=3]="INCOME_REPLACEMENT",S[S.ELDERLY_ASSISTANCE=4]="ELDERLY_ASSISTANCE",S[S.OLD_ALLOWANCE=5]="OLD_ALLOWANCE",S[S.PARKING_CARD=6]="PARKING_CARD",N;var S})(),f=(()=>{return(S=f||(f={}))[S.INCOME_REPLACEMENT=3]="INCOME_REPLACEMENT",S[S.ELDERLY_ASSISTANCE=4]="ELDERLY_ASSISTANCE",S[S.OLD_ALLOWANCE=10]="OLD_ALLOWANCE",f;var S})();const g=S=>S&&{requestDate:{data:S.requestDate},legislation:{data:N[S.legislation],pipe:"enum"},administrativeExamination:{data:S.administrativePendingRequest,pipe:"enum"},medicalExamination:{data:S.handicapRecognitionPending,pipe:"enum"},completionDate:{data:S.fileCompletionDate},appeal:{data:S.appeal,pipe:"enum"}},R=S=>S?.map(J=>$(J))?.sort(y),$=S=>({status:{data:S.decisionStatus,pipe:"enum"},legislation:{data:S.legislation?N[S.legislation]:"NO_REQUEST",pipe:"enum"},decisionDate:{data:S.recognitionStatus?.dateOfDecision},startDate:{data:S.recognitionStatus?.startDateRecognition},endDate:{data:S.recognitionStatus?.endDateRecognition},totalPoints:{data:S.resultRecognitionAdult?.diminutionIndependence?.totalPoints}}),y=(0,i.us)("decisionDate",!1),_=S=>S&&{fullName:{data:L(S)},addressFr:{data:S.address&&Z(S.address,"FR")},addressNl:{data:S.address&&Z(S.address,"NL")}},L=S=>S.lastName+(0,i.Ce)(", ",S.firstName),Z=(S,J)=>(0,i.aK)([H(S,J),B(S),(0,i.Ce)(" / ",ne(S)),",",ee(S),ce(S,J),(0,i.Np)(pe(S,J))]),H=(S,J)=>(S.streetNames&&Te(S.streetNames,J))??"",B=S=>S.houseNumber??"",ne=S=>S.boxNumber??"",ee=S=>S.postalCode??"",ce=(S,J)=>(S.cityNames&&Te(S.cityNames,J))??"",pe=(S,J)=>{const U=(S.countryNames&&Te(S.countryNames,J))??"";return U.startsWith("Belgi")?"":U},Te=(S,J)=>S?.filter(U=>U.language===J)?.[0]?.value??"",ie=S=>S?.map(J=>Re(J)).sort(j),Re=S=>({startDate:{data:S?.openPeriod?.beginDate},endDate:{data:S?.openPeriod?.endDate},allowance:{data:G(S),pipe:"enum"},decision:{data:S.decisionStatus,pipe:"enum"},amount:{data:S.totalMonthAmount,class:"text-end pe-4",pipe:"currency"}}),G=S=>0===S.totalMonthAmount||O(S.legislation)?f[S.legislation]:S.totalMonthAmount===S.monthAmount?"INTEGRATION_RIGHT":0===S.monthAmount?"INCOME_REPLACEMENT_RIGHT":"INCOME_REPLACEMENT_INTEGRATION_RIGHT",j=(0,i.us)("startDate",!1),O=S=>S!==f.INCOME_REPLACEMENT,s={DATA_FOUND:"found",NO_DATA_FOUND:"notfound",TECHNICAL_ERROR:"error"};var M=a(3476);function Y(S,J){if(1&S&&(e.TgZ(0,"tr")(1,"th",18),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"t9nIn"),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"dynamicPipe"),e.qZA()()),2&S){const U=J.$implicit,c=e.oxw(4);e.xp6(2),e.Oqu(e.lcZ(3,2,e.xi3(4,4,U.key,c.t[c.prefix]))),e.xp6(4),e.Oqu(e.Dn7(7,7,U.value.data,U.value.pipe,U.value.args))}}function q(S,J){if(1&S&&(e.TgZ(0,"div",15)(1,"table",16)(2,"tbody"),e.YNc(3,Y,8,11,"tr",17),e.ALo(4,"keyvalue"),e.qZA()()()),2&S){const U=J.ngIf,c=e.oxw(3);e.xp6(3),e.Q6J("ngForOf",e.xi3(4,1,U,c.sort))}}function te(S,J){if(1&S&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"t9nIn"),e.qZA()),2&S){const U=e.oxw(3);e.xp6(1),e.Oqu(e.lcZ(2,1,e.xi3(3,3,"noPersonData",U.t[U.prefix])))}}function _e(S,J){if(1&S&&(e.ynx(0),e.TgZ(1,"th"),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"t9nIn"),e.qZA(),e.BQk()),2&S){const U=J.$implicit,c=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,1,e.xi3(4,3,U.key,c.t[c.prefix])))}}function Pe(S,J){if(1&S&&(e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.ALo(3,"dynamicPipe"),e.qZA(),e.BQk()),2&S){const U=J.$implicit;e.xp6(2),e.Oqu(e.Dn7(3,1,U.value.data,U.value.pipe,U.value.args))}}function I(S,J){if(1&S&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.YNc(3,Pe,4,5,"ng-container",17),e.ALo(4,"keyvalue"),e.qZA()),2&S){const U=J.$implicit,c=J.index,u=e.oxw(5);e.xp6(2),e.Oqu(c+1),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,U,u.sort))}}function k(S,J){if(1&S&&(e.TgZ(0,"table",21)(1,"thead")(2,"tr")(3,"th",22),e._uU(4,"#"),e.qZA(),e.YNc(5,_e,5,6,"ng-container",17),e.ALo(6,"keyvalue"),e.qZA()(),e.TgZ(7,"tbody"),e.YNc(8,I,5,5,"tr",17),e.qZA()()),2&S){const U=J.ngIf,c=e.oxw(4);e.xp6(5),e.Q6J("ngForOf",e.xi3(6,2,U[0],c.sort)),e.xp6(3),e.Q6J("ngForOf",U)}}function z(S,J){if(1&S&&(e.TgZ(0,"div",15),e.YNc(1,k,9,5,"table",20),e.qZA()),2&S){const U=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",U.handicapRecognitions)}}function Q(S,J){if(1&S&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"t9nIn"),e.qZA()),2&S){const U=e.oxw(3);e.xp6(1),e.hij("",e.lcZ(2,1,e.xi3(3,3,"noHandicapRecognitions",U.t[U.prefix]))," ")}}function K(S,J){if(1&S&&(e.TgZ(0,"tr")(1,"th",18),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"t9nIn"),e.qZA(),e.TgZ(5,"td",24),e._uU(6),e.ALo(7,"dynamicPipe"),e.qZA()()),2&S){const U=J.$implicit,c=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,e.xi3(4,4,U.key,c.t[c.prefix]))),e.xp6(4),e.Oqu(e.Dn7(7,7,U.value.data,U.value.pipe,U.value.args))}}function x(S,J){if(1&S&&(e.TgZ(0,"table",16)(1,"tbody"),e.YNc(2,K,8,11,"tr",17),e.ALo(3,"keyvalue"),e.qZA()()),2&S){const U=J.ngIf,c=e.oxw(4);e.xp6(2),e.Q6J("ngForOf",e.xi3(3,1,U,c.sort))}}function me(S,J){if(1&S&&(e.TgZ(0,"div",15),e.YNc(1,x,4,4,"table",23),e.qZA()),2&S){const U=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",U.evolutionOfRequest)}}function Ae(S,J){if(1&S&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"t9nIn"),e.qZA()),2&S){const U=e.oxw(3);e.xp6(1),e.hij("",e.lcZ(2,1,e.xi3(3,3,"noRequestInProgress",U.t[U.prefix]))," ")}}function ve(S,J){if(1&S&&(e.ynx(0),e.TgZ(1,"th"),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"t9nIn"),e.qZA(),e.BQk()),2&S){const U=J.$implicit,c=e.oxw(5);e.xp6(1),e.Tol(U.value.pipe+" "+U.value.class),e.xp6(1),e.hij(" ",e.lcZ(3,3,e.xi3(4,5,U.key,c.t[c.prefix]))," ")}}function de(S,J){if(1&S&&(e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.ALo(3,"dynamicPipe"),e.qZA(),e.BQk()),2&S){const U=J.$implicit;e.xp6(1),e.Tol(U.value.pipe+" "+U.value.class),e.xp6(1),e.hij(" ",e.Dn7(3,3,U.value.data,U.value.pipe,U.value.args)," ")}}function $e(S,J){if(1&S&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.YNc(3,de,4,7,"ng-container",17),e.ALo(4,"keyvalue"),e.qZA()),2&S){const U=J.$implicit,c=J.index,u=e.oxw(5);e.xp6(2),e.Oqu(c+1),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,U,u.sort))}}function ke(S,J){if(1&S&&(e.TgZ(0,"table",21)(1,"thead")(2,"tr")(3,"th",22),e._uU(4,"#"),e.qZA(),e.YNc(5,ve,5,8,"ng-container",17),e.ALo(6,"keyvalue"),e.qZA()(),e.TgZ(7,"tbody"),e.YNc(8,$e,5,5,"tr",17),e.qZA()()),2&S){const U=J.ngIf,c=e.oxw(4);e.xp6(5),e.Q6J("ngForOf",e.xi3(6,2,U[0],c.sort)),e.xp6(3),e.Q6J("ngForOf",U)}}function Ne(S,J){if(1&S&&(e.TgZ(0,"div",15),e.YNc(1,ke,9,5,"table",20),e.qZA()),2&S){const U=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",U.rights)}}function Ke(S,J){if(1&S&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"t9nIn"),e.qZA()),2&S){const U=e.oxw(3);e.xp6(1),e.Oqu(e.lcZ(2,1,e.xi3(3,3,"noRights",U.t[U.prefix])))}}function Ge(S,J){if(1&S&&(e.TgZ(0,"div",5)(1,"div",6)(2,"vw-card"),e.ynx(3,7),e._uU(4),e.ALo(5,"translate"),e.ALo(6,"t9nIn"),e.BQk(),e.YNc(7,q,5,4,"div",8),e.YNc(8,te,4,6,"ng-template",null,9,e.W1O),e.qZA()(),e.TgZ(10,"div",6)(11,"vw-card"),e.ynx(12,7),e._uU(13),e.ALo(14,"translate"),e.ALo(15,"t9nIn"),e.BQk(),e.YNc(16,z,2,1,"div",8),e.YNc(17,Q,4,6,"ng-template",null,10,e.W1O),e.qZA()(),e.TgZ(19,"div",11)(20,"vw-card"),e.ynx(21,7),e._uU(22),e.ALo(23,"translate"),e.ALo(24,"t9nIn"),e.BQk(),e.YNc(25,me,2,1,"div",8),e.YNc(26,Ae,4,6,"ng-template",null,12,e.W1O),e.qZA()(),e.TgZ(28,"div",13)(29,"vw-card"),e.ynx(30,7),e._uU(31),e.ALo(32,"translate"),e.ALo(33,"t9nIn"),e.BQk(),e.YNc(34,Ne,2,1,"div",8),e.YNc(35,Ke,4,6,"ng-template",null,14,e.W1O),e.qZA()()()),2&S){const U=e.MAs(9),c=e.MAs(18),u=e.MAs(27),P=e.MAs(36),F=e.oxw().$implicit,V=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,12,e.xi3(6,14,"personData",V.t[V.prefix]))),e.xp6(3),e.Q6J("ngIf",F.personData)("ngIfElse",U),e.xp6(6),e.Oqu(e.lcZ(14,17,e.xi3(15,19,"handicapRecognitions",V.t[V.prefix]))),e.xp6(3),e.Q6J("ngIf",null==F.handicapRecognitions?null:F.handicapRecognitions.length)("ngIfElse",c),e.xp6(6),e.Oqu(e.lcZ(23,22,e.xi3(24,24,"evolutionOfRequest",V.t[V.prefix]))),e.xp6(3),e.Q6J("ngIf",null==F.evolutionOfRequest||null==F.evolutionOfRequest.requestDate?null:F.evolutionOfRequest.requestDate.data)("ngIfElse",u),e.xp6(6),e.Oqu(e.lcZ(32,27,e.xi3(33,29,"rights",V.t[V.prefix]))),e.xp6(3),e.Q6J("ngIf",null==F.rights?null:F.rights.length)("ngIfElse",P)}}function Se(S,J){if(1&S&&(e.TgZ(0,"vw-alert",19),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"t9nIn"),e.qZA()),2&S){const U=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,e.xi3(3,3,"noDataFound",U.t[U.prefix])))}}function Me(S,J){if(1&S&&(e.TgZ(0,"vw-alert",25),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"t9nIn"),e.qZA()),2&S){const U=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,e.xi3(3,3,"technicalError",U.t[U.prefix])))}}function Qe(S,J){if(1&S&&(e.TgZ(0,"vw-card",1),e.YNc(1,Ge,37,32,"div",2),e.YNc(2,Se,4,6,"vw-alert",3),e.YNc(3,Me,4,6,"vw-alert",4),e.qZA()),2&S){const U=J.$implicit;e.Q6J("header",U.source),e.xp6(1),e.Q6J("ngIf","found"===U.status),e.xp6(1),e.Q6J("ngIf","notfound"===U.status),e.xp6(1),e.Q6J("ngIf","error"===U.status)}}const Ye=["DGPH","VSB","IRISCARE","NICCIN"];class Fe{constructor(){this.prefix=(0,e.f3M)(d.pv).getValue(),this.sort=i.qF,this.t=(0,e.f3M)(o.$z)}set result(J){this.results=Ye.map(U=>{const c=this.getFileResultBySource(J,U);return{source:U,...c&&{status:(S=c,{status:s[S.sourceStatus]}).status},...c?.file?.handicapRecognitions&&{handicapRecognitions:R(c.file.handicapRecognitions)},...c?.file?.evolutionOfRequest&&{evolutionOfRequest:g(c.file.evolutionOfRequest)},...c?.file?.rights&&{rights:ie(c.file.rights)},...c?.file?.personData&&{personData:_(c.file.personData)}};var S})}getFileResultBySource(J,U){return J?.fileResults?.find(c=>c.source===U)}}Fe.\u0275fac=function(J){return new(J||Fe)},Fe.\u0275cmp=e.Xpm({type:Fe,selectors:[["app-handiservice-result"]],inputs:{result:"result"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[[3,"header",4,"ngFor","ngForOf"],[3,"header"],["class","row",4,"ngIf"],["level","warning",4,"ngIf"],["level","danger",4,"ngIf"],[1,"row"],[1,"col-12"],["vwCardSubtitle",""],["class","table-responsive",4,"ngIf","ngIfElse"],["noPersonData",""],["noHandicapRecognitions",""],[1,"col-6","col-xl-4"],["noRequestInProgress",""],[1,"col-12","col-xl-8"],["noRights",""],[1,"table-responsive"],[1,"table","table-sm"],[4,"ngFor","ngForOf"],["scope","row"],["level","warning"],["class","table table-sm col-12",4,"ngIf"],[1,"table","table-sm","col-12"],[2,"max-width","25px"],["class","table table-sm",4,"ngIf"],[1,"text-end","pe-4"],["level","danger"]],template:function(J,U){1&J&&e.YNc(0,Qe,4,4,"vw-card",0),2&J&&e.Q6J("ngForOf",U.results)},dependencies:[r.ax,r.O5,r.Nd,n.Ak,o.H7,E.aw,E.X$,m.mK,M.e,n.wx],encapsulation:2,changeDetection:0}),(0,l.gn)([m.aH],Fe.prototype,"result",null);var $t=a(4411),_t=a.n($t);const at=new e.OlP("The AJV Class"),Ce=new e.OlP("The AJV Class config"),dt=new e.OlP("The AJV Class Instance");function Et(S,J){return new S(J)}let st=(()=>{class S{}return S.\u0275fac=function(U){return new(U||S)},S.\u0275mod=e.oAB({type:S}),S.\u0275inj=e.cJS({providers:[{provide:at,useValue:_t()},{provide:Ce,useValue:{allErrors:!0,strictTypes:!0}},{provide:dt,useFactory:Et,deps:[at,Ce]}]}),S})();var ft=a(2856),wt=a(6474),St=a.n(wt),Je=a(590);let Le=class{constructor(){this.directHttpClient=(0,e.f3M)(o.NS),this.ajv=(0,e.f3M)(e.zs3).get(dt),St()(this.ajv),this.ajv.addFormat("custom-date",function(J){return/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/.test(J)})}loadSchema(J,U){!this.ajv.getSchema(J)&&this.directHttpClient.get(U).pipe((0,Je.P)(),(0,ft.t)(this)).subscribe({next:c=>{c&&this.ajv.addSchema(c,J).compile(c)},error:c=>console.error(c)})}validate(J,U){return this.assertIsValid(J,U)?U:this.ajv.errorsText()}assertIsValid(J,U){return this.ajv.validate(J,U)}};function mt(S,J){if(1&S&&e._UZ(0,"app-form-response-error",12),2&S){const U=e.oxw();e.Q6J("error",U.error)}}function bt(S,J){if(1&S&&(e.TgZ(0,"div")(1,"vw-alert",13),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"vw-card"),e.ynx(5,14),e._uU(6),e.ALo(7,"translate"),e.BQk(),e._UZ(8,"app-handiservice-result",15),e.TgZ(9,"vw-print-button",16),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"vw-expandable",17),e.ALo(13,"translate"),e._UZ(14,"vw-display-json",18),e.qZA()()),2&S){const U=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,U.t.ALERT_OK.VALID_JSON)),e.xp6(4),e.Oqu(e.lcZ(7,8,U.t.FORM.RESULT)),e.xp6(2),e.Q6J("result",U.response),e.xp6(2),e.Oqu(e.lcZ(11,10,U.t.FORM.PRINT)),e.xp6(2),e.s9C("header",e.lcZ(13,12,U.t.JSON.INPUT)),e.xp6(2),e.Q6J("data",U.response)}}Le.\u0275fac=function(J){return new(J||Le)},Le.\u0275prov=e.Yz7({token:Le,factory:Le.\u0275fac,providedIn:st}),Le=(0,l.gn)([(0,ft.c)()],Le);let pt=(()=>{class S{constructor(){this.schema=(0,e.f3M)(Le),this.validationResult=null,this.t=(0,e.f3M)(o.$z),this.error=null,this.form=function D(){const S=(0,e.f3M)(v.qu);return S.group({json:S.nonNullable.control("",{validators:[v.kI.required,C.uC]})})}(),this.response=null,this.validateSchema=!1}ngOnInit(){this.schema.loadSchema("handiservice","/assets/json-schema/handiservice-v3.json"),this.jsonCtrl=this.form.controls.json}formatJSON(U){U&&this.jsonCtrl.setValue((0,i.pP)(U))}resetForm(){this.form.reset(),this.form.enable(b.rA),this.clearResult()}submitForm(U){if(this.form.valid&&(this.clearResult(),this.form.disable(b.rA),U)){const c=JSON.parse(U);this.validationResult=this.schema.validate("handiservice",c),"string"==typeof this.validationResult?this.setError(this.validationResult):this.setResponse(this.validationResult)}}clearResult(){this.validationResult=this.error=this.response=null,this.validateSchema=!1}setError(U){this.form.enable(b.rA),this.error={error:"JSON_VALIDATION_ERROR",message:U.replace(", ","\n")}}setResponse(U){this.validateSchema=!0,this.response=U}}return S.\u0275fac=function(U){return new(U||S)},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-handiservice"]],standalone:!0,features:[e.jDz],decls:20,vars:19,consts:[["vwNoPrint",""],["vwCardTitle",""],[3,"formGroup","ngSubmit"],[3,"disableFormat","clickFormat"],[3,"disableSubmit","clickCancel"],["vwSubmit",""],[1,"fa-regular","fa-circle-check","me-2"],["vwCancel",""],[1,"fa-solid","fa-eraser","me-2"],[1,"spy","mb-3"],[3,"error",4,"ngIf"],[4,"ngIf"],[3,"error"],["vwNoPrint","","level","success"],["vwNoPrint","","vwCardTitle",""],[3,"result"],["vwNoPrint","",1,"float-end"],["vwNoPrint","",3,"header"],[3,"data"]],template:function(U,c){1&U&&(e.TgZ(0,"vw-card",0),e.ynx(1,1),e._uU(2),e.ALo(3,"translate"),e.BQk(),e.TgZ(4,"form",2),e.NdJ("ngSubmit",function(){return c.submitForm(c.jsonCtrl.value)}),e.TgZ(5,"app-handiservice-form-inline",3),e.NdJ("clickFormat",function(){return c.formatJSON(c.jsonCtrl.value)}),e.qZA(),e.TgZ(6,"vw-form-footer",4),e.NdJ("clickCancel",function(){return c.resetForm()}),e.ynx(7,5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.BQk(),e.ynx(11,7),e._UZ(12,"i",8),e._uU(13),e.ALo(14,"translate"),e.BQk(),e.qZA()(),e.TgZ(15,"div",9),e._uU(16),e.ALo(17,"json"),e.qZA()(),e.YNc(18,mt,1,1,"app-form-response-error",10),e.YNc(19,bt,15,14,"div",11)),2&U&&(e.xp6(2),e.Oqu(e.lcZ(3,11,c.t.FORM.ENTER_DATA)),e.xp6(2),e.Q6J("formGroup",c.form),e.xp6(1),e.Q6J("disableFormat",!c.jsonCtrl.valid||c.validateSchema),e.xp6(1),e.Q6J("disableSubmit",!c.form.valid||c.validateSchema),e.xp6(3),e.hij("",e.lcZ(10,13,c.t.JSON.VALIDATE_JSON)," "),e.xp6(4),e.hij("",e.lcZ(14,15,c.t.FORM.RESET)," "),e.xp6(2),e.ekj("d-none",!0),e.xp6(1),e.Oqu(e.lcZ(17,17,c.form.value)),e.xp6(2),e.Q6J("ngIf",c.error),e.xp6(1),e.Q6J("ngIf",c.response))},dependencies:[v.UX,v._Y,v.JL,v.sg,r.O5,r.Ts,E.aw,E.X$,n.Ak,m.Hr,h.WX,n.Lz,h.Ty,A,Fe,n.xB,n.IV,st,n.wx],encapsulation:2,changeDetection:0}),S})(),Pt=(()=>{class S extends((0,b.Y2)()){}return S.\u0275fac=function(){let J;return function(c){return(J||(J=e.n5z(S)))(c||S)}}(),S.\u0275cmp=e.Xpm({type:S,selectors:[["page-handiservice"]],standalone:!0,features:[e.qOj,e.jDz],decls:1,vars:0,template:function(U,c){1&U&&e._UZ(0,"app-handiservice")},dependencies:[pt],encapsulation:2,changeDetection:0}),S})()},5180:(W,t)=>{"use strict";function a(_,L){return{validate:_,compare:L}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:a(h,b),time:a(m,n),"date-time":a(function E(_){const L=_.split(i);return 2===L.length&&h(L[0])&&m(L[1],!0)},w),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function C(_){return T.test(_)&&A.test(_)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function y(_){if($.test(_))return!1;try{return new RegExp(_),!0}catch{return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function l(_){return D.lastIndex=0,D.test(_)},int32:{type:"number",validate:function f(_){return Number.isInteger(_)&&_<=2147483647&&_>=-2147483648}},int64:{type:"number",validate:function g(_){return Number.isInteger(_)}},float:{type:"number",validate:R},double:{type:"number",validate:R},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:a(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,b),time:a(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,n),"date-time":a(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,w),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);const e=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,v=[0,31,28,31,30,31,30,31,31,30,31,30,31];function h(_){const L=e.exec(_);if(!L)return!1;const H=+L[2],B=+L[3];return H>=1&&H<=12&&B>=1&&B<=(2===H&&function r(_){return _%4==0&&(_%100!=0||_%400==0)}(+L[1])?29:v[H])}function b(_,L){if(_&&L)return _>L?1:_<L?-1:0}const o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function m(_,L){const Z=o.exec(_);if(!Z)return!1;const H=+Z[1],B=+Z[2],ne=+Z[3];return(H<=23&&B<=59&&ne<=59||23===H&&59===B&&60===ne)&&(!L||""!==Z[5])}function n(_,L){if(!_||!L)return;const Z=o.exec(_),H=o.exec(L);return Z&&H?(_=Z[1]+Z[2]+Z[3]+(Z[4]||""))>(L=H[1]+H[2]+H[3]+(H[4]||""))?1:_<L?-1:0:void 0}const i=/t|\s/i;function w(_,L){if(!_||!L)return;const[Z,H]=_.split(i),[B,ne]=L.split(i),ee=b(Z,B);return void 0!==ee?ee||n(H,ne):void 0}const T=/\/|:/,A=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,D=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function R(){return!0}const $=/[^\\]\\Z/},6474:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(5180),e=a(5413),v=a(6382),h=new v.Name("fullFormats"),b=new v.Name("fastFormats"),o=(n,i={keywords:!0})=>{if(Array.isArray(i))return m(n,i,r.fullFormats,h),n;const[E,w]="fast"===i.mode?[r.fastFormats,b]:[r.fullFormats,h];return m(n,i.formats||r.formatNames,E,w),i.keywords&&e.default(n),n};function m(n,i,E,w){var T,A;null!==(T=(A=n.opts.code).formats)&&void 0!==T||(A.formats=v._`require("ajv-formats/dist/formats").${w}`);for(const C of i)n.addFormat(C,E[C])}o.get=(n,i="full")=>{const w=("fast"===i?r.fastFormats:r.fullFormats)[n];if(!w)throw new Error(`Unknown format "${n}"`);return w},W.exports=t=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},5413:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const r=a(4411),e=a(6382),v=e.operators,h={formatMaximum:{okStr:"<=",ok:v.LTE,fail:v.GT},formatMinimum:{okStr:">=",ok:v.GTE,fail:v.LT},formatExclusiveMaximum:{okStr:"<",ok:v.LT,fail:v.GTE},formatExclusiveMinimum:{okStr:">",ok:v.GT,fail:v.LTE}},b={message:({keyword:m,schemaCode:n})=>e.str`should be ${h[m].okStr} ${n}`,params:({keyword:m,schemaCode:n})=>e._`{comparison: ${h[m].okStr}, limit: ${n}}`};t.formatLimitDefinition={keyword:Object.keys(h),type:"string",schemaType:"string",$data:!0,error:b,code(m){const{gen:n,data:i,schemaCode:E,keyword:w,it:T}=m,{opts:A,self:C}=T;if(!A.validateFormats)return;const D=new r.KeywordCxt(T,C.RULES.all.format.definition,"format");function N(f){return e._`${f}.compare(${i}, ${E}) ${h[w].fail} 0`}D.$data?function l(){const f=n.scopeValue("formats",{ref:C.formats,code:A.code.formats}),g=n.const("fmt",e._`${f}[${D.schemaCode}]`);m.fail$data(e.or(e._`typeof ${g} != "object"`,e._`${g} instanceof RegExp`,e._`typeof ${g}.compare != "function"`,N(g)))}():function d(){const f=D.schema,g=C.formats[f];if(!g||!0===g)return;if("object"!=typeof g||g instanceof RegExp||"function"!=typeof g.compare)throw new Error(`"${w}": format "${f}" does not define "compare" function`);const R=n.scopeValue("formats",{key:f,ref:g,code:A.code.formats?e._`${A.code.formats}${e.getProperty(f)}`:void 0});m.fail$data(N(R))}()},dependencies:["format"]},t.default=m=>(m.addKeyword(t.formatLimitDefinition),m)},4411:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=a(5910),e=a(7032),v=a(1849),h=a(98),b=["/properties"],o="http://json-schema.org/draft-07/schema";class m extends r.default{_addVocabularies(){super._addVocabularies(),e.default.forEach(A=>this.addVocabulary(A)),this.opts.discriminator&&this.addKeyword(v.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const A=this.opts.$data?this.$dataMetaSchema(h,b):h;this.addMetaSchema(A,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}W.exports=t=m,Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var n=a(6764);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var i=a(6382);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return i.CodeGen}});var E=a(496);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return E.default}});var w=a(140);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return w.default}})},6295:(W,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class a{}t._CodeOrName=a,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends a{constructor(d){if(super(),!t.IDENTIFIER.test(d))throw new Error("CodeGen: name must be a valid identifier");this.str=d}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class e extends a{constructor(d){super(),this._items="string"==typeof d?[d]:d}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const d=this._items[0];return""===d||'""'===d}get str(){var d;return null!==(d=this._str)&&void 0!==d?d:this._str=this._items.reduce((N,f)=>`${N}${f}`,"")}get names(){var d;return null!==(d=this._names)&&void 0!==d?d:this._names=this._items.reduce((N,f)=>(f instanceof r&&(N[f.str]=(N[f.str]||0)+1),N),{})}}function v(l,...d){const N=[l[0]];let f=0;for(;f<d.length;)o(N,d[f]),N.push(l[++f]);return new e(N)}t._Code=e,t.nil=new e(""),t._=v;const h=new e("+");function b(l,...d){const N=[T(l[0])];let f=0;for(;f<d.length;)N.push(h),o(N,d[f]),N.push(h,T(l[++f]));return function m(l){let d=1;for(;d<l.length-1;){if(l[d]===h){const N=n(l[d-1],l[d+1]);if(void 0!==N){l.splice(d-1,3,N);continue}l[d++]="+"}d++}}(N),new e(N)}function o(l,d){d instanceof e?l.push(...d._items):l.push(d instanceof r?d:function E(l){return"number"==typeof l||"boolean"==typeof l||null===l?l:T(Array.isArray(l)?l.join(","):l)}(d))}function n(l,d){return'""'===d?l:'""'===l?d:"string"==typeof l?d instanceof r||'"'!==l[l.length-1]?void 0:"string"!=typeof d?`${l.slice(0,-1)}${d}"`:'"'===d[0]?l.slice(0,-1)+d.slice(1):void 0:"string"!=typeof d||'"'!==d[0]||l instanceof r?void 0:`"${l}${d.slice(1)}`}function T(l){return JSON.stringify(l).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=b,t.addCodeArg=o,t.strConcat=function i(l,d){return d.emptyStr()?l:l.emptyStr()?d:b`${l}${d}`},t.stringify=function w(l){return new e(T(l))},t.safeStringify=T,t.getProperty=function A(l){return"string"==typeof l&&t.IDENTIFIER.test(l)?new e(`.${l}`):v`[${l}]`},t.getEsmExportName=function C(l){if("string"==typeof l&&t.IDENTIFIER.test(l))return new e(`${l}`);throw new Error(`CodeGen: invalid export name: ${l}, use explicit $id name mapping`)},t.regexpCode=function D(l){return new e(l.toString())}},6382:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const r=a(6295),e=a(1917);var v=a(6295);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return v._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return v.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return v.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return v.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return v.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return v.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return v.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return v.Name}});var h=a(1917);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return h.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return h.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return h.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return h.varKinds}}),t.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class b{optimizeNodes(){return this}optimizeNames(s,p){return this}}class o extends b{constructor(s,p,M){super(),this.varKind=s,this.name=p,this.rhs=M}render({es5:s,_n:p}){return`${s?e.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+p}optimizeNames(s,p){if(s[this.name.str])return this.rhs&&(this.rhs=ee(this.rhs,s,p)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class m extends b{constructor(s,p,M){super(),this.lhs=s,this.rhs=p,this.sideEffects=M}render({_n:s}){return`${this.lhs} = ${this.rhs};`+s}optimizeNames(s,p){if(!(this.lhs instanceof r.Name)||s[this.lhs.str]||this.sideEffects)return this.rhs=ee(this.rhs,s,p),this}get names(){return ne(this.lhs instanceof r.Name?{}:{...this.lhs.names},this.rhs)}}class n extends m{constructor(s,p,M,Y){super(s,M,Y),this.op=p}render({_n:s}){return`${this.lhs} ${this.op}= ${this.rhs};`+s}}class i extends b{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`${this.label}:`+s}}class E extends b{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`break${this.label?` ${this.label}`:""};`+s}}class w extends b{constructor(s){super(),this.error=s}render({_n:s}){return`throw ${this.error};`+s}get names(){return this.error.names}}class T extends b{constructor(s){super(),this.code=s}render({_n:s}){return`${this.code};`+s}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(s,p){return this.code=ee(this.code,s,p),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class A extends b{constructor(s=[]){super(),this.nodes=s}render(s){return this.nodes.reduce((p,M)=>p+M.render(s),"")}optimizeNodes(){const{nodes:s}=this;let p=s.length;for(;p--;){const M=s[p].optimizeNodes();Array.isArray(M)?s.splice(p,1,...M):M?s[p]=M:s.splice(p,1)}return s.length>0?this:void 0}optimizeNames(s,p){const{nodes:M}=this;let Y=M.length;for(;Y--;){const q=M[Y];q.optimizeNames(s,p)||(ce(s,q.names),M.splice(Y,1))}return M.length>0?this:void 0}get names(){return this.nodes.reduce((s,p)=>B(s,p.names),{})}}class C extends A{render(s){return"{"+s._n+super.render(s)+"}"+s._n}}class D extends A{}let l=(()=>{class O extends C{}return O.kind="else",O})(),d=(()=>{class O extends C{constructor(p,M){super(M),this.condition=p}render(p){let M=`if(${this.condition})`+super.render(p);return this.else&&(M+="else "+this.else.render(p)),M}optimizeNodes(){super.optimizeNodes();const p=this.condition;if(!0===p)return this.nodes;let M=this.else;if(M){const Y=M.optimizeNodes();M=this.else=Array.isArray(Y)?new l(Y):Y}return M?!1===p?M instanceof O?M:M.nodes:this.nodes.length?this:new O(pe(p),M instanceof O?[M]:M.nodes):!1!==p&&this.nodes.length?this:void 0}optimizeNames(p,M){var Y;if(this.else=null===(Y=this.else)||void 0===Y?void 0:Y.optimizeNames(p,M),super.optimizeNames(p,M)||this.else)return this.condition=ee(this.condition,p,M),this}get names(){const p=super.names;return ne(p,this.condition),this.else&&B(p,this.else.names),p}}return O.kind="if",O})(),N=(()=>{class O extends C{}return O.kind="for",O})();class f extends N{constructor(s){super(),this.iteration=s}render(s){return`for(${this.iteration})`+super.render(s)}optimizeNames(s,p){if(super.optimizeNames(s,p))return this.iteration=ee(this.iteration,s,p),this}get names(){return B(super.names,this.iteration.names)}}class g extends N{constructor(s,p,M,Y){super(),this.varKind=s,this.name=p,this.from=M,this.to=Y}render(s){const p=s.es5?e.varKinds.var:this.varKind,{name:M,from:Y,to:q}=this;return`for(${p} ${M}=${Y}; ${M}<${q}; ${M}++)`+super.render(s)}get names(){const s=ne(super.names,this.from);return ne(s,this.to)}}class R extends N{constructor(s,p,M,Y){super(),this.loop=s,this.varKind=p,this.name=M,this.iterable=Y}render(s){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(s)}optimizeNames(s,p){if(super.optimizeNames(s,p))return this.iterable=ee(this.iterable,s,p),this}get names(){return B(super.names,this.iterable.names)}}let $=(()=>{class O extends C{constructor(p,M,Y){super(),this.name=p,this.args=M,this.async=Y}render(p){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(p)}}return O.kind="func",O})(),y=(()=>{class O extends A{render(p){return"return "+super.render(p)}}return O.kind="return",O})();class _ extends C{render(s){let p="try"+super.render(s);return this.catch&&(p+=this.catch.render(s)),this.finally&&(p+=this.finally.render(s)),p}optimizeNodes(){var s,p;return super.optimizeNodes(),null===(s=this.catch)||void 0===s||s.optimizeNodes(),null===(p=this.finally)||void 0===p||p.optimizeNodes(),this}optimizeNames(s,p){var M,Y;return super.optimizeNames(s,p),null===(M=this.catch)||void 0===M||M.optimizeNames(s,p),null===(Y=this.finally)||void 0===Y||Y.optimizeNames(s,p),this}get names(){const s=super.names;return this.catch&&B(s,this.catch.names),this.finally&&B(s,this.finally.names),s}}let L=(()=>{class O extends C{constructor(p){super(),this.error=p}render(p){return`catch(${this.error})`+super.render(p)}}return O.kind="catch",O})(),Z=(()=>{class O extends C{render(p){return"finally"+super.render(p)}}return O.kind="finally",O})();function B(O,s){for(const p in s)O[p]=(O[p]||0)+(s[p]||0);return O}function ne(O,s){return s instanceof r._CodeOrName?B(O,s.names):O}function ee(O,s,p){return O instanceof r.Name?M(O):function Y(q){return q instanceof r._Code&&q._items.some(te=>te instanceof r.Name&&1===s[te.str]&&void 0!==p[te.str])}(O)?new r._Code(O._items.reduce((q,te)=>(te instanceof r.Name&&(te=M(te)),te instanceof r._Code?q.push(...te._items):q.push(te),q),[])):O;function M(q){const te=p[q.str];return void 0===te||1!==s[q.str]?q:(delete s[q.str],te)}}function ce(O,s){for(const p in s)O[p]=(O[p]||0)-(s[p]||0)}function pe(O){return"boolean"==typeof O||"number"==typeof O||null===O?!O:r._`!${j(O)}`}t.CodeGen=class H{constructor(s,p={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...p,_n:p.lines?"\n":""},this._extScope=s,this._scope=new e.Scope({parent:s}),this._nodes=[new D]}toString(){return this._root.render(this.opts)}name(s){return this._scope.name(s)}scopeName(s){return this._extScope.name(s)}scopeValue(s,p){const M=this._extScope.value(s,p);return(this._values[M.prefix]||(this._values[M.prefix]=new Set)).add(M),M}getScopeValue(s,p){return this._extScope.getValue(s,p)}scopeRefs(s){return this._extScope.scopeRefs(s,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(s,p,M,Y){const q=this._scope.toName(p);return void 0!==M&&Y&&(this._constants[q.str]=M),this._leafNode(new o(s,q,M)),q}const(s,p,M){return this._def(e.varKinds.const,s,p,M)}let(s,p,M){return this._def(e.varKinds.let,s,p,M)}var(s,p,M){return this._def(e.varKinds.var,s,p,M)}assign(s,p,M){return this._leafNode(new m(s,p,M))}add(s,p){return this._leafNode(new n(s,t.operators.ADD,p))}code(s){return"function"==typeof s?s():s!==r.nil&&this._leafNode(new T(s)),this}object(...s){const p=["{"];for(const[M,Y]of s)p.length>1&&p.push(","),p.push(M),(M!==Y||this.opts.es5)&&(p.push(":"),(0,r.addCodeArg)(p,Y));return p.push("}"),new r._Code(p)}if(s,p,M){if(this._blockNode(new d(s)),p&&M)this.code(p).else().code(M).endIf();else if(p)this.code(p).endIf();else if(M)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(s){return this._elseNode(new d(s))}else(){return this._elseNode(new l)}endIf(){return this._endBlockNode(d,l)}_for(s,p){return this._blockNode(s),p&&this.code(p).endFor(),this}for(s,p){return this._for(new f(s),p)}forRange(s,p,M,Y,q=(this.opts.es5?e.varKinds.var:e.varKinds.let)){const te=this._scope.toName(s);return this._for(new g(q,te,p,M),()=>Y(te))}forOf(s,p,M,Y=e.varKinds.const){const q=this._scope.toName(s);if(this.opts.es5){const te=p instanceof r.Name?p:this.var("_arr",p);return this.forRange("_i",0,r._`${te}.length`,_e=>{this.var(q,r._`${te}[${_e}]`),M(q)})}return this._for(new R("of",Y,q,p),()=>M(q))}forIn(s,p,M,Y=(this.opts.es5?e.varKinds.var:e.varKinds.const)){if(this.opts.ownProperties)return this.forOf(s,r._`Object.keys(${p})`,M);const q=this._scope.toName(s);return this._for(new R("in",Y,q,p),()=>M(q))}endFor(){return this._endBlockNode(N)}label(s){return this._leafNode(new i(s))}break(s){return this._leafNode(new E(s))}return(s){const p=new y;if(this._blockNode(p),this.code(s),1!==p.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(y)}try(s,p,M){if(!p&&!M)throw new Error('CodeGen: "try" without "catch" and "finally"');const Y=new _;if(this._blockNode(Y),this.code(s),p){const q=this.name("e");this._currNode=Y.catch=new L(q),p(q)}return M&&(this._currNode=Y.finally=new Z,this.code(M)),this._endBlockNode(L,Z)}throw(s){return this._leafNode(new w(s))}block(s,p){return this._blockStarts.push(this._nodes.length),s&&this.code(s).endBlock(p),this}endBlock(s){const p=this._blockStarts.pop();if(void 0===p)throw new Error("CodeGen: not in self-balancing block");const M=this._nodes.length-p;if(M<0||void 0!==s&&M!==s)throw new Error(`CodeGen: wrong number of nodes: ${M} vs ${s} expected`);return this._nodes.length=p,this}func(s,p=r.nil,M,Y){return this._blockNode(new $(s,p,M)),Y&&this.code(Y).endFunc(),this}endFunc(){return this._endBlockNode($)}optimize(s=1){for(;s-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(s){return this._currNode.nodes.push(s),this}_blockNode(s){this._currNode.nodes.push(s),this._nodes.push(s)}_endBlockNode(s,p){const M=this._currNode;if(M instanceof s||p&&M instanceof p)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${p?`${s.kind}/${p.kind}`:s.kind}"`)}_elseNode(s){const p=this._currNode;if(!(p instanceof d))throw new Error('CodeGen: "else" without "if"');return this._currNode=p.else=s,this}get _root(){return this._nodes[0]}get _currNode(){const s=this._nodes;return s[s.length-1]}set _currNode(s){const p=this._nodes;p[p.length-1]=s}},t.not=pe;const Te=G(t.operators.AND);t.and=function be(...O){return O.reduce(Te)};const ie=G(t.operators.OR);function G(O){return(s,p)=>s===r.nil?p:p===r.nil?s:r._`${j(s)} ${O} ${j(p)}`}function j(O){return O instanceof r.Name?O:r._`(${O})`}t.or=function Re(...O){return O.reduce(ie)}},1917:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const r=a(6295);class e extends Error{constructor(i){super(`CodeGen: "code" for ${i} not defined`),this.value=i.value}}var v,n;(n=v=t.UsedValueState||(t.UsedValueState={}))[n.Started=0]="Started",n[n.Completed=1]="Completed",t.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class h{constructor({prefixes:i,parent:E}={}){this._names={},this._prefixes=i,this._parent=E}toName(i){return i instanceof r.Name?i:this.name(i)}name(i){return new r.Name(this._newName(i))}_newName(i){return`${i}${(this._names[i]||this._nameGroup(i)).index++}`}_nameGroup(i){var E,w;if((null===(w=null===(E=this._parent)||void 0===E?void 0:E._prefixes)||void 0===w?void 0:w.has(i))||this._prefixes&&!this._prefixes.has(i))throw new Error(`CodeGen: prefix "${i}" is not allowed in this scope`);return this._names[i]={prefix:i,index:0}}}t.Scope=h;class b extends r.Name{constructor(i,E){super(E),this.prefix=i}setValue(i,{property:E,itemIndex:w}){this.value=i,this.scopePath=r._`.${new r.Name(E)}[${w}]`}}t.ValueScopeName=b;const o=r._`\n`;t.ValueScope=class m extends h{constructor(i){super(i),this._values={},this._scope=i.scope,this.opts={...i,_n:i.lines?o:r.nil}}get(){return this._scope}name(i){return new b(i,this._newName(i))}value(i,E){var w;if(void 0===E.ref)throw new Error("CodeGen: ref must be passed in value");const T=this.toName(i),{prefix:A}=T,C=null!==(w=E.key)&&void 0!==w?w:E.ref;let D=this._values[A];if(D){const N=D.get(C);if(N)return N}else D=this._values[A]=new Map;D.set(C,T);const l=this._scope[A]||(this._scope[A]=[]),d=l.length;return l[d]=E.ref,T.setValue(E,{property:A,itemIndex:d}),T}getValue(i,E){const w=this._values[i];if(w)return w.get(E)}scopeRefs(i,E=this._values){return this._reduceValues(E,w=>{if(void 0===w.scopePath)throw new Error(`CodeGen: name "${w}" has no value`);return r._`${i}${w.scopePath}`})}scopeCode(i=this._values,E,w){return this._reduceValues(i,T=>{if(void 0===T.value)throw new Error(`CodeGen: name "${T}" has no value`);return T.value.code},E,w)}_reduceValues(i,E,w={},T){let A=r.nil;for(const C in i){const D=i[C];if(!D)continue;const l=w[C]=w[C]||new Map;D.forEach(d=>{if(l.has(d))return;l.set(d,v.Started);let N=E(d);if(N)A=r._`${A}${this.opts.es5?t.varKinds.var:t.varKinds.const} ${d} = ${N};${this.opts._n}`;else{if(!(N=T?.(d)))throw new e(d);A=r._`${A}${N}${this.opts._n}`}l.set(d,v.Completed)})}return A}}},5091:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const r=a(6382),e=a(7990),v=a(5976);function n(l,d){const N=l.const("err",d);l.if(r._`${v.default.vErrors} === null`,()=>l.assign(v.default.vErrors,r._`[${N}]`),r._`${v.default.vErrors}.push(${N})`),l.code(r._`${v.default.errors}++`)}function i(l,d){const{gen:N,validateName:f,schemaEnv:g}=l;g.$async?N.throw(r._`new ${l.ValidationError}(${d})`):(N.assign(r._`${f}.errors`,d),N.return(!1))}t.keywordError={message:({keyword:l})=>r.str`must pass "${l}" keyword validation`},t.keyword$DataError={message:({keyword:l,schemaType:d})=>d?r.str`"${l}" keyword must be ${d} ($data)`:r.str`"${l}" keyword is invalid ($data)`},t.reportError=function h(l,d=t.keywordError,N,f){const{it:g}=l,{gen:R,compositeRule:$,allErrors:y}=g,_=w(l,d,N);f??($||y)?n(R,_):i(g,r._`[${_}]`)},t.reportExtraError=function b(l,d=t.keywordError,N){const{it:f}=l,{gen:g,compositeRule:R,allErrors:$}=f;n(g,w(l,d,N)),R||$||i(f,v.default.vErrors)},t.resetErrorsCount=function o(l,d){l.assign(v.default.errors,d),l.if(r._`${v.default.vErrors} !== null`,()=>l.if(d,()=>l.assign(r._`${v.default.vErrors}.length`,d),()=>l.assign(v.default.vErrors,null)))},t.extendErrors=function m({gen:l,keyword:d,schemaValue:N,data:f,errsCount:g,it:R}){if(void 0===g)throw new Error("ajv implementation error");const $=l.name("err");l.forRange("i",g,v.default.errors,y=>{l.const($,r._`${v.default.vErrors}[${y}]`),l.if(r._`${$}.instancePath === undefined`,()=>l.assign(r._`${$}.instancePath`,(0,r.strConcat)(v.default.instancePath,R.errorPath))),l.assign(r._`${$}.schemaPath`,r.str`${R.errSchemaPath}/${d}`),R.opts.verbose&&(l.assign(r._`${$}.schema`,N),l.assign(r._`${$}.data`,f))})};const E={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function w(l,d,N){const{createErrors:f}=l.it;return!1===f?r._`{}`:function T(l,d,N={}){const{gen:f,it:g}=l,R=[A(g,N),C(l,N)];return function D(l,{params:d,message:N},f){const{keyword:g,data:R,schemaValue:$,it:y}=l,{opts:_,propertyName:L,topSchemaRef:Z,schemaPath:H}=y;f.push([E.keyword,g],[E.params,"function"==typeof d?d(l):d||r._`{}`]),_.messages&&f.push([E.message,"function"==typeof N?N(l):N]),_.verbose&&f.push([E.schema,$],[E.parentSchema,r._`${Z}${H}`],[v.default.data,R]),L&&f.push([E.propertyName,L])}(l,d,R),f.object(...R)}(l,d,N)}function A({errorPath:l},{instancePath:d}){const N=d?r.str`${l}${(0,e.getErrorPath)(d,e.Type.Str)}`:l;return[v.default.instancePath,(0,r.strConcat)(v.default.instancePath,N)]}function C({keyword:l,it:{errSchemaPath:d}},{schemaPath:N,parentSchema:f}){let g=f?d:r.str`${d}/${l}`;return N&&(g=r.str`${g}${(0,e.getErrorPath)(N,e.Type.Str)}`),[E.schemaPath,g]}},7140:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const r=a(6382),e=a(496),v=a(5976),h=a(1880),b=a(7990),o=a(6764);class m{constructor(N){var f;let g;this.refs={},this.dynamicAnchors={},"object"==typeof N.schema&&(g=N.schema),this.schema=N.schema,this.schemaId=N.schemaId,this.root=N.root||this,this.baseId=null!==(f=N.baseId)&&void 0!==f?f:(0,h.normalizeId)(g?.[N.schemaId||"$id"]),this.schemaPath=N.schemaPath,this.localRefs=N.localRefs,this.meta=N.meta,this.$async=g?.$async,this.refs={}}}function n(d){const N=w.call(this,d);if(N)return N;const f=(0,h.getFullPath)(this.opts.uriResolver,d.root.baseId),{es5:g,lines:R}=this.opts.code,{ownProperties:$}=this.opts,y=new r.CodeGen(this.scope,{es5:g,lines:R,ownProperties:$});let _;d.$async&&(_=y.scopeValue("Error",{ref:e.default,code:r._`require("ajv/dist/runtime/validation_error").default`}));const L=y.scopeName("validate");d.validateName=L;const Z={gen:y,allErrors:this.opts.allErrors,data:v.default.data,parentData:v.default.parentData,parentDataProperty:v.default.parentDataProperty,dataNames:[v.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:y.scopeValue("schema",!0===this.opts.code.source?{ref:d.schema,code:(0,r.stringify)(d.schema)}:{ref:d.schema}),validateName:L,ValidationError:_,schema:d.schema,schemaEnv:d,rootId:f,baseId:d.baseId||f,schemaPath:r.nil,errSchemaPath:d.schemaPath||(this.opts.jtd?"":"#"),errorPath:r._`""`,opts:this.opts,self:this};let H;try{this._compilations.add(d),(0,o.validateFunctionCode)(Z),y.optimize(this.opts.code.optimize);const B=y.toString();H=`${y.scopeRefs(v.default.scope)}return ${B}`,this.opts.code.process&&(H=this.opts.code.process(H,d));const ee=new Function(`${v.default.self}`,`${v.default.scope}`,H)(this,this.scope.get());if(this.scope.value(L,{ref:ee}),ee.errors=null,ee.schema=d.schema,ee.schemaEnv=d,d.$async&&(ee.$async=!0),!0===this.opts.code.source&&(ee.source={validateName:L,validateCode:B,scopeValues:y._values}),this.opts.unevaluated){const{props:ce,items:pe}=Z;ee.evaluated={props:ce instanceof r.Name?void 0:ce,items:pe instanceof r.Name?void 0:pe,dynamicProps:ce instanceof r.Name,dynamicItems:pe instanceof r.Name},ee.source&&(ee.source.evaluated=(0,r.stringify)(ee.evaluated))}return d.validate=ee,d}catch(B){throw delete d.validate,delete d.validateName,H&&this.logger.error("Error compiling schema, function code:",H),B}finally{this._compilations.delete(d)}}function E(d){return(0,h.inlineRef)(d.schema,this.opts.inlineRefs)?d.schema:d.validate?d:n.call(this,d)}function w(d){for(const N of this._compilations)if(T(N,d))return N}function T(d,N){return d.schema===N.schema&&d.root===N.root&&d.baseId===N.baseId}function A(d,N){let f;for(;"string"==typeof(f=this.refs[N]);)N=f;return f||this.schemas[N]||C.call(this,d,N)}function C(d,N){const f=this.opts.uriResolver.parse(N),g=(0,h._getFullPath)(this.opts.uriResolver,f);let R=(0,h.getFullPath)(this.opts.uriResolver,d.baseId,void 0);if(Object.keys(d.schema).length>0&&g===R)return l.call(this,f,d);const $=(0,h.normalizeId)(g),y=this.refs[$]||this.schemas[$];if("string"==typeof y){const _=C.call(this,d,y);return"object"!=typeof _?.schema?void 0:l.call(this,f,_)}if("object"==typeof y?.schema){if(y.validate||n.call(this,y),$===(0,h.normalizeId)(N)){const{schema:_}=y,{schemaId:L}=this.opts,Z=_[L];return Z&&(R=(0,h.resolveUrl)(this.opts.uriResolver,R,Z)),new m({schema:_,schemaId:L,root:d,baseId:R})}return l.call(this,f,y)}}t.SchemaEnv=m,t.compileSchema=n,t.resolveRef=function i(d,N,f){var g;f=(0,h.resolveUrl)(this.opts.uriResolver,N,f);const R=d.refs[f];if(R)return R;let $=A.call(this,d,f);if(void 0===$){const y=null===(g=d.localRefs)||void 0===g?void 0:g[f],{schemaId:_}=this.opts;y&&($=new m({schema:y,schemaId:_,root:d,baseId:N}))}return void 0!==$?d.refs[f]=E.call(this,$):void 0},t.getCompilingSchema=w,t.resolveSchema=C;const D=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function l(d,{baseId:N,schema:f,root:g}){var R;if("/"!==(null===(R=d.fragment)||void 0===R?void 0:R[0]))return;for(const _ of d.fragment.slice(1).split("/")){if("boolean"==typeof f)return;const L=f[(0,b.unescapeFragment)(_)];if(void 0===L)return;const Z="object"==typeof(f=L)&&f[this.opts.schemaId];!D.has(_)&&Z&&(N=(0,h.resolveUrl)(this.opts.uriResolver,N,Z))}let $;if("boolean"!=typeof f&&f.$ref&&!(0,b.schemaHasRulesButRef)(f,this.RULES)){const _=(0,h.resolveUrl)(this.opts.uriResolver,N,f.$ref);$=C.call(this,g,_)}const{schemaId:y}=this.opts;return $=$||new m({schema:f,schemaId:y,root:g,baseId:N}),$.schema!==$.root.schema?$:void 0}},5976:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6382),e={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};t.default=e},140:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(1880);class e extends Error{constructor(h,b,o,m){super(m||`can't resolve reference ${o} from id ${b}`),this.missingRef=(0,r.resolveUrl)(h,b,o),this.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(h,this.missingRef))}}t.default=e},1880:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const r=a(7990),e=a(2559),v=a(3366),h=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function b(l,d=!0){return"boolean"==typeof l||(!0===d?!m(l):!!d&&n(l)<=d)};const o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function m(l){for(const d in l){if(o.has(d))return!0;const N=l[d];if(Array.isArray(N)&&N.some(m)||"object"==typeof N&&m(N))return!0}return!1}function n(l){let d=0;for(const N in l){if("$ref"===N)return 1/0;if(d++,!h.has(N)&&("object"==typeof l[N]&&(0,r.eachItem)(l[N],f=>d+=n(f)),d===1/0))return 1/0}return d}function i(l,d="",N){!1!==N&&(d=T(d));const f=l.parse(d);return E(l,f)}function E(l,d){return l.serialize(d).split("#")[0]+"#"}t.getFullPath=i,t._getFullPath=E;const w=/#\/?$/;function T(l){return l?l.replace(w,""):""}t.normalizeId=T,t.resolveUrl=function A(l,d,N){return N=T(N),l.resolve(d,N)};const C=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function D(l,d){if("boolean"==typeof l)return{};const{schemaId:N,uriResolver:f}=this.opts,g=T(l[N]||d),R={"":g},$=i(f,g,!1),y={},_=new Set;return v(l,{allKeys:!0},(H,B,ne,ee)=>{if(void 0===ee)return;const ce=$+B;let pe=R[ee];function Te(ie){if(ie=T(pe?(0,this.opts.uriResolver.resolve)(pe,ie):ie),_.has(ie))throw Z(ie);_.add(ie);let G=this.refs[ie];return"string"==typeof G&&(G=this.refs[G]),"object"==typeof G?L(H,G.schema,ie):ie!==T(ce)&&("#"===ie[0]?(L(H,y[ie],ie),y[ie]=H):this.refs[ie]=ce),ie}function be(ie){if("string"==typeof ie){if(!C.test(ie))throw new Error(`invalid anchor "${ie}"`);Te.call(this,`#${ie}`)}}"string"==typeof H[N]&&(pe=Te.call(this,H[N])),be.call(this,H.$anchor),be.call(this,H.$dynamicAnchor),R[B]=pe}),y;function L(H,B,ne){if(void 0!==B&&!e(H,B))throw Z(ne)}function Z(H){return new Error(`reference "${H}" resolves to more than one schema`)}}},2848:(W,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function e(h){return"string"==typeof h&&r.has(h)},t.getRules=function v(){const h={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...h,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},h.number,h.string,h.array,h.object],post:{rules:[]},all:{},keywords:{}}}},7990:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const r=a(6382),e=a(6295);function b($,y=$.schema){const{opts:_,self:L}=$;if(!_.strictSchema||"boolean"==typeof y)return;const Z=L.RULES.keywords;for(const H in y)Z[H]||R($,`unknown keyword: "${H}"`)}function o($,y){if("boolean"==typeof $)return!$;for(const _ in $)if(y[_])return!0;return!1}function w($){return"number"==typeof $?`${$}`:$.replace(/~/g,"~0").replace(/\//g,"~1")}function T($){return $.replace(/~1/g,"/").replace(/~0/g,"~")}function C({mergeNames:$,mergeToName:y,mergeValues:_,resultToName:L}){return(Z,H,B,ne)=>{const ee=void 0===B?H:B instanceof r.Name?(H instanceof r.Name?$(Z,H,B):y(Z,H,B),B):H instanceof r.Name?(y(Z,B,H),H):_(H,B);return ne!==r.Name||ee instanceof r.Name?ee:L(Z,ee)}}function D($,y){if(!0===y)return $.var("props",!0);const _=$.var("props",r._`{}`);return void 0!==y&&l($,_,y),_}function l($,y,_){Object.keys(_).forEach(L=>$.assign(r._`${y}${(0,r.getProperty)(L)}`,!0))}t.toHash=function v($){const y={};for(const _ of $)y[_]=!0;return y},t.alwaysValidSchema=function h($,y){return"boolean"==typeof y?y:0===Object.keys(y).length||(b($,y),!o(y,$.self.RULES.all))},t.checkUnknownRules=b,t.schemaHasRules=o,t.schemaHasRulesButRef=function m($,y){if("boolean"==typeof $)return!$;for(const _ in $)if("$ref"!==_&&y.all[_])return!0;return!1},t.schemaRefOrVal=function n({topSchemaRef:$,schemaPath:y},_,L,Z){if(!Z){if("number"==typeof _||"boolean"==typeof _)return _;if("string"==typeof _)return r._`${_}`}return r._`${$}${y}${(0,r.getProperty)(L)}`},t.unescapeFragment=function i($){return T(decodeURIComponent($))},t.escapeFragment=function E($){return encodeURIComponent(w($))},t.escapeJsonPointer=w,t.unescapeJsonPointer=T,t.eachItem=function A($,y){if(Array.isArray($))for(const _ of $)y(_);else y($)},t.mergeEvaluated={props:C({mergeNames:($,y,_)=>$.if(r._`${_} !== true && ${y} !== undefined`,()=>{$.if(r._`${y} === true`,()=>$.assign(_,!0),()=>$.assign(_,r._`${_} || {}`).code(r._`Object.assign(${_}, ${y})`))}),mergeToName:($,y,_)=>$.if(r._`${_} !== true`,()=>{!0===y?$.assign(_,!0):($.assign(_,r._`${_} || {}`),l($,_,y))}),mergeValues:($,y)=>!0===$||{...$,...y},resultToName:D}),items:C({mergeNames:($,y,_)=>$.if(r._`${_} !== true && ${y} !== undefined`,()=>$.assign(_,r._`${y} === true ? true : ${_} > ${y} ? ${_} : ${y}`)),mergeToName:($,y,_)=>$.if(r._`${_} !== true`,()=>$.assign(_,!0===y||r._`${_} > ${y} ? ${_} : ${y}`)),mergeValues:($,y)=>!0===$||Math.max($,y),resultToName:($,y)=>$.var("items",y)})},t.evaluatedPropsToName=D,t.setEvaluated=l;const d={};var f,$;function R($,y,_=$.opts.strictSchema){if(_){if(y=`strict mode: ${y}`,!0===_)throw new Error(y);$.self.logger.warn(y)}}t.useFunc=function N($,y){return $.scopeValue("func",{ref:y,code:d[y.code]||(d[y.code]=new e._Code(y.code))})},($=f=t.Type||(t.Type={}))[$.Num=0]="Num",$[$.Str=1]="Str",t.getErrorPath=function g($,y,_){if($ instanceof r.Name){const L=y===f.Num;return _?L?r._`"[" + ${$} + "]"`:r._`"['" + ${$} + "']"`:L?r._`"/" + ${$}`:r._`"/" + ${$}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return _?(0,r.getProperty)($).toString():"/"+w($)},t.checkStrictMode=R},368:(W,t)=>{"use strict";function r(v,h){return h.rules.some(b=>e(v,b))}function e(v,h){var b;return void 0!==v[h.keyword]||(null===(b=h.definition.implements)||void 0===b?void 0:b.some(o=>void 0!==v[o]))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function a({schema:v,self:h},b){const o=h.RULES.types[b];return o&&!0!==o&&r(v,o)},t.shouldUseGroup=r,t.shouldUseRule=e},8007:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const r=a(5091),e=a(6382),v=a(5976),h={message:"boolean schema is false"};function m(n,i){const{gen:E,data:w}=n;(0,r.reportError)({gen:E,keyword:"false schema",data:w,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:n},h,void 0,i)}t.topBoolOrEmptySchema=function b(n){const{gen:i,schema:E,validateName:w}=n;!1===E?m(n,!1):"object"==typeof E&&!0===E.$async?i.return(v.default.data):(i.assign(e._`${w}.errors`,null),i.return(!0))},t.boolOrEmptySchema=function o(n,i){const{gen:E,schema:w}=n;!1===w?(E.var(i,!1),m(n)):E.var(i,!0)}},9078:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const r=a(2848),e=a(368),v=a(5091),h=a(6382),b=a(7990);var o,f;function n(f){const g=Array.isArray(f)?f:f?[f]:[];if(g.every(r.isJSONType))return g;throw new Error("type must be JSONType or JSONType[]: "+g.join(","))}(f=o=t.DataType||(t.DataType={}))[f.Correct=0]="Correct",f[f.Wrong=1]="Wrong",t.getSchemaTypes=function m(f){const g=n(f.type);if(g.includes("null")){if(!1===f.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!g.length&&void 0!==f.nullable)throw new Error('"nullable" cannot be used without "type"');!0===f.nullable&&g.push("null")}return g},t.getJSONTypes=n,t.coerceAndCheckDataType=function i(f,g){const{gen:R,data:$,opts:y}=f,_=function w(f,g){return g?f.filter(R=>E.has(R)||"array"===g&&"array"===R):[]}(g,y.coerceTypes),L=g.length>0&&!(0===_.length&&1===g.length&&(0,e.schemaHasRulesForType)(f,g[0]));if(L){const Z=D(g,$,y.strictNumbers,o.Wrong);R.if(Z,()=>{_.length?function T(f,g,R){const{gen:$,data:y,opts:_}=f,L=$.let("dataType",h._`typeof ${y}`),Z=$.let("coerced",h._`undefined`);"array"===_.coerceTypes&&$.if(h._`${L} == 'object' && Array.isArray(${y}) && ${y}.length == 1`,()=>$.assign(y,h._`${y}[0]`).assign(L,h._`typeof ${y}`).if(D(g,y,_.strictNumbers),()=>$.assign(Z,y))),$.if(h._`${Z} !== undefined`);for(const B of R)(E.has(B)||"array"===B&&"array"===_.coerceTypes)&&H(B);function H(B){switch(B){case"string":return void $.elseIf(h._`${L} == "number" || ${L} == "boolean"`).assign(Z,h._`"" + ${y}`).elseIf(h._`${y} === null`).assign(Z,h._`""`);case"number":return void $.elseIf(h._`${L} == "boolean" || ${y} === null
              || (${L} == "string" && ${y} && ${y} == +${y})`).assign(Z,h._`+${y}`);case"integer":return void $.elseIf(h._`${L} === "boolean" || ${y} === null
              || (${L} === "string" && ${y} && ${y} == +${y} && !(${y} % 1))`).assign(Z,h._`+${y}`);case"boolean":return void $.elseIf(h._`${y} === "false" || ${y} === 0 || ${y} === null`).assign(Z,!1).elseIf(h._`${y} === "true" || ${y} === 1`).assign(Z,!0);case"null":return $.elseIf(h._`${y} === "" || ${y} === 0 || ${y} === false`),void $.assign(Z,null);case"array":$.elseIf(h._`${L} === "string" || ${L} === "number"
              || ${L} === "boolean" || ${y} === null`).assign(Z,h._`[${y}]`)}}$.else(),d(f),$.endIf(),$.if(h._`${Z} !== undefined`,()=>{$.assign(y,Z),function A({gen:f,parentData:g,parentDataProperty:R},$){f.if(h._`${g} !== undefined`,()=>f.assign(h._`${g}[${R}]`,$))}(f,Z)})}(f,g,_):d(f)})}return L};const E=new Set(["string","number","integer","boolean","null"]);function C(f,g,R,$=o.Correct){const y=$===o.Correct?h.operators.EQ:h.operators.NEQ;let _;switch(f){case"null":return h._`${g} ${y} null`;case"array":_=h._`Array.isArray(${g})`;break;case"object":_=h._`${g} && typeof ${g} == "object" && !Array.isArray(${g})`;break;case"integer":_=L(h._`!(${g} % 1) && !isNaN(${g})`);break;case"number":_=L();break;default:return h._`typeof ${g} ${y} ${f}`}return $===o.Correct?_:(0,h.not)(_);function L(Z=h.nil){return(0,h.and)(h._`typeof ${g} == "number"`,Z,R?h._`isFinite(${g})`:h.nil)}}function D(f,g,R,$){if(1===f.length)return C(f[0],g,R,$);let y;const _=(0,b.toHash)(f);if(_.array&&_.object){const L=h._`typeof ${g} != "object"`;y=_.null?L:h._`!${g} || ${L}`,delete _.null,delete _.array,delete _.object}else y=h.nil;_.number&&delete _.integer;for(const L in _)y=(0,h.and)(y,C(L,g,R,$));return y}t.checkDataType=C,t.checkDataTypes=D;const l={message:({schema:f})=>`must be ${f}`,params:({schema:f,schemaValue:g})=>"string"==typeof f?h._`{type: ${f}}`:h._`{type: ${g}}`};function d(f){const g=function N(f){const{gen:g,data:R,schema:$}=f,y=(0,b.schemaRefOrVal)(f,$,"type");return{gen:g,keyword:"type",data:R,schema:$.type,schemaCode:y,schemaValue:y,parentSchema:$,params:{},it:f}}(f);(0,v.reportError)(g,l)}t.reportTypeError=d},7866:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const r=a(6382),e=a(7990);function h(b,o,m){const{gen:n,compositeRule:i,data:E,opts:w}=b;if(void 0===m)return;const T=r._`${E}${(0,r.getProperty)(o)}`;if(i)return void(0,e.checkStrictMode)(b,`default is ignored for: ${T}`);let A=r._`${T} === undefined`;"empty"===w.useDefaults&&(A=r._`${A} || ${T} === null || ${T} === ""`),n.if(A,r._`${T} = ${(0,r.stringify)(m)}`)}t.assignDefaults=function v(b,o){const{properties:m,items:n}=b.schema;if("object"===o&&m)for(const i in m)h(b,i,m[i].default);else"array"===o&&Array.isArray(n)&&n.forEach((i,E)=>h(b,E,i.default))}},6764:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const r=a(8007),e=a(9078),v=a(368),h=a(9078),b=a(7866),o=a(2707),m=a(2639),n=a(6382),i=a(5976),E=a(1880),w=a(7990),T=a(5091);function C({gen:I,validateName:k,schema:z,schemaEnv:Q,opts:K},x){K.code.es5?I.func(k,n._`${i.default.data}, ${i.default.valCxt}`,Q.$async,()=>{I.code(n._`"use strict"; ${f(z,K)}`),function l(I,k){I.if(i.default.valCxt,()=>{I.var(i.default.instancePath,n._`${i.default.valCxt}.${i.default.instancePath}`),I.var(i.default.parentData,n._`${i.default.valCxt}.${i.default.parentData}`),I.var(i.default.parentDataProperty,n._`${i.default.valCxt}.${i.default.parentDataProperty}`),I.var(i.default.rootData,n._`${i.default.valCxt}.${i.default.rootData}`),k.dynamicRef&&I.var(i.default.dynamicAnchors,n._`${i.default.valCxt}.${i.default.dynamicAnchors}`)},()=>{I.var(i.default.instancePath,n._`""`),I.var(i.default.parentData,n._`undefined`),I.var(i.default.parentDataProperty,n._`undefined`),I.var(i.default.rootData,i.default.data),k.dynamicRef&&I.var(i.default.dynamicAnchors,n._`{}`)})}(I,K),I.code(x)}):I.func(k,n._`${i.default.data}, ${function D(I){return n._`{${i.default.instancePath}="", ${i.default.parentData}, ${i.default.parentDataProperty}, ${i.default.rootData}=${i.default.data}${I.dynamicRef?n._`, ${i.default.dynamicAnchors}={}`:n.nil}}={}`}(K)}`,Q.$async,()=>I.code(f(z,K)).code(x))}function f(I,k){const z="object"==typeof I&&I[k.schemaId];return z&&(k.code.source||k.code.process)?n._`/*# sourceURL=${z} */`:n.nil}function R({schema:I,self:k}){if("boolean"==typeof I)return!I;for(const z in I)if(k.RULES.all[z])return!0;return!1}function $(I){return"boolean"!=typeof I.schema}function _(I){(0,w.checkUnknownRules)(I),function Z(I){const{schema:k,errSchemaPath:z,opts:Q,self:K}=I;k.$ref&&Q.ignoreKeywordsWithRef&&(0,w.schemaHasRulesButRef)(k,K.RULES)&&K.logger.warn(`$ref: keywords ignored in schema at path "${z}"`)}(I)}function L(I,k){if(I.opts.jtd)return Te(I,[],!1,k);const z=(0,e.getSchemaTypes)(I.schema);Te(I,z,!(0,e.coerceAndCheckDataType)(I,z),k)}function ee({gen:I,schemaEnv:k,schema:z,errSchemaPath:Q,opts:K}){const x=z.$comment;if(!0===K.$comment)I.code(n._`${i.default.self}.logger.log(${x})`);else if("function"==typeof K.$comment){const me=n.str`${Q}/$comment`,Ae=I.scopeValue("root",{ref:k.root});I.code(n._`${i.default.self}.opts.$comment(${x}, ${me}, ${Ae}.schema)`)}}function Te(I,k,z,Q){const{gen:K,schema:x,data:me,allErrors:Ae,opts:ve,self:de}=I,{RULES:$e}=de;function ke(Ne){!(0,v.shouldUseGroup)(x,Ne)||(Ne.type?(K.if((0,h.checkDataType)(Ne.type,me,ve.strictNumbers)),be(I,Ne),1===k.length&&k[0]===Ne.type&&z&&(K.else(),(0,h.reportTypeError)(I)),K.endIf()):be(I,Ne),Ae||K.if(n._`${i.default.errors} === ${Q||0}`))}!x.$ref||!ve.ignoreKeywordsWithRef&&(0,w.schemaHasRulesButRef)(x,$e)?(ve.jtd||function ie(I,k){I.schemaEnv.meta||!I.opts.strictTypes||(function Re(I,k){if(k.length){if(!I.dataTypes.length)return void(I.dataTypes=k);k.forEach(z=>{s(I.dataTypes,z)||M(I,`type "${z}" not allowed by context "${I.dataTypes.join(",")}"`)}),function p(I,k){const z=[];for(const Q of I.dataTypes)s(k,Q)?z.push(Q):k.includes("integer")&&"number"===Q&&z.push("integer");I.dataTypes=z}(I,k)}}(I,k),I.opts.allowUnionTypes||function G(I,k){k.length>1&&(2!==k.length||!k.includes("null"))&&M(I,"use allowUnionTypes to allow union type keyword")}(I,k),function j(I,k){const z=I.self.RULES.all;for(const Q in z){const K=z[Q];if("object"==typeof K&&(0,v.shouldUseRule)(I.schema,K)){const{type:x}=K.definition;x.length&&!x.some(me=>O(k,me))&&M(I,`missing type "${x.join(",")}" for keyword "${Q}"`)}}}(I,I.dataTypes))}(I,k),K.block(()=>{for(const Ne of $e.rules)ke(Ne);ke($e.post)})):K.block(()=>q(I,"$ref",$e.all.$ref.definition))}function be(I,k){const{gen:z,schema:Q,opts:{useDefaults:K}}=I;K&&(0,b.assignDefaults)(I,k.type),z.block(()=>{for(const x of k.rules)(0,v.shouldUseRule)(Q,x)&&q(I,x.keyword,x.definition,k.type)})}function O(I,k){return I.includes(k)||"number"===k&&I.includes("integer")}function s(I,k){return I.includes(k)||"integer"===k&&I.includes("number")}function M(I,k){(0,w.checkStrictMode)(I,k+=` at "${I.schemaEnv.baseId+I.errSchemaPath}" (strictTypes)`,I.opts.strictTypes)}t.validateFunctionCode=function A(I){$(I)&&(_(I),R(I))?function d(I){const{schema:k,opts:z,gen:Q}=I;C(I,()=>{z.$comment&&k.$comment&&ee(I),function H(I){const{schema:k,opts:z}=I;void 0!==k.default&&z.useDefaults&&z.strictSchema&&(0,w.checkStrictMode)(I,"default is ignored in the schema root")}(I),Q.let(i.default.vErrors,null),Q.let(i.default.errors,0),z.unevaluated&&function N(I){const{gen:k,validateName:z}=I;I.evaluated=k.const("evaluated",n._`${z}.evaluated`),k.if(n._`${I.evaluated}.dynamicProps`,()=>k.assign(n._`${I.evaluated}.props`,n._`undefined`)),k.if(n._`${I.evaluated}.dynamicItems`,()=>k.assign(n._`${I.evaluated}.items`,n._`undefined`))}(I),L(I),function ce(I){const{gen:k,schemaEnv:z,validateName:Q,ValidationError:K,opts:x}=I;z.$async?k.if(n._`${i.default.errors} === 0`,()=>k.return(i.default.data),()=>k.throw(n._`new ${K}(${i.default.vErrors})`)):(k.assign(n._`${Q}.errors`,i.default.vErrors),x.unevaluated&&function pe({gen:I,evaluated:k,props:z,items:Q}){z instanceof n.Name&&I.assign(n._`${k}.props`,z),Q instanceof n.Name&&I.assign(n._`${k}.items`,Q)}(I),k.return(n._`${i.default.errors} === 0`))}(I)})}(I):C(I,()=>(0,r.topBoolOrEmptySchema)(I))};class Y{constructor(k,z,Q){if((0,o.validateKeywordUsage)(k,z,Q),this.gen=k.gen,this.allErrors=k.allErrors,this.keyword=Q,this.data=k.data,this.schema=k.schema[Q],this.$data=z.$data&&k.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,w.schemaRefOrVal)(k,this.schema,Q,this.$data),this.schemaType=z.schemaType,this.parentSchema=k.schema,this.params={},this.it=k,this.def=z,this.$data)this.schemaCode=k.gen.const("vSchema",Pe(this.$data,k));else if(this.schemaCode=this.schemaValue,!(0,o.validSchemaType)(this.schema,z.schemaType,z.allowUndefined))throw new Error(`${Q} value must be ${JSON.stringify(z.schemaType)}`);("code"in z?z.trackErrors:!1!==z.errors)&&(this.errsCount=k.gen.const("_errs",i.default.errors))}result(k,z,Q){this.failResult((0,n.not)(k),z,Q)}failResult(k,z,Q){this.gen.if(k),Q?Q():this.error(),z?(this.gen.else(),z(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(k,z){this.failResult((0,n.not)(k),void 0,z)}fail(k){if(void 0===k)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(k),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(k){if(!this.$data)return this.fail(k);const{schemaCode:z}=this;this.fail(n._`${z} !== undefined && (${(0,n.or)(this.invalid$data(),k)})`)}error(k,z,Q){if(z)return this.setParams(z),this._error(k,Q),void this.setParams({});this._error(k,Q)}_error(k,z){(k?T.reportExtraError:T.reportError)(this,this.def.error,z)}$dataError(){(0,T.reportError)(this,this.def.$dataError||T.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,T.resetErrorsCount)(this.gen,this.errsCount)}ok(k){this.allErrors||this.gen.if(k)}setParams(k,z){z?Object.assign(this.params,k):this.params=k}block$data(k,z,Q=n.nil){this.gen.block(()=>{this.check$data(k,Q),z()})}check$data(k=n.nil,z=n.nil){if(!this.$data)return;const{gen:Q,schemaCode:K,schemaType:x,def:me}=this;Q.if((0,n.or)(n._`${K} === undefined`,z)),k!==n.nil&&Q.assign(k,!0),(x.length||me.validateSchema)&&(Q.elseIf(this.invalid$data()),this.$dataError(),k!==n.nil&&Q.assign(k,!1)),Q.else()}invalid$data(){const{gen:k,schemaCode:z,schemaType:Q,def:K,it:x}=this;return(0,n.or)(function me(){if(Q.length){if(!(z instanceof n.Name))throw new Error("ajv implementation error");const ve=Array.isArray(Q)?Q:[Q];return n._`${(0,h.checkDataTypes)(ve,z,x.opts.strictNumbers,h.DataType.Wrong)}`}return n.nil}(),function Ae(){if(K.validateSchema){const ve=k.scopeValue("validate$data",{ref:K.validateSchema});return n._`!${ve}(${z})`}return n.nil}())}subschema(k,z){const Q=(0,m.getSubschema)(this.it,k);(0,m.extendSubschemaData)(Q,this.it,k),(0,m.extendSubschemaMode)(Q,k);const K={...this.it,...Q,items:void 0,props:void 0};return function g(I,k){$(I)&&(_(I),R(I))?function y(I,k){const{schema:z,gen:Q,opts:K}=I;K.$comment&&z.$comment&&ee(I),function B(I){const k=I.schema[I.opts.schemaId];k&&(I.baseId=(0,E.resolveUrl)(I.opts.uriResolver,I.baseId,k))}(I),function ne(I){if(I.schema.$async&&!I.schemaEnv.$async)throw new Error("async schema in sync schema")}(I);const x=Q.const("_errs",i.default.errors);L(I,x),Q.var(k,n._`${x} === ${i.default.errors}`)}(I,k):(0,r.boolOrEmptySchema)(I,k)}(K,z),K}mergeEvaluated(k,z){const{it:Q,gen:K}=this;!Q.opts.unevaluated||(!0!==Q.props&&void 0!==k.props&&(Q.props=w.mergeEvaluated.props(K,k.props,Q.props,z)),!0!==Q.items&&void 0!==k.items&&(Q.items=w.mergeEvaluated.items(K,k.items,Q.items,z)))}mergeValidEvaluated(k,z){const{it:Q,gen:K}=this;if(Q.opts.unevaluated&&(!0!==Q.props||!0!==Q.items))return K.if(z,()=>this.mergeEvaluated(k,n.Name)),!0}}function q(I,k,z,Q){const K=new Y(I,z,k);"code"in z?z.code(K,Q):K.$data&&z.validate?(0,o.funcKeywordCode)(K,z):"macro"in z?(0,o.macroKeywordCode)(K,z):(z.compile||z.validate)&&(0,o.funcKeywordCode)(K,z)}t.KeywordCxt=Y;const te=/^\/(?:[^~]|~0|~1)*$/,_e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Pe(I,{dataLevel:k,dataNames:z,dataPathArr:Q}){let K,x;if(""===I)return i.default.rootData;if("/"===I[0]){if(!te.test(I))throw new Error(`Invalid JSON-pointer: ${I}`);K=I,x=i.default.rootData}else{const de=_e.exec(I);if(!de)throw new Error(`Invalid JSON-pointer: ${I}`);const $e=+de[1];if(K=de[2],"#"===K){if($e>=k)throw new Error(ve("property/index",$e));return Q[k-$e]}if($e>k)throw new Error(ve("data",$e));if(x=z[k-$e],!K)return x}let me=x;const Ae=K.split("/");for(const de of Ae)de&&(x=n._`${x}${(0,n.getProperty)((0,w.unescapeJsonPointer)(de))}`,me=n._`${me} && ${x}`);return me;function ve(de,$e){return`Cannot access ${de} ${$e} levels up, current level is ${k}`}}t.getData=Pe},2707:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const r=a(6382),e=a(5976),v=a(2812),h=a(5091);function m(A){const{gen:C,data:D,it:l}=A;C.if(l.parentData,()=>C.assign(D,r._`${l.parentData}[${l.parentDataProperty}]`))}function E(A,C,D){if(void 0===D)throw new Error(`keyword "${C}" failed to compile`);return A.scopeValue("keyword","function"==typeof D?{ref:D}:{ref:D,code:(0,r.stringify)(D)})}t.macroKeywordCode=function b(A,C){const{gen:D,keyword:l,schema:d,parentSchema:N,it:f}=A,g=C.macro.call(f.self,d,N,f),R=E(D,l,g);!1!==f.opts.validateSchema&&f.self.validateSchema(g,!0);const $=D.name("valid");A.subschema({schema:g,schemaPath:r.nil,errSchemaPath:`${f.errSchemaPath}/${l}`,topSchemaRef:R,compositeRule:!0},$),A.pass($,()=>A.error(!0))},t.funcKeywordCode=function o(A,C){var D;const{gen:l,keyword:d,schema:N,parentSchema:f,$data:g,it:R}=A;!function i({schemaEnv:A},C){if(C.async&&!A.$async)throw new Error("async keyword in sync schema")}(R,C);const $=!g&&C.compile?C.compile.call(R.self,N,f,R):C.validate,y=E(l,d,$),_=l.let("valid");function B(ee=(C.async?r._`await `:r.nil)){l.assign(_,r._`${ee}${(0,v.callValidateCode)(A,y,R.opts.passContext?e.default.this:e.default.self,!("compile"in C&&!g||!1===C.schema))}`,C.modifying)}function ne(ee){var ce;l.if((0,r.not)(null!==(ce=C.valid)&&void 0!==ce?ce:_),ee)}A.block$data(_,function L(){if(!1===C.errors)B(),C.modifying&&m(A),ne(()=>A.error());else{const ee=C.async?function Z(){const ee=l.let("ruleErrs",null);return l.try(()=>B(r._`await `),ce=>l.assign(_,!1).if(r._`${ce} instanceof ${R.ValidationError}`,()=>l.assign(ee,r._`${ce}.errors`),()=>l.throw(ce))),ee}():function H(){const ee=r._`${y}.errors`;return l.assign(ee,null),B(r.nil),ee}();C.modifying&&m(A),ne(()=>function n(A,C){const{gen:D}=A;D.if(r._`Array.isArray(${C})`,()=>{D.assign(e.default.vErrors,r._`${e.default.vErrors} === null ? ${C} : ${e.default.vErrors}.concat(${C})`).assign(e.default.errors,r._`${e.default.vErrors}.length`),(0,h.extendErrors)(A)},()=>A.error())}(A,ee))}}),A.ok(null!==(D=C.valid)&&void 0!==D?D:_)},t.validSchemaType=function w(A,C,D=!1){return!C.length||C.some(l=>"array"===l?Array.isArray(A):"object"===l?A&&"object"==typeof A&&!Array.isArray(A):typeof A==l||D&&typeof A>"u")},t.validateKeywordUsage=function T({schema:A,opts:C,self:D,errSchemaPath:l},d,N){if(Array.isArray(d.keyword)?!d.keyword.includes(N):d.keyword!==N)throw new Error("ajv implementation error");const f=d.dependencies;if(f?.some(g=>!Object.prototype.hasOwnProperty.call(A,g)))throw new Error(`parent schema must have dependencies of ${N}: ${f.join(",")}`);if(d.validateSchema&&!d.validateSchema(A[N])){const R=`keyword "${N}" value is invalid at path "${l}": `+D.errorsText(d.validateSchema.errors);if("log"!==C.validateSchema)throw new Error(R);D.logger.error(R)}}},2639:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const r=a(6382),e=a(7990);t.getSubschema=function v(o,{keyword:m,schemaProp:n,schema:i,schemaPath:E,errSchemaPath:w,topSchemaRef:T}){if(void 0!==m&&void 0!==i)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==m){const A=o.schema[m];return void 0===n?{schema:A,schemaPath:r._`${o.schemaPath}${(0,r.getProperty)(m)}`,errSchemaPath:`${o.errSchemaPath}/${m}`}:{schema:A[n],schemaPath:r._`${o.schemaPath}${(0,r.getProperty)(m)}${(0,r.getProperty)(n)}`,errSchemaPath:`${o.errSchemaPath}/${m}/${(0,e.escapeFragment)(n)}`}}if(void 0!==i){if(void 0===E||void 0===w||void 0===T)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:E,topSchemaRef:T,errSchemaPath:w}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function h(o,m,{dataProp:n,dataPropType:i,data:E,dataTypes:w,propertyName:T}){if(void 0!==E&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:A}=m;if(void 0!==n){const{errorPath:D,dataPathArr:l,opts:d}=m;C(A.let("data",r._`${m.data}${(0,r.getProperty)(n)}`,!0)),o.errorPath=r.str`${D}${(0,e.getErrorPath)(n,i,d.jsPropertySyntax)}`,o.parentDataProperty=r._`${n}`,o.dataPathArr=[...l,o.parentDataProperty]}function C(D){o.data=D,o.dataLevel=m.dataLevel+1,o.dataTypes=[],m.definedProperties=new Set,o.parentData=m.data,o.dataNames=[...m.dataNames,D]}void 0!==E&&(C(E instanceof r.Name?E:A.let("data",E,!0)),void 0!==T&&(o.propertyName=T)),w&&(o.dataTypes=w)},t.extendSubschemaMode=function b(o,{jtdDiscriminator:m,jtdMetadata:n,compositeRule:i,createErrors:E,allErrors:w}){void 0!==i&&(o.compositeRule=i),void 0!==E&&(o.createErrors=E),void 0!==w&&(o.allErrors=w),o.jtdDiscriminator=m,o.jtdMetadata=n}},5910:(W,t,a)=>{"use strict";var r=a(9344).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=a(6764);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var v=a(6382);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return v._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return v.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return v.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return v.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return v.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return v.CodeGen}});const h=a(496),b=a(140),o=a(2848),m=a(7140),n=a(6382),i=a(1880),E=a(9078),w=a(7990),T=a(4775),A=a(1364),C=(G,j)=>new RegExp(G,j);C.code="new RegExp";const D=["removeAdditional","useDefaults","coerceTypes"],l=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),d={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},N={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function g(G){var j,O,s,p,M,Y,q,te,_e,Pe,I,k,z,Q,K,x,me,Ae,ve,de,$e,ke,Ne,Ke,Ge;const Se=G.strict,Me=null===(j=G.code)||void 0===j?void 0:j.optimize,Qe=!0===Me||void 0===Me?1:Me||0,Ye=null!==(s=null===(O=G.code)||void 0===O?void 0:O.regExp)&&void 0!==s?s:C,He=null!==(p=G.uriResolver)&&void 0!==p?p:A.default;return{strictSchema:null===(Y=null!==(M=G.strictSchema)&&void 0!==M?M:Se)||void 0===Y||Y,strictNumbers:null===(te=null!==(q=G.strictNumbers)&&void 0!==q?q:Se)||void 0===te||te,strictTypes:null!==(Pe=null!==(_e=G.strictTypes)&&void 0!==_e?_e:Se)&&void 0!==Pe?Pe:"log",strictTuples:null!==(k=null!==(I=G.strictTuples)&&void 0!==I?I:Se)&&void 0!==k?k:"log",strictRequired:null!==(Q=null!==(z=G.strictRequired)&&void 0!==z?z:Se)&&void 0!==Q&&Q,code:G.code?{...G.code,optimize:Qe,regExp:Ye}:{optimize:Qe,regExp:Ye},loopRequired:null!==(K=G.loopRequired)&&void 0!==K?K:200,loopEnum:null!==(x=G.loopEnum)&&void 0!==x?x:200,meta:null===(me=G.meta)||void 0===me||me,messages:null===(Ae=G.messages)||void 0===Ae||Ae,inlineRefs:null===(ve=G.inlineRefs)||void 0===ve||ve,schemaId:null!==(de=G.schemaId)&&void 0!==de?de:"$id",addUsedSchema:null===($e=G.addUsedSchema)||void 0===$e||$e,validateSchema:null===(ke=G.validateSchema)||void 0===ke||ke,validateFormats:null===(Ne=G.validateFormats)||void 0===Ne||Ne,unicodeRegExp:null===(Ke=G.unicodeRegExp)||void 0===Ke||Ke,int32range:null===(Ge=G.int32range)||void 0===Ge||Ge,uriResolver:He}}class R{constructor(j={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,j=this.opts={...j,...g(j)};const{es5:O,lines:s}=this.opts.code;this.scope=new n.ValueScope({scope:{},prefixes:l,es5:O,lines:s}),this.logger=function ne(G){if(!1===G)return B;if(void 0===G)return console;if(G.log&&G.warn&&G.error)return G;throw new Error("logger must implement log, warn and error methods")}(j.logger);const p=j.validateFormats;j.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,d,j,"NOT SUPPORTED"),$.call(this,N,j,"DEPRECATED","warn"),this._metaOpts=H.call(this),j.formats&&L.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),j.keywords&&Z.call(this,j.keywords),"object"==typeof j.meta&&this.addMetaSchema(j.meta),_.call(this),j.validateFormats=p}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:j,meta:O,schemaId:s}=this.opts;let p=T;"id"===s&&(p={...T},p.id=p.$id,delete p.$id),O&&j&&this.addMetaSchema(p,p[s],!1)}defaultMeta(){const{meta:j,schemaId:O}=this.opts;return this.opts.defaultMeta="object"==typeof j?j[O]||j:void 0}validate(j,O){let s;if("string"==typeof j){if(s=this.getSchema(j),!s)throw new Error(`no schema with key or ref "${j}"`)}else s=this.compile(j);const p=s(O);return"$async"in s||(this.errors=s.errors),p}compile(j,O){const s=this._addSchema(j,O);return s.validate||this._compileSchemaEnv(s)}compileAsync(j,O){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:s}=this.opts;return p.call(this,j,O);function p(K,x){return M.apply(this,arguments)}function M(){return(M=r(function*(K,x){yield Y.call(this,K.$schema);const me=this._addSchema(K,x);return me.validate||te.call(this,me)})).apply(this,arguments)}function Y(K){return q.apply(this,arguments)}function q(){return(q=r(function*(K){K&&!this.getSchema(K)&&(yield p.call(this,{$ref:K},!0))})).apply(this,arguments)}function te(K){return _e.apply(this,arguments)}function _e(){return(_e=r(function*(K){try{return this._compileSchemaEnv(K)}catch(x){if(!(x instanceof b.default))throw x;return Pe.call(this,x),yield I.call(this,x.missingSchema),te.call(this,K)}})).apply(this,arguments)}function Pe({missingSchema:K,missingRef:x}){if(this.refs[K])throw new Error(`AnySchema ${K} is loaded but ${x} cannot be resolved`)}function I(K){return k.apply(this,arguments)}function k(){return(k=r(function*(K){const x=yield z.call(this,K);this.refs[K]||(yield Y.call(this,x.$schema)),this.refs[K]||this.addSchema(x,K,O)})).apply(this,arguments)}function z(K){return Q.apply(this,arguments)}function Q(){return(Q=r(function*(K){const x=this._loading[K];if(x)return x;try{return yield this._loading[K]=s(K)}finally{delete this._loading[K]}})).apply(this,arguments)}}addSchema(j,O,s,p=this.opts.validateSchema){if(Array.isArray(j)){for(const Y of j)this.addSchema(Y,void 0,s,p);return this}let M;if("object"==typeof j){const{schemaId:Y}=this.opts;if(M=j[Y],void 0!==M&&"string"!=typeof M)throw new Error(`schema ${Y} must be string`)}return O=(0,i.normalizeId)(O||M),this._checkUnique(O),this.schemas[O]=this._addSchema(j,s,O,p,!0),this}addMetaSchema(j,O,s=this.opts.validateSchema){return this.addSchema(j,O,!0,s),this}validateSchema(j,O){if("boolean"==typeof j)return!0;let s;if(s=j.$schema,void 0!==s&&"string"!=typeof s)throw new Error("$schema must be a string");if(s=s||this.opts.defaultMeta||this.defaultMeta(),!s)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const p=this.validate(s,j);if(!p&&O){const M="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(M);this.logger.error(M)}return p}getSchema(j){let O;for(;"string"==typeof(O=y.call(this,j));)j=O;if(void 0===O){const{schemaId:s}=this.opts,p=new m.SchemaEnv({schema:{},schemaId:s});if(O=m.resolveSchema.call(this,p,j),!O)return;this.refs[j]=O}return O.validate||this._compileSchemaEnv(O)}removeSchema(j){if(j instanceof RegExp)return this._removeAllSchemas(this.schemas,j),this._removeAllSchemas(this.refs,j),this;switch(typeof j){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const O=y.call(this,j);return"object"==typeof O&&this._cache.delete(O.schema),delete this.schemas[j],delete this.refs[j],this}case"object":{this._cache.delete(j);let s=j[this.opts.schemaId];return s&&(s=(0,i.normalizeId)(s),delete this.schemas[s],delete this.refs[s]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(j){for(const O of j)this.addKeyword(O);return this}addKeyword(j,O){let s;if("string"==typeof j)s=j,"object"==typeof O&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),O.keyword=s);else{if("object"!=typeof j||void 0!==O)throw new Error("invalid addKeywords parameters");if(s=(O=j).keyword,Array.isArray(s)&&!s.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(ce.call(this,s,O),!O)return(0,w.eachItem)(s,M=>pe.call(this,M)),this;be.call(this,O);const p={...O,type:(0,E.getJSONTypes)(O.type),schemaType:(0,E.getJSONTypes)(O.schemaType)};return(0,w.eachItem)(s,0===p.type.length?M=>pe.call(this,M,p):M=>p.type.forEach(Y=>pe.call(this,M,p,Y))),this}getKeyword(j){const O=this.RULES.all[j];return"object"==typeof O?O.definition:!!O}removeKeyword(j){const{RULES:O}=this;delete O.keywords[j],delete O.all[j];for(const s of O.rules){const p=s.rules.findIndex(M=>M.keyword===j);p>=0&&s.rules.splice(p,1)}return this}addFormat(j,O){return"string"==typeof O&&(O=new RegExp(O)),this.formats[j]=O,this}errorsText(j=this.errors,{separator:O=", ",dataVar:s="data"}={}){return j&&0!==j.length?j.map(p=>`${s}${p.instancePath} ${p.message}`).reduce((p,M)=>p+O+M):"No errors"}$dataMetaSchema(j,O){const s=this.RULES.all;j=JSON.parse(JSON.stringify(j));for(const p of O){const M=p.split("/").slice(1);let Y=j;for(const q of M)Y=Y[q];for(const q in s){const te=s[q];if("object"!=typeof te)continue;const{$data:_e}=te.definition,Pe=Y[q];_e&&Pe&&(Y[q]=Re(Pe))}}return j}_removeAllSchemas(j,O){for(const s in j){const p=j[s];(!O||O.test(s))&&("string"==typeof p?delete j[s]:p&&!p.meta&&(this._cache.delete(p.schema),delete j[s]))}}_addSchema(j,O,s,p=this.opts.validateSchema,M=this.opts.addUsedSchema){let Y;const{schemaId:q}=this.opts;if("object"==typeof j)Y=j[q];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof j)throw new Error("schema must be object or boolean")}let te=this._cache.get(j);if(void 0!==te)return te;s=(0,i.normalizeId)(Y||s);const _e=i.getSchemaRefs.call(this,j,s);return te=new m.SchemaEnv({schema:j,schemaId:q,meta:O,baseId:s,localRefs:_e}),this._cache.set(te.schema,te),M&&!s.startsWith("#")&&(s&&this._checkUnique(s),this.refs[s]=te),p&&this.validateSchema(j,!0),te}_checkUnique(j){if(this.schemas[j]||this.refs[j])throw new Error(`schema with key or id "${j}" already exists`)}_compileSchemaEnv(j){if(j.meta?this._compileMetaSchema(j):m.compileSchema.call(this,j),!j.validate)throw new Error("ajv implementation error");return j.validate}_compileMetaSchema(j){const O=this.opts;this.opts=this._metaOpts;try{m.compileSchema.call(this,j)}finally{this.opts=O}}}function $(G,j,O,s="error"){for(const p in G){const M=p;M in j&&this.logger[s](`${O}: option ${p}. ${G[M]}`)}}function y(G){return G=(0,i.normalizeId)(G),this.schemas[G]||this.refs[G]}function _(){const G=this.opts.schemas;if(G)if(Array.isArray(G))this.addSchema(G);else for(const j in G)this.addSchema(G[j],j)}function L(){for(const G in this.opts.formats){const j=this.opts.formats[G];j&&this.addFormat(G,j)}}function Z(G){if(Array.isArray(G))this.addVocabulary(G);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const j in G){const O=G[j];O.keyword||(O.keyword=j),this.addKeyword(O)}}}function H(){const G={...this.opts};for(const j of D)delete G[j];return G}t.default=R,R.ValidationError=h.default,R.MissingRefError=b.default;const B={log(){},warn(){},error(){}},ee=/^[a-z_$][a-z0-9_$:-]*$/i;function ce(G,j){const{RULES:O}=this;if((0,w.eachItem)(G,s=>{if(O.keywords[s])throw new Error(`Keyword ${s} is already defined`);if(!ee.test(s))throw new Error(`Keyword ${s} has invalid name`)}),j&&j.$data&&!("code"in j)&&!("validate"in j))throw new Error('$data keyword must have "code" or "validate" function')}function pe(G,j,O){var s;const p=j?.post;if(O&&p)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:M}=this;let Y=p?M.post:M.rules.find(({type:te})=>te===O);if(Y||(Y={type:O,rules:[]},M.rules.push(Y)),M.keywords[G]=!0,!j)return;const q={keyword:G,definition:{...j,type:(0,E.getJSONTypes)(j.type),schemaType:(0,E.getJSONTypes)(j.schemaType)}};j.before?Te.call(this,Y,q,j.before):Y.rules.push(q),M.all[G]=q,null===(s=j.implements)||void 0===s||s.forEach(te=>this.addKeyword(te))}function Te(G,j,O){const s=G.rules.findIndex(p=>p.keyword===O);s>=0?G.rules.splice(s,0,j):(G.rules.push(j),this.logger.warn(`rule ${O} is not defined`))}function be(G){let{metaSchema:j}=G;void 0!==j&&(G.$data&&this.opts.$data&&(j=Re(j)),G.validateSchema=this.compile(j,!0))}const ie={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Re(G){return{anyOf:[G,ie]}}},834:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(2559);r.code='require("ajv/dist/runtime/equal").default',t.default=r},6344:(W,t)=>{"use strict";function a(r){const e=r.length;let b,v=0,h=0;for(;h<e;)v++,b=r.charCodeAt(h++),b>=55296&&b<=56319&&h<e&&(b=r.charCodeAt(h),56320==(64512&b)&&h++);return v}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,a.code='require("ajv/dist/runtime/ucs2length").default'},1364:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6482);r.code='require("ajv/dist/runtime/uri").default',t.default=r},496:(W,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class a extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=a},9282:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const r=a(6382),e=a(7990),h={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:o}})=>r.str`must NOT have more than ${o} items`,params:({params:{len:o}})=>r._`{limit: ${o}}`},code(o){const{parentSchema:m,it:n}=o,{items:i}=m;Array.isArray(i)?b(o,i):(0,e.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function b(o,m){const{gen:n,schema:i,data:E,keyword:w,it:T}=o;T.items=!0;const A=n.const("len",r._`${E}.length`);if(!1===i)o.setParams({len:m.length}),o.pass(r._`${A} <= ${m.length}`);else if("object"==typeof i&&!(0,e.alwaysValidSchema)(T,i)){const D=n.var("valid",r._`${A} <= ${m.length}`);n.if((0,r.not)(D),()=>function C(D){n.forRange("i",m.length,A,l=>{o.subschema({keyword:w,dataProp:l,dataPropType:e.Type.Num},D),T.allErrors||n.if((0,r.not)(D),()=>n.break())})}(D)),o.ok(D)}}t.validateAdditionalItems=b,t.default=h},5459:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(2812),e=a(6382),v=a(5976),h=a(7990);t.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:m})=>e._`{additionalProperty: ${m.additionalProperty}}`},code(m){const{gen:n,schema:i,parentSchema:E,data:w,errsCount:T,it:A}=m;if(!T)throw new Error("ajv implementation error");const{allErrors:C,opts:D}=A;if(A.props=!0,"all"!==D.removeAdditional&&(0,h.alwaysValidSchema)(A,i))return;const l=(0,r.allSchemaProperties)(E.properties),d=(0,r.allSchemaProperties)(E.patternProperties);function g(y){n.code(e._`delete ${w}[${y}]`)}function R(y){if("all"===D.removeAdditional||D.removeAdditional&&!1===i)g(y);else{if(!1===i)return m.setParams({additionalProperty:y}),m.error(),void(C||n.break());if("object"==typeof i&&!(0,h.alwaysValidSchema)(A,i)){const _=n.name("valid");"failing"===D.removeAdditional?($(y,_,!1),n.if((0,e.not)(_),()=>{m.reset(),g(y)})):($(y,_),C||n.if((0,e.not)(_),()=>n.break()))}}}function $(y,_,L){const Z={keyword:"additionalProperties",dataProp:y,dataPropType:h.Type.Str};!1===L&&Object.assign(Z,{compositeRule:!0,createErrors:!1,allErrors:!1}),m.subschema(Z,_)}(function N(){n.forIn("key",w,y=>{l.length||d.length?n.if(function f(y){let _;if(l.length>8){const L=(0,h.schemaRefOrVal)(A,E.properties,"properties");_=(0,r.isOwnProperty)(n,L,y)}else _=l.length?(0,e.or)(...l.map(L=>e._`${y} === ${L}`)):e.nil;return d.length&&(_=(0,e.or)(_,...d.map(L=>e._`${(0,r.usePattern)(m,L)}.test(${y})`))),(0,e.not)(_)}(y),()=>R(y)):R(y)})})(),m.ok(e._`${T} === ${v.default.errors}`)}}},6186:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(7990);t.default={keyword:"allOf",schemaType:"array",code(v){const{gen:h,schema:b,it:o}=v;if(!Array.isArray(b))throw new Error("ajv implementation error");const m=h.name("valid");b.forEach((n,i)=>{if((0,r.alwaysValidSchema)(o,n))return;const E=v.subschema({keyword:"allOf",schemaProp:i},m);v.ok(m),v.mergeEvaluated(E)})}}},290:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(2812);t.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r.validateUnion,error:{message:"must match a schema in anyOf"}}},5738:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6382),e=a(7990);t.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:b,max:o}})=>void 0===o?r.str`must contain at least ${b} valid item(s)`:r.str`must contain at least ${b} and no more than ${o} valid item(s)`,params:({params:{min:b,max:o}})=>void 0===o?r._`{minContains: ${b}}`:r._`{minContains: ${b}, maxContains: ${o}}`},code(b){const{gen:o,schema:m,parentSchema:n,data:i,it:E}=b;let w,T;const{minContains:A,maxContains:C}=n;E.opts.next?(w=void 0===A?1:A,T=C):w=1;const D=o.const("len",r._`${i}.length`);if(b.setParams({min:w,max:T}),void 0===T&&0===w)return void(0,e.checkStrictMode)(E,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==T&&w>T)return(0,e.checkStrictMode)(E,'"minContains" > "maxContains" is always invalid'),void b.fail();if((0,e.alwaysValidSchema)(E,m)){let g=r._`${D} >= ${w}`;return void 0!==T&&(g=r._`${g} && ${D} <= ${T}`),void b.pass(g)}E.items=!0;const l=o.name("valid");function d(){const g=o.name("_valid"),R=o.let("count",0);N(g,()=>o.if(g,()=>function f(g){o.code(r._`${g}++`),void 0===T?o.if(r._`${g} >= ${w}`,()=>o.assign(l,!0).break()):(o.if(r._`${g} > ${T}`,()=>o.assign(l,!1).break()),1===w?o.assign(l,!0):o.if(r._`${g} >= ${w}`,()=>o.assign(l,!0)))}(R)))}function N(g,R){o.forRange("i",0,D,$=>{b.subschema({keyword:"contains",dataProp:$,dataPropType:e.Type.Num,compositeRule:!0},g),R()})}void 0===T&&1===w?N(l,()=>o.if(l,()=>o.break())):0===w?(o.let(l,!0),void 0!==T&&o.if(r._`${i}.length > 0`,d)):(o.let(l,!1),d()),b.result(l,()=>b.reset())}}},1886:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const r=a(6382),e=a(7990),v=a(2812);t.error={message:({params:{property:n,depsCount:i,deps:E}})=>r.str`must have ${1===i?"property":"properties"} ${E} when property ${n} is present`,params:({params:{property:n,depsCount:i,deps:E,missingProperty:w}})=>r._`{property: ${n},
    missingProperty: ${w},
    depsCount: ${i},
    deps: ${E}}`};const h={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(n){const[i,E]=function b({schema:n}){const i={},E={};for(const w in n)"__proto__"!==w&&((Array.isArray(n[w])?i:E)[w]=n[w]);return[i,E]}(n);o(n,i),m(n,E)}};function o(n,i=n.schema){const{gen:E,data:w,it:T}=n;if(0===Object.keys(i).length)return;const A=E.let("missing");for(const C in i){const D=i[C];if(0===D.length)continue;const l=(0,v.propertyInData)(E,w,C,T.opts.ownProperties);n.setParams({property:C,depsCount:D.length,deps:D.join(", ")}),T.allErrors?E.if(l,()=>{for(const d of D)(0,v.checkReportMissingProp)(n,d)}):(E.if(r._`${l} && (${(0,v.checkMissingProp)(n,D,A)})`),(0,v.reportMissingProp)(n,A),E.else())}}function m(n,i=n.schema){const{gen:E,data:w,keyword:T,it:A}=n,C=E.name("valid");for(const D in i)(0,e.alwaysValidSchema)(A,i[D])||(E.if((0,v.propertyInData)(E,w,D,A.opts.ownProperties),()=>{const l=n.subschema({keyword:T,schemaProp:D},C);n.mergeValidEvaluated(l,C)},()=>E.var(C,!0)),n.ok(C))}t.validatePropertyDeps=o,t.validateSchemaDeps=m,t.default=h},3632:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6382),e=a(7990);function b(o,m){const n=o.schema[m];return void 0!==n&&!(0,e.alwaysValidSchema)(o,n)}t.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:o})=>r.str`must match "${o.ifClause}" schema`,params:({params:o})=>r._`{failingKeyword: ${o.ifClause}}`},code(o){const{gen:m,parentSchema:n,it:i}=o;void 0===n.then&&void 0===n.else&&(0,e.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const E=b(i,"then"),w=b(i,"else");if(!E&&!w)return;const T=m.let("valid",!0),A=m.name("_valid");if(function C(){const l=o.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},A);o.mergeEvaluated(l)}(),o.reset(),E&&w){const l=m.let("ifClause");o.setParams({ifClause:l}),m.if(A,D("then",l),D("else",l))}else E?m.if(A,D("then")):m.if((0,r.not)(A),D("else"));function D(l,d){return()=>{const N=o.subschema({keyword:l},A);m.assign(T,A),o.mergeValidEvaluated(N,T),d?m.assign(d,r._`${l}`):o.setParams({ifClause:l})}}o.pass(T,()=>o.error(!0))}}},7737:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(9282),e=a(4947),v=a(9180),h=a(1785),b=a(5738),o=a(1886),m=a(7947),n=a(5459),i=a(8415),E=a(896),w=a(6330),T=a(290),A=a(2337),C=a(6186),D=a(3632),l=a(1344);t.default=function d(N=!1){const f=[w.default,T.default,A.default,C.default,D.default,l.default,m.default,n.default,o.default,i.default,E.default];return N?f.push(e.default,h.default):f.push(r.default,v.default),f.push(b.default),f}},9180:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const r=a(6382),e=a(7990),v=a(2812),h={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(o){const{schema:m,it:n}=o;if(Array.isArray(m))return b(o,"additionalItems",m);n.items=!0,!(0,e.alwaysValidSchema)(n,m)&&o.ok((0,v.validateArray)(o))}};function b(o,m,n=o.schema){const{gen:i,parentSchema:E,data:w,keyword:T,it:A}=o;(function l(d){const{opts:N,errSchemaPath:f}=A,g=n.length;N.strictTuples&&!(g===d.minItems&&(g===d.maxItems||!1===d[m]))&&(0,e.checkStrictMode)(A,`"${T}" is ${g}-tuple, but minItems or maxItems/${m} are not specified or different at path "${f}"`,N.strictTuples)})(E),A.opts.unevaluated&&n.length&&!0!==A.items&&(A.items=e.mergeEvaluated.items(i,n.length,A.items));const C=i.name("valid"),D=i.const("len",r._`${w}.length`);n.forEach((d,N)=>{(0,e.alwaysValidSchema)(A,d)||(i.if(r._`${D} > ${N}`,()=>o.subschema({keyword:T,schemaProp:N,dataProp:N},C)),o.ok(C))})}t.validateTuple=b,t.default=h},1785:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6382),e=a(7990),v=a(2812),h=a(9282);t.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:m}})=>r.str`must NOT have more than ${m} items`,params:({params:{len:m}})=>r._`{limit: ${m}}`},code(m){const{schema:n,parentSchema:i,it:E}=m,{prefixItems:w}=i;E.items=!0,!(0,e.alwaysValidSchema)(E,n)&&(w?(0,h.validateAdditionalItems)(m,w):m.ok((0,v.validateArray)(m)))}}},6330:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(7990);t.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(v){const{gen:h,schema:b,it:o}=v;if((0,r.alwaysValidSchema)(o,b))return void v.fail();const m=h.name("valid");v.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},m),v.failResult(m,()=>v.reset(),()=>v.error())},error:{message:"must NOT be valid"}}},2337:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6382),e=a(7990);t.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:b})=>r._`{passingSchemas: ${b.passing}}`},code(b){const{gen:o,schema:m,parentSchema:n,it:i}=b;if(!Array.isArray(m))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const E=m,w=o.let("valid",!1),T=o.let("passing",null),A=o.name("_valid");b.setParams({passing:T}),o.block(function C(){E.forEach((D,l)=>{let d;(0,e.alwaysValidSchema)(i,D)?o.var(A,!0):d=b.subschema({keyword:"oneOf",schemaProp:l,compositeRule:!0},A),l>0&&o.if(r._`${A} && ${w}`).assign(w,!1).assign(T,r._`[${T}, ${l}]`).else(),o.if(A,()=>{o.assign(w,!0),o.assign(T,l),d&&b.mergeEvaluated(d,r.Name)})})}),b.result(w,()=>b.reset(),()=>b.error(!0))}}},896:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(2812),e=a(6382),v=a(7990),h=a(7990);t.default={keyword:"patternProperties",type:"object",schemaType:"object",code(o){const{gen:m,schema:n,data:i,parentSchema:E,it:w}=o,{opts:T}=w,A=(0,r.allSchemaProperties)(n),C=A.filter(R=>(0,v.alwaysValidSchema)(w,n[R]));if(0===A.length||C.length===A.length&&(!w.opts.unevaluated||!0===w.props))return;const D=T.strictSchema&&!T.allowMatchingProperties&&E.properties,l=m.name("valid");!0!==w.props&&!(w.props instanceof e.Name)&&(w.props=(0,h.evaluatedPropsToName)(m,w.props));const{props:d}=w;function f(R){for(const $ in D)new RegExp(R).test($)&&(0,v.checkStrictMode)(w,`property ${$} matches pattern ${R} (use allowMatchingProperties)`)}function g(R){m.forIn("key",i,$=>{m.if(e._`${(0,r.usePattern)(o,R)}.test(${$})`,()=>{const y=C.includes(R);y||o.subschema({keyword:"patternProperties",schemaProp:R,dataProp:$,dataPropType:h.Type.Str},l),w.opts.unevaluated&&!0!==d?m.assign(e._`${d}[${$}]`,!0):!y&&!w.allErrors&&m.if((0,e.not)(l),()=>m.break())})})}!function N(){for(const R of A)D&&f(R),w.allErrors?g(R):(m.var(l,!0),g(R),m.if(l))}()}}},4947:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(9180);t.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:v=>(0,r.validateTuple)(v,"items")}},8415:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6764),e=a(2812),v=a(7990),h=a(5459);t.default={keyword:"properties",type:"object",schemaType:"object",code(o){const{gen:m,schema:n,parentSchema:i,data:E,it:w}=o;"all"===w.opts.removeAdditional&&void 0===i.additionalProperties&&h.default.code(new r.KeywordCxt(w,h.default,"additionalProperties"));const T=(0,e.allSchemaProperties)(n);for(const d of T)w.definedProperties.add(d);w.opts.unevaluated&&T.length&&!0!==w.props&&(w.props=v.mergeEvaluated.props(m,(0,v.toHash)(T),w.props));const A=T.filter(d=>!(0,v.alwaysValidSchema)(w,n[d]));if(0===A.length)return;const C=m.name("valid");for(const d of A)D(d)?l(d):(m.if((0,e.propertyInData)(m,E,d,w.opts.ownProperties)),l(d),w.allErrors||m.else().var(C,!0),m.endIf()),o.it.definedProperties.add(d),o.ok(C);function D(d){return w.opts.useDefaults&&!w.compositeRule&&void 0!==n[d].default}function l(d){o.subschema({keyword:"properties",schemaProp:d,dataProp:d},C)}}}},7947:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6382),e=a(7990);t.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:b})=>r._`{propertyName: ${b.propertyName}}`},code(b){const{gen:o,schema:m,data:n,it:i}=b;if((0,e.alwaysValidSchema)(i,m))return;const E=o.name("valid");o.forIn("key",n,w=>{b.setParams({propertyName:w}),b.subschema({keyword:"propertyNames",data:w,dataTypes:["string"],propertyName:w,compositeRule:!0},E),o.if((0,r.not)(E),()=>{b.error(!0),i.allErrors||o.break()})}),b.ok(E)}}},1344:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(7990);t.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:v,parentSchema:h,it:b}){void 0===h.if&&(0,r.checkStrictMode)(b,`"${v}" without "if" is ignored`)}}},2812:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const r=a(6382),e=a(7990),v=a(5976),h=a(7990);function n(f){return f.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:r._`Object.prototype.hasOwnProperty`})}function i(f,g,R){return r._`${n(f)}.call(${g}, ${R})`}function w(f,g,R,$){const y=r._`${g}${(0,r.getProperty)(R)} === undefined`;return $?(0,r.or)(y,(0,r.not)(i(f,g,R))):y}function T(f){return f?Object.keys(f).filter(g=>"__proto__"!==g):[]}t.checkReportMissingProp=function b(f,g){const{gen:R,data:$,it:y}=f;R.if(w(R,$,g,y.opts.ownProperties),()=>{f.setParams({missingProperty:r._`${g}`},!0),f.error()})},t.checkMissingProp=function o({gen:f,data:g,it:{opts:R}},$,y){return(0,r.or)(...$.map(_=>(0,r.and)(w(f,g,_,R.ownProperties),r._`${y} = ${_}`)))},t.reportMissingProp=function m(f,g){f.setParams({missingProperty:g},!0),f.error()},t.hasPropFunc=n,t.isOwnProperty=i,t.propertyInData=function E(f,g,R,$){const y=r._`${g}${(0,r.getProperty)(R)} !== undefined`;return $?r._`${y} && ${i(f,g,R)}`:y},t.noPropertyInData=w,t.allSchemaProperties=T,t.schemaProperties=function A(f,g){return T(g).filter(R=>!(0,e.alwaysValidSchema)(f,g[R]))},t.callValidateCode=function C({schemaCode:f,data:g,it:{gen:R,topSchemaRef:$,schemaPath:y,errorPath:_},it:L},Z,H,B){const ne=B?r._`${f}, ${g}, ${$}${y}`:g,ee=[[v.default.instancePath,(0,r.strConcat)(v.default.instancePath,_)],[v.default.parentData,L.parentData],[v.default.parentDataProperty,L.parentDataProperty],[v.default.rootData,v.default.rootData]];L.opts.dynamicRef&&ee.push([v.default.dynamicAnchors,v.default.dynamicAnchors]);const ce=r._`${ne}, ${R.object(...ee)}`;return H!==r.nil?r._`${Z}.call(${H}, ${ce})`:r._`${Z}(${ce})`};const D=r._`new RegExp`;t.usePattern=function l({gen:f,it:{opts:g}},R){const $=g.unicodeRegExp?"u":"",{regExp:y}=g.code,_=y(R,$);return f.scopeValue("pattern",{key:_.toString(),ref:_,code:r._`${"new RegExp"===y.code?D:(0,h.useFunc)(f,y)}(${R}, ${$})`})},t.validateArray=function d(f){const{gen:g,data:R,keyword:$,it:y}=f,_=g.name("valid");if(y.allErrors){const Z=g.let("valid",!0);return L(()=>g.assign(Z,!1)),Z}return g.var(_,!0),L(()=>g.break()),_;function L(Z){const H=g.const("len",r._`${R}.length`);g.forRange("i",0,H,B=>{f.subschema({keyword:$,dataProp:B,dataPropType:e.Type.Num},_),g.if((0,r.not)(_),Z)})}},t.validateUnion=function N(f){const{gen:g,schema:R,keyword:$,it:y}=f;if(!Array.isArray(R))throw new Error("ajv implementation error");if(R.some(H=>(0,e.alwaysValidSchema)(y,H))&&!y.opts.unevaluated)return;const L=g.let("valid",!1),Z=g.name("_valid");g.block(()=>R.forEach((H,B)=>{const ne=f.subschema({keyword:$,schemaProp:B,compositeRule:!0},Z);g.assign(L,r._`${L} || ${Z}`),f.mergeValidEvaluated(ne,Z)||g.if((0,r.not)(L))})),f.result(L,()=>f.reset(),()=>f.error(!0))}},1167:(W,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},1093:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(1167),e=a(4703);t.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,e.default]},4703:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const r=a(140),e=a(2812),v=a(6382),h=a(5976),b=a(7140),o=a(7990),m={keyword:"$ref",schemaType:"string",code(E){const{gen:w,schema:T,it:A}=E,{baseId:C,schemaEnv:D,validateName:l,opts:d,self:N}=A,{root:f}=D;if(("#"===T||"#/"===T)&&C===f.baseId)return function R(){if(D===f)return i(E,l,D,D.$async);const _=w.scopeValue("root",{ref:f});return i(E,v._`${_}.validate`,f,f.$async)}();const g=b.resolveRef.call(N,f,C,T);if(void 0===g)throw new r.default(A.opts.uriResolver,C,T);return g instanceof b.SchemaEnv?function $(_){const L=n(E,_);i(E,L,_,_.$async)}(g):function y(_){const L=w.scopeValue("schema",!0===d.code.source?{ref:_,code:(0,v.stringify)(_)}:{ref:_}),Z=w.name("valid"),H=E.subschema({schema:_,dataTypes:[],schemaPath:v.nil,topSchemaRef:L,errSchemaPath:T},Z);E.mergeEvaluated(H),E.ok(Z)}(g)}};function n(E,w){const{gen:T}=E;return w.validate?T.scopeValue("validate",{ref:w.validate}):v._`${T.scopeValue("wrapper",{ref:w})}.validate`}function i(E,w,T,A){const{gen:C,it:D}=E,{allErrors:l,schemaEnv:d,opts:N}=D,f=N.passContext?h.default.this:v.nil;function $(_){const L=v._`${_}.errors`;C.assign(h.default.vErrors,v._`${h.default.vErrors} === null ? ${L} : ${h.default.vErrors}.concat(${L})`),C.assign(h.default.errors,v._`${h.default.vErrors}.length`)}function y(_){var L;if(!D.opts.unevaluated)return;const Z=null===(L=T?.validate)||void 0===L?void 0:L.evaluated;if(!0!==D.props)if(Z&&!Z.dynamicProps)void 0!==Z.props&&(D.props=o.mergeEvaluated.props(C,Z.props,D.props));else{const H=C.var("props",v._`${_}.evaluated.props`);D.props=o.mergeEvaluated.props(C,H,D.props,v.Name)}if(!0!==D.items)if(Z&&!Z.dynamicItems)void 0!==Z.items&&(D.items=o.mergeEvaluated.items(C,Z.items,D.items));else{const H=C.var("items",v._`${_}.evaluated.items`);D.items=o.mergeEvaluated.items(C,H,D.items,v.Name)}}A?function g(){if(!d.$async)throw new Error("async schema referenced by sync schema");const _=C.let("valid");C.try(()=>{C.code(v._`await ${(0,e.callValidateCode)(E,w,f)}`),y(w),l||C.assign(_,!0)},L=>{C.if(v._`!(${L} instanceof ${D.ValidationError})`,()=>C.throw(L)),$(L),l||C.assign(_,!1)}),E.ok(_)}():function R(){E.result((0,e.callValidateCode)(E,w,f),()=>y(w),()=>$(w))}()}t.getValidate=n,t.callRef=i,t.default=m},1849:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6382),e=a(3726),v=a(7140),h=a(7990);t.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:m,tagName:n}})=>m===e.DiscrError.Tag?`tag "${n}" must be string`:`value of tag "${n}" must be in oneOf`,params:({params:{discrError:m,tag:n,tagName:i}})=>r._`{error: ${m}, tag: ${i}, tagValue: ${n}}`},code(m){const{gen:n,data:i,schema:E,parentSchema:w,it:T}=m,{oneOf:A}=w;if(!T.opts.discriminator)throw new Error("discriminator: requires discriminator option");const C=E.propertyName;if("string"!=typeof C)throw new Error("discriminator: requires propertyName");if(E.mapping)throw new Error("discriminator: mapping is not supported");if(!A)throw new Error("discriminator: requires oneOf keyword");const D=n.let("valid",!1),l=n.const("tag",r._`${i}${(0,r.getProperty)(C)}`);function N(g){const R=n.name("valid"),$=m.subschema({keyword:"oneOf",schemaProp:g},R);return m.mergeEvaluated($,r.Name),R}n.if(r._`typeof ${l} == "string"`,()=>function d(){const g=function f(){var g;const R={},$=_(w);let y=!0;for(let H=0;H<A.length;H++){let B=A[H];B?.$ref&&!(0,h.schemaHasRulesButRef)(B,T.self.RULES)&&(B=v.resolveRef.call(T.self,T.schemaEnv.root,T.baseId,B?.$ref),B instanceof v.SchemaEnv&&(B=B.schema));const ne=null===(g=B?.properties)||void 0===g?void 0:g[C];if("object"!=typeof ne)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${C}"`);y=y&&($||_(B)),L(ne,H)}if(!y)throw new Error(`discriminator: "${C}" must be required`);return R;function _({required:H}){return Array.isArray(H)&&H.includes(C)}function L(H,B){if(H.const)Z(H.const,B);else{if(!H.enum)throw new Error(`discriminator: "properties/${C}" must have "const" or "enum"`);for(const ne of H.enum)Z(ne,B)}}function Z(H,B){if("string"!=typeof H||H in R)throw new Error(`discriminator: "${C}" values must be unique strings`);R[H]=B}}();n.if(!1);for(const R in g)n.elseIf(r._`${l} === ${R}`),n.assign(D,N(g[R]));n.else(),m.error(!1,{discrError:e.DiscrError.Mapping,tag:l,tagName:C}),n.endIf()}(),()=>m.error(!1,{discrError:e.DiscrError.Tag,tag:l,tagName:C})),m.ok(D)}}},3726:(W,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,(r=t.DiscrError||(t.DiscrError={})).Tag="tag",r.Mapping="mapping"},7032:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(1093),e=a(7887),v=a(7737),h=a(7447),b=a(760),o=[r.default,e.default,(0,v.default)(),h.default,b.metadataVocabulary,b.contentVocabulary];t.default=o},2364:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6382);t.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:h})=>r.str`must match format "${h}"`,params:({schemaCode:h})=>r._`{format: ${h}}`},code(h,b){const{gen:o,data:m,$data:n,schema:i,schemaCode:E,it:w}=h,{opts:T,errSchemaPath:A,schemaEnv:C,self:D}=w;T.validateFormats&&(n?function l(){const N=o.scopeValue("formats",{ref:D.formats,code:T.code.formats}),f=o.const("fDef",r._`${N}[${E}]`),g=o.let("fType"),R=o.let("format");o.if(r._`typeof ${f} == "object" && !(${f} instanceof RegExp)`,()=>o.assign(g,r._`${f}.type || "string"`).assign(R,r._`${f}.validate`),()=>o.assign(g,r._`"string"`).assign(R,f)),h.fail$data((0,r.or)(function $(){return!1===T.strictSchema?r.nil:r._`${E} && !${R}`}(),function y(){const _=C.$async?r._`(${f}.async ? await ${R}(${m}) : ${R}(${m}))`:r._`${R}(${m})`,L=r._`(typeof ${R} == "function" ? ${_} : ${R}.test(${m}))`;return r._`${R} && ${R} !== true && ${g} === ${b} && !${L}`}()))}():function d(){const N=D.formats[i];if(!N)return void function $(){if(!1!==T.strictSchema)throw new Error(L());function L(){return`unknown format "${i}" ignored in schema at path "${A}"`}D.logger.warn(L())}();if(!0===N)return;const[f,g,R]=function y(L){const Z=L instanceof RegExp?(0,r.regexpCode)(L):T.code.formats?r._`${T.code.formats}${(0,r.getProperty)(i)}`:void 0,H=o.scopeValue("formats",{key:i,ref:L,code:Z});return"object"!=typeof L||L instanceof RegExp?["string",L,H]:[L.type||"string",L.validate,r._`${H}.validate`]}(N);f===b&&h.pass(function _(){if("object"==typeof N&&!(N instanceof RegExp)&&N.async){if(!C.$async)throw new Error("async format in sync schema");return r._`await ${R}(${m})`}return"function"==typeof g?r._`${R}(${m})`:r._`${R}.test(${m})`}())}())}}},7447:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const e=[a(2364).default];t.default=e},760:(W,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},7677:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6382),e=a(7990),v=a(834);t.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:o})=>r._`{allowedValue: ${o}}`},code(o){const{gen:m,data:n,$data:i,schemaCode:E,schema:w}=o;i||w&&"object"==typeof w?o.fail$data(r._`!${(0,e.useFunc)(m,v.default)}(${n}, ${E})`):o.fail(r._`${w} !== ${n}`)}}},8373:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6382),e=a(7990),v=a(834);t.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:o})=>r._`{allowedValues: ${o}}`},code(o){const{gen:m,data:n,$data:i,schema:E,schemaCode:w,it:T}=o;if(!i&&0===E.length)throw new Error("enum must have non-empty array");let C;const D=()=>C??(C=(0,e.useFunc)(m,v.default));let l;if(E.length>=T.opts.loopEnum||i)l=m.let("valid"),o.block$data(l,function d(){m.assign(l,!1),m.forOf("v",w,f=>m.if(r._`${D()}(${n}, ${f})`,()=>m.assign(l,!0).break()))});else{if(!Array.isArray(E))throw new Error("ajv implementation error");const f=m.const("vSchema",w);l=(0,r.or)(...E.map((g,R)=>function N(f,g){const R=E[g];return"object"==typeof R&&null!==R?r._`${D()}(${n}, ${f}[${g}])`:r._`${n} === ${R}`}(f,R)))}o.pass(l)}}},7887:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(7126),e=a(2018),v=a(6230),h=a(8455),b=a(5608),o=a(109),m=a(5132),n=a(4097),i=a(7677),E=a(8373);t.default=[r.default,e.default,v.default,h.default,b.default,o.default,m.default,n.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},i.default,E.default]},5132:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6382);t.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:h,schemaCode:b})=>r.str`must NOT have ${"maxItems"===h?"more":"fewer"} than ${b} items`,params:({schemaCode:h})=>r._`{limit: ${h}}`},code(h){const{keyword:b,data:o,schemaCode:m}=h;h.fail$data(r._`${o}.length ${"maxItems"===b?r.operators.GT:r.operators.LT} ${m}`)}}},6230:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6382),e=a(7990),v=a(6344);t.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:o,schemaCode:m})=>r.str`must NOT have ${"maxLength"===o?"more":"fewer"} than ${m} characters`,params:({schemaCode:o})=>r._`{limit: ${o}}`},code(o){const{keyword:m,data:n,schemaCode:i,it:E}=o,w="maxLength"===m?r.operators.GT:r.operators.LT,T=!1===E.opts.unicode?r._`${n}.length`:r._`${(0,e.useFunc)(o.gen,v.default)}(${n})`;o.fail$data(r._`${T} ${w} ${i}`)}}},7126:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6382),e=r.operators,v={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},h={message:({keyword:o,schemaCode:m})=>r.str`must be ${v[o].okStr} ${m}`,params:({keyword:o,schemaCode:m})=>r._`{comparison: ${v[o].okStr}, limit: ${m}}`},b={keyword:Object.keys(v),type:"number",schemaType:"number",$data:!0,error:h,code(o){const{keyword:m,data:n,schemaCode:i}=o;o.fail$data(r._`${n} ${v[m].fail} ${i} || isNaN(${n})`)}};t.default=b},5608:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6382);t.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:h,schemaCode:b})=>r.str`must NOT have ${"maxProperties"===h?"more":"fewer"} than ${b} properties`,params:({schemaCode:h})=>r._`{limit: ${h}}`},code(h){const{keyword:b,data:o,schemaCode:m}=h;h.fail$data(r._`Object.keys(${o}).length ${"maxProperties"===b?r.operators.GT:r.operators.LT} ${m}`)}}},2018:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6382);t.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:h})=>r.str`must be multiple of ${h}`,params:({schemaCode:h})=>r._`{multipleOf: ${h}}`},code(h){const{gen:b,data:o,schemaCode:m,it:n}=h,i=n.opts.multipleOfPrecision,E=b.let("res"),w=i?r._`Math.abs(Math.round(${E}) - ${E}) > 1e-${i}`:r._`${E} !== parseInt(${E})`;h.fail$data(r._`(${m} === 0 || (${E} = ${o}/${m}, ${w}))`)}}},8455:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(2812),e=a(6382);t.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:b})=>e.str`must match pattern "${b}"`,params:({schemaCode:b})=>e._`{pattern: ${b}}`},code(b){const{data:o,$data:m,schema:n,schemaCode:i,it:E}=b,T=m?e._`(new RegExp(${i}, ${E.opts.unicodeRegExp?"u":""}))`:(0,r.usePattern)(b,n);b.fail$data(e._`!${T}.test(${o})`)}}},109:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(2812),e=a(6382),v=a(7990);t.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:o}})=>e.str`must have required property '${o}'`,params:({params:{missingProperty:o}})=>e._`{missingProperty: ${o}}`},code(o){const{gen:m,schema:n,schemaCode:i,data:E,$data:w,it:T}=o,{opts:A}=T;if(!w&&0===n.length)return;const C=n.length>=A.loopRequired;if(T.allErrors?function D(){if(C||w)o.block$data(e.nil,d);else for(const f of n)(0,r.checkReportMissingProp)(o,f)}():function l(){const f=m.let("missing");if(C||w){const g=m.let("valid",!0);o.block$data(g,()=>function N(f,g){o.setParams({missingProperty:f}),m.forOf(f,i,()=>{m.assign(g,(0,r.propertyInData)(m,E,f,A.ownProperties)),m.if((0,e.not)(g),()=>{o.error(),m.break()})},e.nil)}(f,g)),o.ok(g)}else m.if((0,r.checkMissingProp)(o,n,f)),(0,r.reportMissingProp)(o,f),m.else()}(),A.strictRequired){const f=o.parentSchema.properties,{definedProperties:g}=o.it;for(const R of n)void 0!==f?.[R]||g.has(R)||(0,v.checkStrictMode)(T,`required property "${R}" is not defined at "${T.schemaEnv.baseId+T.errSchemaPath}" (strictRequired)`,T.opts.strictRequired)}function d(){m.forOf("prop",i,f=>{o.setParams({missingProperty:f}),m.if((0,r.noPropertyInData)(m,E,f,A.ownProperties),()=>o.error())})}}}},4097:(W,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(9078),e=a(6382),v=a(7990),h=a(834);t.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:m,j:n}})=>e.str`must NOT have duplicate items (items ## ${n} and ${m} are identical)`,params:({params:{i:m,j:n}})=>e._`{i: ${m}, j: ${n}}`},code(m){const{gen:n,data:i,$data:E,schema:w,parentSchema:T,schemaCode:A,it:C}=m;if(!E&&!w)return;const D=n.let("valid"),l=T.items?(0,r.getSchemaTypes)(T.items):[];function f(R,$){const y=n.name("item"),_=(0,r.checkDataTypes)(l,y,C.opts.strictNumbers,r.DataType.Wrong),L=n.const("indices",e._`{}`);n.for(e._`;${R}--;`,()=>{n.let(y,e._`${i}[${R}]`),n.if(_,e._`continue`),l.length>1&&n.if(e._`typeof ${y} == "string"`,e._`${y} += "_"`),n.if(e._`typeof ${L}[${y}] == "number"`,()=>{n.assign($,e._`${L}[${y}]`),m.error(),n.assign(D,!1).break()}).code(e._`${L}[${y}] = ${R}`)})}function g(R,$){const y=(0,v.useFunc)(n,h.default),_=n.name("outer");n.label(_).for(e._`;${R}--;`,()=>n.for(e._`${$} = ${R}; ${$}--;`,()=>n.if(e._`${y}(${i}[${R}], ${i}[${$}])`,()=>{m.error(),n.assign(D,!1).break(_)})))}m.block$data(D,function d(){const R=n.let("i",e._`${i}.length`),$=n.let("j");m.setParams({i:R,j:$}),n.assign(D,!0),n.if(e._`${R} > 1`,()=>(function N(){return l.length>0&&!l.some(R=>"object"===R||"array"===R)}()?f:g)(R,$))},e._`${A} === false`),m.ok(D)}}},2559:W=>{"use strict";W.exports=function t(a,r){if(a===r)return!0;if(a&&r&&"object"==typeof a&&"object"==typeof r){if(a.constructor!==r.constructor)return!1;var e,v,h;if(Array.isArray(a)){if((e=a.length)!=r.length)return!1;for(v=e;0!=v--;)if(!t(a[v],r[v]))return!1;return!0}if(a.constructor===RegExp)return a.source===r.source&&a.flags===r.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===r.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===r.toString();if((e=(h=Object.keys(a)).length)!==Object.keys(r).length)return!1;for(v=e;0!=v--;)if(!Object.prototype.hasOwnProperty.call(r,h[v]))return!1;for(v=e;0!=v--;){var b=h[v];if(!t(a[b],r[b]))return!1}return!0}return a!=a&&r!=r}},3366:W=>{"use strict";var t=W.exports=function(e,v,h){"function"==typeof v&&(h=v,v={}),a(v,"function"==typeof(h=v.cb||h)?h:h.pre||function(){},h.post||function(){},e,"",e)};function a(e,v,h,b,o,m,n,i,E,w){if(b&&"object"==typeof b&&!Array.isArray(b)){for(var T in v(b,o,m,n,i,E,w),b){var A=b[T];if(Array.isArray(A)){if(T in t.arrayKeywords)for(var C=0;C<A.length;C++)a(e,v,h,A[C],o+"/"+T+"/"+C,m,o,T,b,C)}else if(T in t.propsKeywords){if(A&&"object"==typeof A)for(var D in A)a(e,v,h,A[D],o+"/"+T+"/"+r(D),m,o,T,b,D)}else(T in t.keywords||e.allKeys&&!(T in t.skipKeywords))&&a(e,v,h,A,o+"/"+T,m,o,T,b)}h(b,o,m,n,i,E,w)}}function r(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},6482:function(W,t){!function(a){"use strict";function r(){for(var c=arguments.length,u=Array(c),P=0;P<c;P++)u[P]=arguments[P];if(u.length>1){u[0]=u[0].slice(0,-1);for(var F=u.length-1,V=1;V<F;++V)u[V]=u[V].slice(1,-1);return u[F]=u[F].slice(1),u.join("")}return u[0]}function e(c){return"(?:"+c+")"}function v(c){return void 0===c?"undefined":null===c?"null":Object.prototype.toString.call(c).split(" ").pop().split("]").shift().toLowerCase()}function h(c){return c.toUpperCase()}function m(c){var u="[A-Za-z]",F="[0-9]",X=r(F,"[A-Fa-f]"),ue=e(e("%[EFef]"+X+"%"+X+X+"%"+X+X)+"|"+e("%[89A-Fa-f]"+X+"%"+X+X)+"|"+e("%"+X+X)),ae="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ye=r("[\\:\\/\\?\\#\\[\\]\\@]",ae),he=c?"[\\uE000-\\uF8FF]":"[]",oe=r(u,F,"[\\-\\.\\_\\~]",c?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),ge=e(u+r(u,F,"[\\+\\-\\.]")+"*"),le=e(e(ue+"|"+r(oe,ae,"[\\:]"))+"*"),Oe=(e(e("25[0-5]")+"|"+e("2[0-4]"+F)+"|"+e("1"+F+F)+"|"+e("[1-9]"+F)+"|"+F),e(e("25[0-5]")+"|"+e("2[0-4]"+F)+"|"+e("1"+F+F)+"|"+e("0?[1-9]"+F)+"|0?0?"+F)),De=e(Oe+"\\."+Oe+"\\."+Oe+"\\."+Oe),fe=e(X+"{1,4}"),Ie=e(e(fe+"\\:"+fe)+"|"+De),je=e(e(fe+"\\:")+"{6}"+Ie),Ve=e("\\:\\:"+e(fe+"\\:")+"{5}"+Ie),We=e(e(fe)+"?\\:\\:"+e(fe+"\\:")+"{4}"+Ie),Ue=e(e(e(fe+"\\:")+"{0,1}"+fe)+"?\\:\\:"+e(fe+"\\:")+"{3}"+Ie),ot=e(e(e(fe+"\\:")+"{0,2}"+fe)+"?\\:\\:"+e(fe+"\\:")+"{2}"+Ie),vt=e(e(e(fe+"\\:")+"{0,3}"+fe)+"?\\:\\:"+fe+"\\:"+Ie),yt=e(e(e(fe+"\\:")+"{0,4}"+fe)+"?\\:\\:"+Ie),qe=e(e(e(fe+"\\:")+"{0,5}"+fe)+"?\\:\\:"+fe),xe=e(e(e(fe+"\\:")+"{0,6}"+fe)+"?\\:\\:"),ze=e([je,Ve,We,Ue,ot,vt,yt,qe,xe].join("|")),et=e(e(oe+"|"+ue)+"+"),Xe=(e(ze+"\\%25"+et),e(ze+e("\\%25|\\%(?!"+X+"{2})")+et)),It=e("[vV]"+X+"+\\."+r(oe,ae,"[\\:]")+"+"),Dt=e("\\["+e(Xe+"|"+ze+"|"+It)+"\\]"),At=e(e(ue+"|"+r(oe,ae))+"*"),it=e(Dt+"|"+De+"(?!"+At+")|"+At),ct=e(F+"*"),Rt=e(e(le+"@")+"?"+it+e("\\:"+ct)+"?"),ut=e(ue+"|"+r(oe,ae,"[\\:\\@]")),jt=e(ut+"*"),Ct=e(ut+"+"),Mt=e(e(ue+"|"+r(oe,ae,"[\\@]"))+"+"),Ze=e(e("\\/"+jt)+"*"),tt=e("\\/"+e(Ct+Ze)+"?"),Tt=e(Mt+Ze),gt=e(Ct+Ze),rt="(?!"+ut+")",nt=(e(Ze+"|"+tt+"|"+Tt+"|"+gt+"|"+rt),e(e(ut+"|"+r("[\\/\\?]",he))+"*")),lt=e(e(ut+"|[\\/\\?]")+"*"),Ot=e(e("\\/\\/"+Rt+Ze)+"|"+tt+"|"+gt+"|"+rt),kt=e(ge+"\\:"+Ot+e("\\?"+nt)+"?"+e("\\#"+lt)+"?"),Ft=e(e("\\/\\/"+Rt+Ze)+"|"+tt+"|"+Tt+"|"+rt),Lt=e(Ft+e("\\?"+nt)+"?"+e("\\#"+lt)+"?");return e(kt+"|"+Lt),e(ge+"\\:"+Ot+e("\\?"+nt)+"?"),e(e("\\/\\/("+e("("+le+")@")+"?("+it+")"+e("\\:("+ct+")")+"?)")+"?("+Ze+"|"+tt+"|"+gt+"|"+rt+")"),e("\\?("+nt+")"),e("\\#("+lt+")"),e(e("\\/\\/("+e("("+le+")@")+"?("+it+")"+e("\\:("+ct+")")+"?)")+"?("+Ze+"|"+tt+"|"+Tt+"|"+rt+")"),e("\\?("+nt+")"),e("\\#("+lt+")"),e(e("\\/\\/("+e("("+le+")@")+"?("+it+")"+e("\\:("+ct+")")+"?)")+"?("+Ze+"|"+tt+"|"+gt+"|"+rt+")"),e("\\?("+nt+")"),e("\\#("+lt+")"),e("("+le+")@"),e("\\:("+ct+")"),{NOT_SCHEME:new RegExp(r("[^]",u,F,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",oe,ae),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",oe,ae),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",oe,ae),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",oe,ae),"g"),NOT_QUERY:new RegExp(r("[^\\%]",oe,ae,"[\\:\\@\\/\\?]",he),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",oe,ae,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",oe,ae),"g"),UNRESERVED:new RegExp(oe,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",oe,ye),"g"),PCT_ENCODED:new RegExp(ue,"g"),IPV4ADDRESS:new RegExp("^("+De+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ze+")"+e(e("\\%25|\\%(?!"+X+"{2})")+"("+et+")")+"?\\]?$")}}var n=m(!1),i=m(!0),E=function(u,P){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return function c(u,P){var F=[],V=!0,X=!1,re=void 0;try{for(var ue,se=u[Symbol.iterator]();!(V=(ue=se.next()).done)&&(F.push(ue.value),!P||F.length!==P);V=!0);}catch(Ee){X=!0,re=Ee}finally{try{!V&&se.return&&se.return()}finally{if(X)throw re}}return F}(u,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=2147483647,A=36,R=/^xn--/,$=/[^\0-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Z=Math.floor,H=String.fromCharCode;function B(c){throw new RangeError(_[c])}function ee(c,u){var P=c.split("@"),F="";return P.length>1&&(F=P[0]+"@",c=P[1]),F+function ne(c,u){for(var P=[],F=c.length;F--;)P[F]=u(c[F]);return P}((c=c.replace(y,".")).split("."),u).join(".")}function ce(c){for(var u=[],P=0,F=c.length;P<F;){var V=c.charCodeAt(P++);if(V>=55296&&V<=56319&&P<F){var X=c.charCodeAt(P++);56320==(64512&X)?u.push(((1023&V)<<10)+(1023&X)+65536):(u.push(V),P--)}else u.push(V)}return u}var Te=function(u){return u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:A},be=function(u,P){return u+22+75*(u<26)-((0!=P)<<5)},ie=function(u,P,F){var V=0;for(u=F?Z(u/700):u>>1,u+=Z(u/P);u>455;V+=A)u=Z(u/35);return Z(V+36*u/(u+38))},Re=function(u){var P=[],F=u.length,V=0,X=128,re=72,se=u.lastIndexOf("-");se<0&&(se=0);for(var ue=0;ue<se;++ue)u.charCodeAt(ue)>=128&&B("not-basic"),P.push(u.charCodeAt(ue));for(var Ee=se>0?se+1:0;Ee<F;){for(var ae=V,ye=1,we=A;;we+=A){Ee>=F&&B("invalid-input");var he=Te(u.charCodeAt(Ee++));(he>=A||he>Z((T-V)/ye))&&B("overflow"),V+=he*ye;var oe=we<=re?1:we>=re+26?26:we-re;if(he<oe)break;var ge=A-oe;ye>Z(T/ge)&&B("overflow"),ye*=ge}var le=P.length+1;re=ie(V-ae,le,0==ae),Z(V/le)>T-X&&B("overflow"),X+=Z(V/le),V%=le,P.splice(V++,0,X)}return String.fromCodePoint.apply(String,P)},G=function(u){var P=[],F=(u=ce(u)).length,V=128,X=0,re=72,se=!0,ue=!1,Ee=void 0;try{for(var ye,ae=u[Symbol.iterator]();!(se=(ye=ae.next()).done);se=!0){var we=ye.value;we<128&&P.push(H(we))}}catch(Xe){ue=!0,Ee=Xe}finally{try{!se&&ae.return&&ae.return()}finally{if(ue)throw Ee}}var he=P.length,oe=he;for(he&&P.push("-");oe<F;){var ge=T,le=!0,Be=!1,Oe=void 0;try{for(var fe,De=u[Symbol.iterator]();!(le=(fe=De.next()).done);le=!0){var Ie=fe.value;Ie>=V&&Ie<ge&&(ge=Ie)}}catch(Xe){Be=!0,Oe=Xe}finally{try{!le&&De.return&&De.return()}finally{if(Be)throw Oe}}var je=oe+1;ge-V>Z((T-X)/je)&&B("overflow"),X+=(ge-V)*je,V=ge;var Ve=!0,We=!1,Ue=void 0;try{for(var vt,ot=u[Symbol.iterator]();!(Ve=(vt=ot.next()).done);Ve=!0){var yt=vt.value;if(yt<V&&++X>T&&B("overflow"),yt==V){for(var qe=X,xe=A;;xe+=A){var ze=xe<=re?1:xe>=re+26?26:xe-re;if(qe<ze)break;var et=qe-ze,Nt=A-ze;P.push(H(be(ze+et%Nt,0))),qe=Z(et/Nt)}P.push(H(be(qe,0))),re=ie(X,je,oe==he),X=0,++oe}}}catch(Xe){We=!0,Ue=Xe}finally{try{!Ve&&ot.return&&ot.return()}finally{if(We)throw Ue}}++X,++V}return P.join("")},s_toASCII=function(u){return ee(u,function(P){return $.test(P)?"xn--"+G(P):P})},s_toUnicode=function(u){return ee(u,function(P){return R.test(P)?Re(P.slice(4).toLowerCase()):P})},p={};function M(c){var u=c.charCodeAt(0);return u<16?"%0"+u.toString(16).toUpperCase():u<128?"%"+u.toString(16).toUpperCase():u<2048?"%"+(u>>6|192).toString(16).toUpperCase()+"%"+(63&u|128).toString(16).toUpperCase():"%"+(u>>12|224).toString(16).toUpperCase()+"%"+(u>>6&63|128).toString(16).toUpperCase()+"%"+(63&u|128).toString(16).toUpperCase()}function Y(c){for(var u="",P=0,F=c.length;P<F;){var V=parseInt(c.substr(P+1,2),16);if(V<128)u+=String.fromCharCode(V),P+=3;else if(V>=194&&V<224){if(F-P>=6){var X=parseInt(c.substr(P+4,2),16);u+=String.fromCharCode((31&V)<<6|63&X)}else u+=c.substr(P,6);P+=6}else if(V>=224){if(F-P>=9){var re=parseInt(c.substr(P+4,2),16),se=parseInt(c.substr(P+7,2),16);u+=String.fromCharCode((15&V)<<12|(63&re)<<6|63&se)}else u+=c.substr(P,9);P+=9}else u+=c.substr(P,3),P+=3}return u}function q(c,u){function P(F){var V=Y(F);return V.match(u.UNRESERVED)?V:F}return c.scheme&&(c.scheme=String(c.scheme).replace(u.PCT_ENCODED,P).toLowerCase().replace(u.NOT_SCHEME,"")),void 0!==c.userinfo&&(c.userinfo=String(c.userinfo).replace(u.PCT_ENCODED,P).replace(u.NOT_USERINFO,M).replace(u.PCT_ENCODED,h)),void 0!==c.host&&(c.host=String(c.host).replace(u.PCT_ENCODED,P).toLowerCase().replace(u.NOT_HOST,M).replace(u.PCT_ENCODED,h)),void 0!==c.path&&(c.path=String(c.path).replace(u.PCT_ENCODED,P).replace(c.scheme?u.NOT_PATH:u.NOT_PATH_NOSCHEME,M).replace(u.PCT_ENCODED,h)),void 0!==c.query&&(c.query=String(c.query).replace(u.PCT_ENCODED,P).replace(u.NOT_QUERY,M).replace(u.PCT_ENCODED,h)),void 0!==c.fragment&&(c.fragment=String(c.fragment).replace(u.PCT_ENCODED,P).replace(u.NOT_FRAGMENT,M).replace(u.PCT_ENCODED,h)),c}function te(c){return c.replace(/^0*(.*)/,"$1")||"0"}function _e(c,u){var P=c.match(u.IPV4ADDRESS)||[],V=E(P,2)[1];return V?V.split(".").map(te).join("."):c}function Pe(c,u){var P=c.match(u.IPV6ADDRESS)||[],F=E(P,3),V=F[1],X=F[2];if(V){for(var re=V.toLowerCase().split("::").reverse(),se=E(re,2),ue=se[0],Ee=se[1],ae=Ee?Ee.split(":").map(te):[],ye=ue.split(":").map(te),we=u.IPV4ADDRESS.test(ye[ye.length-1]),he=we?7:8,oe=ye.length-he,ge=Array(he),le=0;le<he;++le)ge[le]=ae[le]||ye[oe+le]||"";we&&(ge[he-1]=_e(ge[he-1],u));var Oe=ge.reduce(function(je,Ve,We){if(!Ve||"0"===Ve){var Ue=je[je.length-1];Ue&&Ue.index+Ue.length===We?Ue.length++:je.push({index:We,length:1})}return je},[]).sort(function(je,Ve){return Ve.length-je.length})[0],De=void 0;if(Oe&&Oe.length>1){var fe=ge.slice(0,Oe.index),Ie=ge.slice(Oe.index+Oe.length);De=fe.join(":")+"::"+Ie.join(":")}else De=ge.join(":");return X&&(De+="%"+X),De}return c}var I=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,k=void 0==="".match(/(){0}/)[1];function z(c){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P={},F=!1!==u.iri?i:n;"suffix"===u.reference&&(c=(u.scheme?u.scheme+":":"")+"//"+c);var V=c.match(I);if(V){k?(P.scheme=V[1],P.userinfo=V[3],P.host=V[4],P.port=parseInt(V[5],10),P.path=V[6]||"",P.query=V[7],P.fragment=V[8],isNaN(P.port)&&(P.port=V[5])):(P.scheme=V[1]||void 0,P.userinfo=-1!==c.indexOf("@")?V[3]:void 0,P.host=-1!==c.indexOf("//")?V[4]:void 0,P.port=parseInt(V[5],10),P.path=V[6]||"",P.query=-1!==c.indexOf("?")?V[7]:void 0,P.fragment=-1!==c.indexOf("#")?V[8]:void 0,isNaN(P.port)&&(P.port=c.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?V[4]:void 0)),P.host&&(P.host=Pe(_e(P.host,F),F)),P.reference=void 0!==P.scheme||void 0!==P.userinfo||void 0!==P.host||void 0!==P.port||P.path||void 0!==P.query?void 0===P.scheme?"relative":void 0===P.fragment?"absolute":"uri":"same-document",u.reference&&"suffix"!==u.reference&&u.reference!==P.reference&&(P.error=P.error||"URI is not a "+u.reference+" reference.");var X=p[(u.scheme||P.scheme||"").toLowerCase()];if(u.unicodeSupport||X&&X.unicodeSupport)q(P,F);else{if(P.host&&(u.domainHost||X&&X.domainHost))try{P.host=s_toASCII(P.host.replace(F.PCT_ENCODED,Y).toLowerCase())}catch(re){P.error=P.error||"Host's domain name can not be converted to ASCII via punycode: "+re}q(P,n)}X&&X.parse&&X.parse(P,u)}else P.error=P.error||"URI can not be parsed.";return P}function Q(c,u){var P=!1!==u.iri?i:n,F=[];return void 0!==c.userinfo&&(F.push(c.userinfo),F.push("@")),void 0!==c.host&&F.push(Pe(_e(String(c.host),P),P).replace(P.IPV6ADDRESS,function(V,X,re){return"["+X+(re?"%25"+re:"")+"]"})),("number"==typeof c.port||"string"==typeof c.port)&&(F.push(":"),F.push(String(c.port))),F.length?F.join(""):void 0}var K=/^\.\.?\//,x=/^\/\.(\/|$)/,me=/^\/\.\.(\/|$)/,Ae=/^\/?(?:.|\n)*?(?=\/|$)/;function ve(c){for(var u=[];c.length;)if(c.match(K))c=c.replace(K,"");else if(c.match(x))c=c.replace(x,"/");else if(c.match(me))c=c.replace(me,"/"),u.pop();else if("."===c||".."===c)c="";else{var P=c.match(Ae);if(!P)throw new Error("Unexpected dot segment condition");var F=P[0];c=c.slice(F.length),u.push(F)}return u.join("")}function de(c){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=u.iri?i:n,F=[],V=p[(u.scheme||c.scheme||"").toLowerCase()];if(V&&V.serialize&&V.serialize(c,u),c.host&&!P.IPV6ADDRESS.test(c.host)&&(u.domainHost||V&&V.domainHost))try{c.host=u.iri?s_toUnicode(c.host):s_toASCII(c.host.replace(P.PCT_ENCODED,Y).toLowerCase())}catch(se){c.error=c.error||"Host's domain name can not be converted to "+(u.iri?"Unicode":"ASCII")+" via punycode: "+se}q(c,P),"suffix"!==u.reference&&c.scheme&&(F.push(c.scheme),F.push(":"));var X=Q(c,u);if(void 0!==X&&("suffix"!==u.reference&&F.push("//"),F.push(X),c.path&&"/"!==c.path.charAt(0)&&F.push("/")),void 0!==c.path){var re=c.path;!u.absolutePath&&(!V||!V.absolutePath)&&(re=ve(re)),void 0===X&&(re=re.replace(/^\/\//,"/%2F")),F.push(re)}return void 0!==c.query&&(F.push("?"),F.push(c.query)),void 0!==c.fragment&&(F.push("#"),F.push(c.fragment)),F.join("")}function $e(c,u){var P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},V={};return arguments[3]||(c=z(de(c,P),P),u=z(de(u,P),P)),!(P=P||{}).tolerant&&u.scheme?(V.scheme=u.scheme,V.userinfo=u.userinfo,V.host=u.host,V.port=u.port,V.path=ve(u.path||""),V.query=u.query):(void 0!==u.userinfo||void 0!==u.host||void 0!==u.port?(V.userinfo=u.userinfo,V.host=u.host,V.port=u.port,V.path=ve(u.path||""),V.query=u.query):(u.path?("/"===u.path.charAt(0)?V.path=ve(u.path):(V.path=void 0===c.userinfo&&void 0===c.host&&void 0===c.port||c.path?c.path?c.path.slice(0,c.path.lastIndexOf("/")+1)+u.path:u.path:"/"+u.path,V.path=ve(V.path)),V.query=u.query):(V.path=c.path,V.query=void 0!==u.query?u.query:c.query),V.userinfo=c.userinfo,V.host=c.host,V.port=c.port),V.scheme=c.scheme),V.fragment=u.fragment,V}function Se(c,u){return c&&c.toString().replace(u&&u.iri?i.PCT_ENCODED:n.PCT_ENCODED,Y)}var Me={scheme:"http",domainHost:!0,parse:function(u,P){return u.host||(u.error=u.error||"HTTP URIs must have a host."),u},serialize:function(u,P){var F="https"===String(u.scheme).toLowerCase();return(u.port===(F?443:80)||""===u.port)&&(u.port=void 0),u.path||(u.path="/"),u}},Qe={scheme:"https",domainHost:Me.domainHost,parse:Me.parse,serialize:Me.serialize};function Ye(c){return"boolean"==typeof c.secure?c.secure:"wss"===String(c.scheme).toLowerCase()}var He={scheme:"ws",domainHost:!0,parse:function(u,P){var F=u;return F.secure=Ye(F),F.resourceName=(F.path||"/")+(F.query?"?"+F.query:""),F.path=void 0,F.query=void 0,F},serialize:function(u,P){if((u.port===(Ye(u)?443:80)||""===u.port)&&(u.port=void 0),"boolean"==typeof u.secure&&(u.scheme=u.secure?"wss":"ws",u.secure=void 0),u.resourceName){var F=u.resourceName.split("?"),V=E(F,2),X=V[0],re=V[1];u.path=X&&"/"!==X?X:void 0,u.query=re,u.resourceName=void 0}return u.fragment=void 0,u}},Fe={scheme:"wss",domainHost:He.domainHost,parse:He.parse,serialize:He.serialize},$t={},at="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ce="[0-9A-Fa-f]",dt=e(e("%[EFef]"+Ce+"%"+Ce+Ce+"%"+Ce+Ce)+"|"+e("%[89A-Fa-f]"+Ce+"%"+Ce+Ce)+"|"+e("%"+Ce+Ce)),ft=r("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),St=new RegExp(at,"g"),Je=new RegExp(dt,"g"),Le=new RegExp(r("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',ft),"g"),mt=new RegExp(r("[^]",at,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),bt=mt;function ht(c){var u=Y(c);return u.match(St)?u:c}var pt={scheme:"mailto",parse:function(u,P){var F=u,V=F.to=F.path?F.path.split(","):[];if(F.path=void 0,F.query){for(var X=!1,re={},se=F.query.split("&"),ue=0,Ee=se.length;ue<Ee;++ue){var ae=se[ue].split("=");switch(ae[0]){case"to":for(var ye=ae[1].split(","),we=0,he=ye.length;we<he;++we)V.push(ye[we]);break;case"subject":F.subject=Se(ae[1],P);break;case"body":F.body=Se(ae[1],P);break;default:X=!0,re[Se(ae[0],P)]=Se(ae[1],P)}}X&&(F.headers=re)}F.query=void 0;for(var oe=0,ge=V.length;oe<ge;++oe){var le=V[oe].split("@");if(le[0]=Se(le[0]),P.unicodeSupport)le[1]=Se(le[1],P).toLowerCase();else try{le[1]=s_toASCII(Se(le[1],P).toLowerCase())}catch(Be){F.error=F.error||"Email address's domain name can not be converted to ASCII via punycode: "+Be}V[oe]=le.join("@")}return F},serialize:function(u,P){var F=u,V=function b(c){return null!=c?c instanceof Array?c:"number"!=typeof c.length||c.split||c.setInterval||c.call?[c]:Array.prototype.slice.call(c):[]}(u.to);if(V){for(var X=0,re=V.length;X<re;++X){var se=String(V[X]),ue=se.lastIndexOf("@"),Ee=se.slice(0,ue).replace(Je,ht).replace(Je,h).replace(Le,M),ae=se.slice(ue+1);try{ae=P.iri?s_toUnicode(ae):s_toASCII(Se(ae,P).toLowerCase())}catch(oe){F.error=F.error||"Email address's domain name can not be converted to "+(P.iri?"Unicode":"ASCII")+" via punycode: "+oe}V[X]=Ee+"@"+ae}F.path=V.join(",")}var ye=u.headers=u.headers||{};u.subject&&(ye.subject=u.subject),u.body&&(ye.body=u.body);var we=[];for(var he in ye)ye[he]!==$t[he]&&we.push(he.replace(Je,ht).replace(Je,h).replace(mt,M)+"="+ye[he].replace(Je,ht).replace(Je,h).replace(bt,M));return we.length&&(F.query=we.join("&")),F}},Pt=/^([^\:]+)\:(.*)/,S={scheme:"urn",parse:function(u,P){var F=u.path&&u.path.match(Pt),V=u;if(F){var X=P.scheme||V.scheme||"urn",re=F[1].toLowerCase(),se=F[2],Ee=p[X+":"+(P.nid||re)];V.nid=re,V.nss=se,V.path=void 0,Ee&&(V=Ee.parse(V,P))}else V.error=V.error||"URN can not be parsed.";return V},serialize:function(u,P){var V=u.nid,re=p[(P.scheme||u.scheme||"urn")+":"+(P.nid||V)];re&&(u=re.serialize(u,P));var se=u;return se.path=(V||P.nid)+":"+u.nss,se}},J=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,U={scheme:"urn:uuid",parse:function(u,P){var F=u;return F.uuid=F.nss,F.nss=void 0,!P.tolerant&&(!F.uuid||!F.uuid.match(J))&&(F.error=F.error||"UUID is not valid."),F},serialize:function(u,P){var F=u;return F.nss=(u.uuid||"").toLowerCase(),F}};p[Me.scheme]=Me,p[Qe.scheme]=Qe,p[He.scheme]=He,p[Fe.scheme]=Fe,p[pt.scheme]=pt,p[S.scheme]=S,p[U.scheme]=U,a.SCHEMES=p,a.pctEncChar=M,a.pctDecChars=Y,a.parse=z,a.removeDotSegments=ve,a.serialize=de,a.resolveComponents=$e,a.resolve=function ke(c,u,P){var F=function o(c,u){var P=c;if(u)for(var F in u)P[F]=u[F];return P}({scheme:"null"},P);return de($e(z(c,F),z(u,F),F,!0),F)},a.normalize=function Ne(c,u){return"string"==typeof c?c=de(z(c,u),u):"object"===v(c)&&(c=z(de(c,u),u)),c},a.equal=function Ke(c,u,P){return"string"==typeof c?c=de(z(c,P),P):"object"===v(c)&&(c=de(c,P)),"string"==typeof u?u=de(z(u,P),P):"object"===v(u)&&(u=de(u,P)),c===u},a.escapeComponent=function Ge(c,u){return c&&c.toString().replace(u&&u.iri?i.ESCAPE:n.ESCAPE,M)},a.unescapeComponent=Se,Object.defineProperty(a,"__esModule",{value:!0})}(t)},9344:W=>{function t(r,e,v,h,b,o,m){try{var n=r[o](m),i=n.value}catch(E){return void v(E)}n.done?e(i):Promise.resolve(i).then(h,b)}W.exports=function a(r){return function(){var e=this,v=arguments;return new Promise(function(h,b){var o=r.apply(e,v);function m(i){t(o,h,b,m,n,"next",i)}function n(i){t(o,h,b,m,n,"throw",i)}m(void 0)})}},W.exports.__esModule=!0,W.exports.default=W.exports},4775:W=>{"use strict";W.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},98:W=>{"use strict";W.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}}]);