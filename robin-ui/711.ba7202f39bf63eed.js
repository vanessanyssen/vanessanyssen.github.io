"use strict";(self.webpackChunkrobin=self.webpackChunkrobin||[]).push([[711],{797:(E,I,o)=>{o.d(I,{dU:()=>w,t4:()=>C,Ox:()=>b,Pu:()=>R,X8:()=>f,WS:()=>y,kn:()=>N,jH:()=>h,Cy:()=>L});var t=o(5158);const n={showMaskOnFocus:!1,showMaskOnHover:!1,undoOnEscape:!1},s={groupSeparator:" ",allowMinus:!1,shortcuts:{k:"",m:""}},M=(0,t.Xf)({...n,mask:"99.99.99-999.99"}),l=(0,t.Xf)({...n,regex:"^[1-9]\\d*/[1-9]\\d*$"}),Z=(0,t.Xf)({...n,alias:"integer",...s}),v=(0,t.Xf)({...n,alias:"currency",...s,radixPoint:","}),d=(0,t.Xf)({...v,digits:4}),g=(0,t.Xf)({...n,inputmode:"text",alias:"datetime",inputFormat:"dd/mm/yyyy",placeholder:"_"}),p=(0,t.Xf)({...g,inputFormat:"mm/yyyy"}),T={inputMask:u=>({key:"INVALID_MONTH_FORMAT",interpolateParams:{requiredMask:p.inputFormat?.toUpperCase()}})},k={inputMask:u=>({key:"INVALID_DATE_FORMAT",interpolateParams:{requiredMask:g.inputFormat?.toUpperCase()}})},N={options:M,placeholder:"00.00.00-000.00",errorMessage:{inputMask:u=>({key:"INVALID_FORMAT",interpolateParams:{requiredMask:"00.00.00-000.00"}})}},y={options:l,placeholder:"1/1",errorMessage:{inputMask:u=>({key:"INVALID_FRACTION"})}},h={options:Z,placeholder:"0"},R={options:v,placeholder:"0,00"},b={options:d,placeholder:"0,0000"},f={options:g,errorMessage:k},L={options:p,errorMessage:T};var c=o(4650),A=o(4006);let C=(()=>{class u{constructor(){this.elRef=(0,c.f3M)(c.SBq,{self:!0}),this.formControlNameDirective=(0,c.f3M)(A.u,{self:!0})}onBlur(){""!==this.formControlNameDirective.control.value&&""===this.elRef.nativeElement.value&&this.formControlNameDirective.control.setValue("")}}return u.\u0275fac=function(D){return new(D||u)},u.\u0275dir=c.lG2({type:u,selectors:[["input","formControlName","","vwResetValueIfEmpty",""]],hostBindings:function(D,U){1&D&&c.NdJ("blur",function(){return U.onBlur()})},standalone:!0}),u})();const w=[t.zz,C]},8711:(E,I,o)=>{o.r(I),o.d(I,{CapitalsPage:()=>P});var t=o(4650),n=o(4006),s=o(8453),M=o(7508),l=o(8723),Z=o(655),v=o(6895),d=o(797),g=o(4290),p=o(167);const T=e=>({startDate:(0,l.Vn)(e.startMonth),inss:(0,l.bI)(e.inss),capitals:e.items.map(a=>({date:(0,l.Vn)(a.date),amount:(0,l.W_)(a.amount),percentage:parseFloat(a.percentage)}))}),k=e=>({form:{startMonth:{data:e.startMonth},inss:{data:e.inss}},array:e.items.map(a=>({date:{data:a.date},amount:{data:(0,l.R3)(a.amount," \u20ac")},percentage:{data:a.percentage}}))}),x=e=>({accountedAmount:{data:e.accountedAmount,class:"result",pipe:"currency"},capitals:e.capitals.map(a=>({isRecent:{data:a.isRecent,pipe:"enum"},age:{data:a.age||"",pipe:"number",args:"0"},rate:{data:a?.rate?a.rate/100:"",pipe:"percent",args:"4"},rente:{data:a.rente,pipe:"currency",args:"2"}}))}),N=(0,l._Y)((0,l.s0)({P_100:"100 %",P_90:"\xa0\xa090 %",P_0:"\xa0\xa0\xa0\xa00 %"}));var y=o(3416),h=o(5158);function R(e,a){if(1&e&&(t.TgZ(0,"tr",10)(1,"th",11),t._uU(2),t.qZA(),t.TgZ(3,"td",12)(4,"vw-form-field")(5,"div",13),t._UZ(6,"input",14),t.ALo(7,"translate"),t.TgZ(8,"span",15),t._UZ(9,"i",16),t.qZA()()()(),t.TgZ(10,"td",12)(11,"vw-form-field")(12,"div",13),t._UZ(13,"input",17),t.TgZ(14,"span",15),t._UZ(15,"i",18),t.qZA()()()(),t.TgZ(16,"td",12)(17,"vw-form-field"),t._UZ(18,"select",19),t.ALo(19,"translate"),t.qZA()(),t.TgZ(20,"td",20),t._UZ(21,"app-form-array-remove-row",21),t.qZA()()),2&e){const r=a.$implicit,i=a.index,m=t.oxw();t.Q6J("formGroupName",i),t.xp6(2),t.Oqu(i+1),t.xp6(4),t.s9C("placeholder",t.lcZ(7,13,m.t.FORM.DATE_FORMAT)),t.Q6J("inputMask",m.dateMask.options)("overriddenMessages",m.dateMask.errorMessage)("dynMaxDate",m.dynMaxDate),t.xp6(7),t.s9C("placeholder",m.currencyLongMask.placeholder),t.Q6J("inputMask",m.currencyLongMask.options),t.xp6(5),t.s9C("placeholder",t.lcZ(19,15,m.t.FORM.CHOOSE)),t.Q6J("options",m.percentages)("ariaSelected",r.value.percentage),t.xp6(3),t.Q6J("vwVisibleIf",m.arrayFormRows.length>1)("rowIndex",i)}}class f{constructor(){this.formGroupDirective=(0,t.f3M)(n.sg),this.currencyLongMask=d.Ox,this.dateMask=d.X8,this.percentages=N,this.t=(0,t.f3M)(M.$z)}ngOnInit(){this.arrayFormRows=this.formGroupDirective.form.controls.items.controls}}f.\u0275fac=function(a){return new(a||f)},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-capitals-form-array"]],inputs:{dynMaxDate:"dynMaxDate",newItemFactory:"newItemFactory"},standalone:!0,features:[t._Bn([],[{provide:n.gN,useExisting:n.sg}]),t.jDz],decls:28,vars:20,consts:[["appFormArrayErrorsContainer","",1,"table-responsive","mb-3"],["formArrayName","items",1,"table"],[1,"caption-top"],["scope","col"],[1,"none"],["id","date",1,"required"],["id","amount",1,"required"],["id","percentage",1,"required"],[3,"newItemFactory"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["scope","row",1,"mw-xs"],[1,"mw-lg"],["appFormControlErrorsContainer","",1,"input-group"],["formControlName","date","type","text","aria-labelledby","date",1,"form-control",3,"placeholder","inputMask","overriddenMessages","dynMaxDate"],[1,"input-group-text"],[1,"fa-regular","fa-calendar-check"],["vwResetValueIfEmpty","","formControlName","amount","type","text","aria-labelledby","amount",1,"form-control",3,"inputMask","placeholder"],[1,"fa-solid","fa-euro-sign"],["formControlName","percentage","aria-labelledby","percentage","vw-form-select-options","",1,"form-select",3,"placeholder","options","ariaSelected"],[1,"mw-xs"],[3,"vwVisibleIf","rowIndex"]],template:function(a,r){1&a&&(t.TgZ(0,"div",0)(1,"table",1)(2,"caption",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"thead")(6,"tr")(7,"th",3)(8,"label",4),t.ALo(9,"translate"),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"th",3)(13,"label",5),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"th",3)(17,"label",6),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t.TgZ(20,"th",3)(21,"label",7),t._uU(22),t.ALo(23,"translate"),t.qZA()(),t.TgZ(24,"th",3),t._UZ(25,"app-form-array-add-row",8),t.qZA()()(),t.TgZ(26,"tbody"),t.YNc(27,R,22,17,"tr",9),t.qZA()()()),2&a&&(t.xp6(3),t.Oqu(t.lcZ(4,8,r.t.DOMAIN.CAPITALS)),t.xp6(5),t.uIk("aria-label",t.lcZ(9,10,r.t.ARIA_LABEL.ROW_NUMBER)),t.xp6(2),t.Oqu(t.lcZ(11,12,r.t.FORM.ROW_NUMBER)),t.xp6(4),t.Oqu(t.lcZ(15,14,r.t.CAPITALS.date)),t.xp6(4),t.Oqu(t.lcZ(19,16,r.t.CAPITALS.amount)),t.xp6(4),t.Oqu(t.lcZ(23,18,r.t.CAPITALS.percentage)),t.xp6(3),t.Q6J("newItemFactory",r.newItemFactory),t.xp6(2),t.Q6J("ngForOf",r.arrayFormRows))},dependencies:[v.ax,n.UX,n.Fj,n.EJ,n.JJ,n.JL,n.u,n.x0,n.CE,y.aw,y.X$,s.Zg,s.tS,s.wh,s.tJ,p.hg,p.LW,p.vA,p.IQ,h.zz,h.J6,p.OY,d.t4,s.$9,s.Uw,g.zm],encapsulation:2,changeDetection:0}),(0,Z.gn)([g.aH],f.prototype,"newItemFactory",void 0);class c{constructor(){this.formGroupDirective=(0,t.f3M)(n.sg),this.inssMask=d.kn,this.monthMask=d.Cy,this.t=(0,t.f3M)(M.$z),this.dynMaxDateChange=new t.vpe}ngOnInit(){this.ctrls=this.formGroupDirective.form.controls}emitMaxDateChange(a){const r=a?a.value:"";this.dynMaxDateChange.emit(r?(0,l.t3)(r):(0,l.Lg)())}}c.\u0275fac=function(a){return new(a||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-capitals-form-inline"]],inputs:{dynMaxDate:"dynMaxDate"},outputs:{dynMaxDateChange:"dynMaxDateChange"},standalone:!0,features:[t._Bn([],[{provide:n.gN,useExisting:n.sg}]),t.jDz],decls:16,vars:14,consts:[[1,"row","g-2"],[1,"col-xl-3","col-lg-4","col-md-6","mb-3"],["labelClass","form-label",3,"label"],["appFormControlErrorsContainer","",1,"input-group"],["formControlName","startMonth","type","text",1,"form-control",3,"inputMask","placeholder","overriddenMessages","blur"],[1,"input-group-text"],[1,"fa-regular","fa-calendar-check"],["formControlName","inss","type","text",1,"form-control",3,"inputMask","placeholder","overriddenMessages"],[1,"fa-solid","fa-id-card"]],template:function(a,r){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"vw-form-field",2),t.ALo(3,"translate"),t.TgZ(4,"div",3)(5,"input",4),t.NdJ("blur",function(m){return r.emitMaxDateChange(m.target)}),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"span",5),t._UZ(8,"i",6),t.qZA()()()(),t.TgZ(9,"div",1)(10,"vw-form-field",2),t.ALo(11,"translate"),t.TgZ(12,"div",3),t._UZ(13,"input",7),t.TgZ(14,"span",5),t._UZ(15,"i",8),t.qZA()()()()()),2&a&&(t.xp6(2),t.s9C("label",t.lcZ(3,8,r.t.CAPITALS.startMonth)),t.xp6(3),t.s9C("placeholder",t.lcZ(6,10,r.t.FORM.MONTH_FORMAT)),t.Q6J("inputMask",r.monthMask.options)("overriddenMessages",r.monthMask.errorMessage),t.xp6(5),t.s9C("label",t.lcZ(11,12,r.t.CAPITALS.inss)),t.xp6(3),t.s9C("placeholder",r.inssMask.placeholder),t.Q6J("inputMask",r.inssMask.options)("overriddenMessages",r.inssMask.errorMessage))},dependencies:[n.UX,n.Fj,n.JJ,n.u,y.aw,y.X$,s.Zg,s.tS,p.hg,p.LW,p.vA,h.zz,h.J6],encapsulation:2,changeDetection:0}),(0,Z.gn)([g.aH],c.prototype,"dynMaxDate",void 0);var A=o(7402),C=o(1004);let F=(()=>{class e extends M.i8{constructor(){super(...arguments),this.api=(0,t.f3M)(M.Io)}getResult(r){return this.api.post(this.api.endpoints.capitals,r)}}return e.\u0275fac=function(){let a;return function(i){return(a||(a=t.n5z(e)))(i||e)}}(),e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),U=(()=>{class e{constructor(){this.injector=(0,t.f3M)(t.lqb),this.form=function w(){const e=(0,t.f3M)(n.qu);return e.group({startMonth:e.nonNullable.control("",{validators:[n.kI.required,C.D0.min(A.pw),C.D0.max((0,l.nD)())],updateOn:"blur"}),inss:e.nonNullable.control("",{validators:n.kI.required,updateOn:"blur"}),items:e.nonNullable.array([])})}(),this.newItemFactory=()=>this.injector.runInContext(()=>function u(){const e=(0,t.f3M)(n.qu);return e.group({date:e.nonNullable.control("",{validators:[n.kI.required,C.D0.min(A.P1)],updateOn:"blur"}),amount:e.nonNullable.control("",n.kI.required),percentage:e.control(null,n.kI.required)})}()),this.dynMaxDate=(0,l.Lg)()}ngOnInit(){this.formArray=this.form.controls.items,this.formArray.push(this.newItemFactory())}resetForm(){this.dynMaxDate=(0,l.Lg)(),this.formArray.clear(),this.formArray.push(this.newItemFactory())}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-capitals-container"]],standalone:!0,features:[t._Bn([],[{provide:M.OC,useClass:F},{provide:s.TO,useValue:k},{provide:s.Me,useValue:T},{provide:s.Ng,useValue:x}]),t.jDz],decls:3,vars:4,consts:[[3,"formGroup","isReset"],[3,"dynMaxDate","dynMaxDateChange"],[3,"newItemFactory","dynMaxDate"]],template:function(r,i){1&r&&(t.TgZ(0,"app-base-form-container",0),t.NdJ("isReset",function(){return i.resetForm()}),t.TgZ(1,"app-capitals-form-inline",1),t.NdJ("dynMaxDateChange",function(S){return i.dynMaxDate=S}),t.qZA(),t._UZ(2,"app-capitals-form-array",2),t.qZA()),2&r&&(t.Q6J("formGroup",i.form),t.xp6(1),t.Q6J("dynMaxDate",i.dynMaxDate),t.xp6(1),t.Q6J("newItemFactory",i.newItemFactory)("dynMaxDate",i.dynMaxDate))},dependencies:[n.UX,n.JL,n.sg,s.wM,c,f],encapsulation:2,changeDetection:0}),e})(),P=(()=>{class e extends((0,A.Y2)()){}return e.\u0275fac=function(){let a;return function(i){return(a||(a=t.n5z(e)))(i||e)}}(),e.\u0275cmp=t.Xpm({type:e,selectors:[["page-capitals"]],standalone:!0,features:[t.qOj,t.jDz],decls:1,vars:0,template:function(r,i){1&r&&t._UZ(0,"app-capitals-container")},dependencies:[U],encapsulation:2,changeDetection:0}),e})()}}]);