"use strict";(self.webpackChunkrobin=self.webpackChunkrobin||[]).push([[99],{797:(b,C,r)=>{r.d(C,{dU:()=>E,t4:()=>T,Ox:()=>y,Pu:()=>w,X8:()=>O,WS:()=>F,kn:()=>A,jH:()=>k,Cy:()=>N});var t=r(5158);const m={showMaskOnFocus:!1,showMaskOnHover:!1,undoOnEscape:!1},g={groupSeparator:" ",allowMinus:!1,shortcuts:{k:"",m:""}},s=(0,t.Xf)({...m,mask:"99.99.99-999.99"}),d=(0,t.Xf)({...m,regex:"^[1-9]\\d*/[1-9]\\d*$"}),f=(0,t.Xf)({...m,alias:"integer",...g}),e=(0,t.Xf)({...m,alias:"currency",...g,radixPoint:","}),h=(0,t.Xf)({...e,digits:4}),i=(0,t.Xf)({...m,inputmode:"text",alias:"datetime",inputFormat:"dd/mm/yyyy",placeholder:"_"}),p=(0,t.Xf)({...i,inputFormat:"mm/yyyy"}),I={inputMask:c=>({key:"INVALID_MONTH_FORMAT",interpolateParams:{requiredMask:p.inputFormat?.toUpperCase()}})},M={inputMask:c=>({key:"INVALID_DATE_FORMAT",interpolateParams:{requiredMask:i.inputFormat?.toUpperCase()}})},A={options:s,placeholder:"00.00.00-000.00",errorMessage:{inputMask:c=>({key:"INVALID_FORMAT",interpolateParams:{requiredMask:"00.00.00-000.00"}})}},F={options:d,placeholder:"1/1",errorMessage:{inputMask:c=>({key:"INVALID_FRACTION"})}},k={options:f,placeholder:"0"},w={options:e,placeholder:"0,00"},y={options:h,placeholder:"0,0000"},O={options:i,errorMessage:M},N={options:p,errorMessage:I};var u=r(4650),Z=r(4006);let T=(()=>{class c{constructor(){this.elRef=(0,u.f3M)(u.SBq,{self:!0}),this.formControlNameDirective=(0,u.f3M)(Z.u,{self:!0})}onBlur(){""!==this.formControlNameDirective.control.value&&""===this.elRef.nativeElement.value&&this.formControlNameDirective.control.setValue("")}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275dir=u.lG2({type:c,selectors:[["input","formControlName","","vwResetValueIfEmpty",""]],hostBindings:function(a,l){1&a&&u.NdJ("blur",function(){return l.onBlur()})},standalone:!0}),c})();const E=[t.zz,T]},6099:(b,C,r)=>{r.r(C),r.d(C,{AllowanceFromIncomePage:()=>c});var t=r(4006),m=r(6113),g=r(7665),s=r(8453),d=r(7508),f=r(4290),e=r(4650),h=r(797),i=r(7402),p=r(167),I=r(3416),M=r(5158);let v=(()=>{class o{constructor(){this.formGroupDirective=(0,e.f3M)(t.sg),this.currencyMask=h.Pu,this.householdCategory=i.XH,this.householdCategoryOptions=i.k0,this.medicalCategoryOptions=i.Z$,this.monthMask=h.Cy,this.t=(0,e.f3M)(d.$z)}ngOnInit(){this.ctrls=this.formGroupDirective.form.controls}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-allowance-from-income-form-inline"]],standalone:!0,features:[e._Bn([],[{provide:t.gN,useExisting:t.sg}]),e.jDz],decls:30,vars:35,consts:[["vwFormResetObserver","",1,"row","g-2"],[1,"col-lg-3","col-md-6","mb-5"],["labelClass","form-label",3,"label"],["appFormControlErrorsContainer","",1,"input-group"],["formControlName","month","type","text",1,"form-control",3,"placeholder","inputMask","overriddenMessages"],[1,"input-group-text"],[1,"fa-regular","fa-calendar-check"],["formControlName","medicalCategory","vw-form-select-options","",1,"form-select",3,"placeholder","selectPlaceholder","options","ariaSelected"],[1,"col-lg-3","col-md-6","mb-3"],["formControlName","householdCategory","vw-form-select-options","",1,"form-select",3,"placeholder","options","ariaSelected","change"],[1,"mt-2",3,"vwVisibleIf"],["labelClass","form-check-label",1,"form-check",3,"label"],["formControlName","bothEntitled","type","checkbox",1,"form-check-input"],["vwResetValueIfEmpty","","formControlName","income","type","text",1,"form-control",3,"inputMask","placeholder"],[1,"fa-solid","fa-euro-sign"]],template:function(l,n){1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"vw-form-field",2),e.ALo(3,"translate"),e.TgZ(4,"div",3),e._UZ(5,"input",4),e.ALo(6,"translate"),e.TgZ(7,"span",5),e._UZ(8,"i",6),e.qZA()()()(),e.TgZ(9,"div",1)(10,"vw-form-field",2),e.ALo(11,"translate"),e._UZ(12,"select",7),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",8)(15,"vw-form-field",2),e.ALo(16,"translate"),e.TgZ(17,"select",9),e.NdJ("change",function(){return n.ctrls.bothEntitled.reset()}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",10)(20,"vw-form-field",11),e.ALo(21,"translate"),e._UZ(22,"input",12),e.qZA()()(),e.TgZ(23,"div",1)(24,"vw-form-field",2),e.ALo(25,"translate"),e.TgZ(26,"div",3),e._UZ(27,"input",13),e.TgZ(28,"span",5),e._UZ(29,"i",14),e.qZA()()()()()),2&l&&(e.xp6(2),e.Q6J("label",e.lcZ(3,19,n.t.ALLOWANCE.month)),e.xp6(3),e.s9C("placeholder",e.lcZ(6,21,n.t.FORM.MONTH_FORMAT)),e.Q6J("inputMask",n.monthMask.options)("overriddenMessages",n.monthMask.errorMessage),e.xp6(5),e.Q6J("label",e.lcZ(11,23,n.t.ALLOWANCE.medicalCategory)),e.xp6(2),e.s9C("placeholder",e.lcZ(13,25,n.t.FORM.CHOOSE)),e.Q6J("selectPlaceholder",!1)("options",n.medicalCategoryOptions)("ariaSelected",n.ctrls.medicalCategory.value),e.xp6(3),e.Q6J("label",e.lcZ(16,27,n.t.ALLOWANCE.householdCategory)),e.xp6(2),e.s9C("placeholder",e.lcZ(18,29,n.t.FORM.CHOOSE)),e.Q6J("options",n.householdCategoryOptions)("ariaSelected",n.ctrls.householdCategory.value),e.xp6(2),e.Q6J("vwVisibleIf",n.ctrls.householdCategory.value===n.householdCategory.Duo),e.xp6(1),e.Q6J("label",e.lcZ(21,31,n.t.ALLOWANCE.bothEntitled)),e.xp6(2),e.uIk("aria-checked",n.ctrls.bothEntitled.value),e.xp6(2),e.Q6J("label",e.lcZ(25,33,n.t.ALLOWANCE.income)),e.xp6(3),e.s9C("placeholder",n.currencyMask.placeholder),e.Q6J("inputMask",n.currencyMask.options))},dependencies:[t.UX,t.Fj,t.Wl,t.EJ,t.JJ,t.u,I.aw,I.X$,s.Zg,s.tS,s._c,p.hg,p.LW,p.vA,p.IQ,M.zz,M.J6,h.t4,f.zm],encapsulation:2,changeDetection:0}),o})();var A=r(1004);let k=(()=>{class o extends d.i8{constructor(){super(...arguments),this.api=(0,e.f3M)(d.SZ)}getResult(l){return this.api.post(this.api.endpoints.allowanceFromIncome,l)}}return o.\u0275fac=function(){let a;return function(n){return(a||(a=e.n5z(o)))(n||o)}}(),o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var w=r(4111),y=r(8723);const O=o=>({startDate:(0,y.Vn)(o.month),medicalCategory:(0,w.F)(o.medicalCategory),income:(0,y.W_)(o.income),householdCategory:o.householdCategory,...o.householdCategory===i.XH.Duo&&{duoThab:o.bothEntitled}}),N=o=>({form:{month:{data:o.month},medicalCategory:{data:o.medicalCategory},householdCategory:{data:o.householdCategory,pipe:"enum"},bothEntitled:{data:o.bothEntitled,class:o.householdCategory===i.XH.Mono?"d-none":"",pipe:"enum"},income:{data:(0,y.R3)(o.income," \u20ac")}}}),u=({reduction:o,allowance:a})=>({reduction:{income:{data:o.income,pipe:"number",args:"2"},exoneration:{data:o.exoneration,pipe:"number",args:"2"},category:{data:o.category,pipe:"enum"},exonerated:{data:o.exonerated,pipe:"number",args:"2"},correctionFactor:{data:o.correctionFactor},reduction:{data:o.reduction,pipe:"number",args:"2"}},allowance:{category:{data:a.category.slice(-1)},maximum:{data:a.maximum,pipe:"number",args:"2"},yearly:{data:a.yearly,pipe:"number",args:"2"},majoration:{data:!!a.majoration},monthly:{data:a.monthly,pipe:"currency"}}});function Z(o,a){if(1&o&&e._UZ(0,"app-reduction-response",2)(1,"app-allowance-response",3),2&o){const l=a.$implicit;e.Q6J("reduction",l.reduction),e.xp6(1),e.Q6J("reduction",l.reduction.reduction)("allowance",l.allowance)}}let E=(()=>{class o{constructor(){this.form=function F(){const o=(0,e.f3M)(t.qu);return o.group({month:o.nonNullable.control("",{validators:[t.kI.required,A.D0.min(i.pw)],updateOn:"blur"}),medicalCategory:o.control(null,t.kI.required),householdCategory:o.control(null,t.kI.required),bothEntitled:o.nonNullable.control(!1),income:o.nonNullable.control("",t.kI.required)})}()}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-allowance-from-income-container"]],standalone:!0,features:[e._Bn([],[{provide:d.OC,useClass:k},{provide:s.TO,useValue:N},{provide:s.Me,useValue:O},{provide:s.Ng,useValue:u}]),e.jDz],decls:3,vars:2,consts:[[3,"formGroup"],[3,"typeOf"],[3,"reduction"],[3,"reduction","allowance"]],template:function(l,n){1&l&&(e.TgZ(0,"app-base-form-container",0),e._UZ(1,"app-allowance-from-income-form-inline"),e.YNc(2,Z,2,3,"ng-template",1),e.qZA()),2&l&&(e.Q6J("formGroup",n.form),e.xp6(2),e.Q6J("typeOf",n.allowanceFromIncomeView))},dependencies:[t.UX,t.JL,t.sg,s.wM,v,m.b,g.E,f.Co],encapsulation:2,changeDetection:0}),o})(),c=(()=>{class o{}return o.\u0275fac=function(l){return new(l||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["page-allowance-from-income"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(l,n){1&l&&e._UZ(0,"app-allowance-from-income-container")},dependencies:[E],encapsulation:2,changeDetection:0}),o})()}}]);